!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self)["jessibuca-talk"]=t()}(this,(function(){"use strict";const e=t;function t(e,r){const i=s();return(t=function(e,t){return i[e-=139]})(e,r)}!function(e,r){const s=t,i=e();for(;;)try{if(439171===parseInt(s(153))/1*(-parseInt(s(152))/2)+-parseInt(s(148))/3+-parseInt(s(150))/4+-parseInt(s(157))/5+parseInt(s(141))/6*(-parseInt(s(144))/7)+parseInt(s(149))/8*(-parseInt(s(146))/9)+-parseInt(s(139))/10*(-parseInt(s(145))/11))break;i.push(i.shift())}catch(e){i.push(i.shift())}}(s);class r{on(e,r,s){const i=t,o=this.e||(this.e={});return(o[e]||(o[e]=[]))[i(158)]({fn:r,ctx:s}),this}[e(143)](e,r,s){const i=this;function o(){const n=t;i[n(155)](e,o);for(var a=arguments[n(156)],c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];r[n(151)](s,c)}return o._=r,this.on(e,o,s)}[e(147)](t){const r=e,s=((this.e||(this.e={}))[t]||[])[r(154)]();for(var i=arguments[r(156)],o=new Array(i>1?i-1:0),n=1;n<i;n++)o[n-1]=arguments[n];for(let e=0;e<s[r(156)];e+=1)s[e].fn.apply(s[e].ctx,o);return this}[e(155)](t,r){const s=e,i=this.e||(this.e={});if(!t)return Object[s(142)](i)[s(140)]((e=>{delete i[e]})),void delete this.e;const o=i[t],n=[];if(o&&r)for(let e=0,t=o[s(156)];e<t;e+=1)o[e].fn!==r&&o[e].fn._!==r&&n.push(o[e]);return n[s(156)]?i[t]=n:delete i[t],this}}function s(){const e=["77rxKvDc","55eovXVX","18abgaMq","emit","2250417apMwzX","2220896JIrSRw","992908EyYXxz","apply","128404QZIyLA","3jloLxK","slice","off","length","3499270vakDob","push","6971620mtmguy","forEach","327594SGzzoa","keys","once"];return(s=function(){return e})()}const i=M;function o(){const e=["mute","tempStream","sourceclose","video自动渲染失败","wasmUseVideoRenderError","不支持硬解码H265","jbprovm","buffer","decoderWorkerInit","right-up","webFullscreen","talkFailedAndStop","webcodecsDecodeError","kBps","playbackRateChange","resetAudioDecode","webcodecsDecodeConfigureError","loadeddata","流异常","active","wasmWidthOrHeightChange","audioResumeState","volume","webcodecsUnsupportedConfigurationError","left-up","webrtc不支持H265","demuxed-track","MULAW","AbortError","load-complete","mseWidthOrHeightChange","6oaocmg","初始化worker失败","no-audio-track","crashLog","recording","webrtcIceCandidateError","videoSEISyncPts","drawingRect","加载超时重播失败","decoder-pro-hard-not-wasm.js","recordStart","loading","ended","playerAudio","playbackPauseOrResume","pauseAndNextPlayUseLastFrameShow","MEDIA_ERR_DECODE","NotAllowedError","音频通道错误","websocketClose","缓冲区已满","occlusionDetectActive","csrc","websocketError","complete","aacSequenceHeader","解析视频分辨率失败","playbackPrecision","recordEnd","readystatechange","aiOcclusionDetectResult","isMpeg4","webrtcChecking","webgl",'video/mp4; codecs="hev1.1.6.L123.b0"',"播放地址不能为空","wasm解码失败","container","offscreen","websocket1006Error","websocketOpenTimeout","apertureFar","buffering","multiFullscreen","playback",'video/mp4; codecs="avc1.64002A"',"idle","performance","transport","red","certificate","m7s","audioNalu","playAudio","tenMin","remote-outbound-rtp","aiFaceDetectorInfo","talk","98380GBXubq","playVodPauseOrResume","pause","请求失败","cruiseStop","destroyEnd","10min","error","notConnect","loadstart","blur","opus","websocketMessage","focusNear","leftDown","download","mediaSourceAudioG711NotSupport","sendWsMessage","clickInitPlayer","webrtcCompleted","streamAbps","visibilityHiddenTimeout","simdDecodeError","ttfb","mediaSourceUseCanvasRenderPlayFailed","talkGetUserMediaTimeout","decoder-pro-audio.js","fiStop","Cannot call 'decode' on a closed codec","stream-parsed","webTransport","playbackSeek","receiver","playVodTime","timeout","fullscreenError","key","recordBlob","MEDIA_ERR_SRC_NOT_SUPPORTED","audio packet",'video/mp4;codecs="hev1.1.6.L120.90"',"mediaSourceBufferedIsZeroError","record","multiDblSelected","isM7sCrypto","playVodTimeCache","wcsWidthOrHeightChange","inView","343236FPoSYG","paused","playVodPause","streamDts","mpeg4","open","render","isWebrtcForSRS","playbackStreamVideoFps","stop","初始化音频解码器失败","JessibucaPro","multiDragleave","streamQualityChange","streamVbps","pressureObserverCpu","streamError","talkStreamOpen","start","aiObjectDetectorInfo","multiSelected","controlSize","30min","half-hour","flv-script-data","Decoding error","playbackTimestamp","isFmp4","audioCode","loadingTimeoutRetryEnd","2lDhbTX","841520eSVEMR","jessibuca-pro-mp4-recorder-decoder.js","outbound-rtp","playVodEnded","wasm","worklet","leftUp","mediaSourceAudioInitTimeout","simd","message","global","apertureNear","metadata","mseDecodeError","mseSourceBufferFull","videoElementPlayingFailed","playbackShowPrecisionChange","mediaSourceTsIsMaxDiff","endstreaming","debug","webrtcOnIceConnectionStateChange","isHls","talkGetUserMediaFail","18022pVLWme","44qQbxiE","warn","1641660gYRpDo","wasmDecodeError","mp4Error","Decoder failure","Decoder error","switch-url-failed","audioPayload","isWebrtc","decode","destroy","netBuf","pcm","mseAddSourceBufferError","object","FMP4","fetchSuccess","data-channel","delta",'video/mp4;codecs="hev1.4.10.L120.90"',"flvScriptData","MP3","webglAlignmentError","isNakedFlow","playbackPause","streamRate","play","stream","3-1","visibilityChange","mp4","multiMousemove","MEDIA_ERR_ABORTED","isWebrtcForZLM","play() failed because the user didn't interact with the document first","speed","playVodVideoSeekedByMse","webcodecsH265NotSupport","multiMousedown","recordCancel","webgl2","rightDown","aliyunRtcError","simple","初始化解码器失败","#000","timeUpdate","image/png","down","playbackStats","zoomExpand","right","webrtcConnected","emptied","recordCreateError","zooming","websocket","webcodecsAudioInitTimeout","streamEnd","offline","不支持该分辨率的视频","hls","mseSourceStartStreaming","webrtcError","image/jpeg","webglContextLostError","sourceopen","playing","talkStreamMsg","flvDemuxBufferSizeTooLarge","hlsError","small","initAudioCodec","webgl 上下文丢失","delayTimeout","delayTimeoutRetryEnd","durationchange","switch-url-success","websocketOpen","canplaythrough","decoder-pro-audio-player.js","mseFirstRenderTime","webrtcClosed","playVodRateChange","68761wOFYtw","currentPts","H265(HEVC)","mse","fetch","fogOpen","ceil","0000000000","talkStreamStart","A key frame is required after configure() or flush()","loadedmetadata","网络超时重播失败","MPEG4","updateConfig","empty","script","iframeIntervalTs","left","volumechange","multiMouseup","right-down","playToRenderTimes","jtt","播放超时重播失败","mseSourceEndStreaming","200CgDRxT","mediaSourceDecoderConfigurationError","playVodSeek","sei-in-time","online","supportHls265","mseSourceBufferBusy","load-retry","load-response-headers","mediaSourceAudioNoDataTimeout","initVideo","wcsDecodeError","H264(AVC)","talkStreamError","等待音频数据超时","1161531BKcxGh","流异常结束","playVodMp4Error","timeupdate","sendMessage","webrtc-closed","initDecoderWorkerTimeout","workerFetch","udp","mseSourceBufferError","track","togglePerformancePanel","videoSmooth","g711a","webrtcFailed","playVodEndedAndReplay","tallWebsocketClosedByError","playbackJustTime","5min","fullscreen$2","seeking","vertical","webrtcOnConnectionStateChange","Webgl 渲染失败","webrtc","mseWorkerAddSourceBufferError","playVodSeekEnd","sender","webm","none","objectDetectActive","self","notSupportNewWasm","#FFCC00","media-source","解码失败","resetDecode","Invalid NAL unit size","初始化解码worker超时","wiperOpen","videoElementPlayingFailedForWebrtc","loadingTimeout","videoSEI","multiMouseover","FLV","The user aborted a request","aiImageDetectResult","mseWaitVideoCanplayTimeout","webrtc-disconnected","streamMessage","fetchError","networkDelayTimeout","closed","networkState","fetchErrorWorker","candidate-pair","MediaSource解码使用canvas渲染失败","videoTimeUpdate","multiMouseout","rightUp","progress","isMulti","tcp","playVodCanplay","MULAW(g711u)","default","playbackEnd","mseSourceClose","multiIndex","peer-connection","talkGetUserMediaSuccess","oneHour","ALAW(g711a)","wasmError","stats","blob","playbackTime","video","HEVC decoding is not supported","waiting","initVideoCodec","ratechange","videoWaiting","audioAACSequenceHeader","networkDelay","resetVideoDecode","ten-min","jbprov","fmp4","audioDecode","base64","playbackPreRateChange","beforeDestroy","multiDragstart","WebTransport","hls-manifest-loaded","videoCodec","avc","player","remote-inbound-rtp","mp3","ptz","AAC","flvBufferData","metadata-parsed","local-candidate","playVod","fiveMin","M7S","videoInfo","3-4","ulaw","streamSuccess","webcodecsAudioNoDataTimeout","rtp","five-min","click","load","flv","drawingRectInfo","playIsNotPauseOrUrlIsNull","white","audioInfo","remove-buffer","one-hour","clearBuffer","halfHour","videoInfoError","playFailedAndPaused","multiDragenter","sei","talkStreamInactive","stalled","worker","recordingTimestamp","webrtc-completed","aliyunRtc","AliyunRtc","left-down","decoder-pro.js","zoomNarrow","memory access out of bounds","close","playVodStats","normal","flvMetaData","log"];return(o=function(){return e})()}!function(e,t){const r=M,s=e();for(;;)try{if(250948===parseInt(r(948))/1*(-parseInt(r(508))/2)+parseInt(r(812))/3*(-parseInt(r(918))/4)+-parseInt(r(485))/5+parseInt(r(511))/6+-parseInt(r(594))/7*(-parseInt(r(619))/8)+parseInt(r(634))/9+-parseInt(r(870))/10*(parseInt(r(509))/11))break;s.push(s.shift())}catch(e){s.push(s.shift())}}(o);const n={websocket:1,fetch:2,hls:3,webrtc:4,webTransport:5,aliyunRtc:6,ts:7};i(566),i(571),i(658),i(900),i(598),i(566),i(658),i(767),i(770);const a={player:"player",playerAudio:i(825),playbackTF:"playbackTF",talk:i(869),playVod:i(740)},c={mp4:i(540),webm:i(662),flv:i(752),mov:"mov"},l={flv:i(752),m7s:i(863),hls:"hls",webrtc:i(658),webTransport:i(900),nakedFlow:"nakedFlow",fmp4:i(722),mpeg4:i(922),aliyunRtc:i(770),ts:"ts",g711:"g711",pcm:i(522)};i(678),i(742),i(525),i(606),i(728),i(771);const u={mse:"mse",wcs:"wcs",offscreen:i(850),wasm:i(489),simd:i(493),mt:"mt",webrtc:i(658),hls:i(571),aliyunRtc:i(770)},h={canvas:"canvas",video:i(711)},d={debug:i(504),warn:"warn"},p={click:i(750),mouseDownAndUp:"mouseDownAndUp"},f={normal:i(778),simple:i(553)},m={normal:"normal",small:i(581)};i(929);i(721),i(787);const g={playIsNotPauseOrUrlIsNull:i(847),webglAlignmentError:i(657),webglContextLostError:i(583),mediaSourceH265NotSupport:i(786),mseSourceBufferFull:i(832),mediaSourceAppendBufferError:i(554),mseSourceBufferError:"解码失败",mseAddSourceBufferError:i(554),mseWorkerAddSourceBufferError:i(554),mediaSourceDecoderConfigurationError:i(554),mediaSourceTsIsMaxDiff:i(799),mseWidthOrHeightChange:i(799),mediaSourceAudioG711NotSupport:"硬解码不支持G711a/u音频格式",mediaSourceAudioInitTimeout:i(928),mediaSourceAudioNoDataTimeout:i(633),mediaSourceUseCanvasRenderPlayFailed:i(690),mediaSourceBufferedIsZeroError:i(799),webcodecsH265NotSupport:i(786),webcodecsUnsupportedConfigurationError:i(554),webcodecsDecodeConfigureError:i(554),webcodecsDecodeError:i(669),webcodecsAudioInitTimeout:"初始化音频解码器失败",webcodecsAudioNoDataTimeout:i(633),wcsWidthOrHeightChange:i(669),wasmDecodeError:i(669),simdDecodeError:i(669),wasmWidthOrHeightChange:i(799),wasmUseVideoRenderError:"video自动渲染失败",videoElementPlayingFailed:i(784),simdH264DecodeVideoWidthIsTooLarge:i(570),networkDelayTimeout:i(605),fetchError:"请求失败",streamEnd:"请求结束",websocket1006Error:i(635),websocketError:i(873),webrtcError:i(873),hlsError:i(873),decoderWorkerInitError:i(813),decoderWorkerWasmError:i(848),videoElementPlayingFailedForWebrtc:i(784),videoInfoError:i(838),webrtcStreamH265:i(806),delayTimeout:i(617),loadingTimeout:i(820),loadingTimeoutRetryEnd:i(820),delayTimeoutRetryEnd:"播放超时重播失败",flvDemuxBufferSizeTooLarge:"FLV待解封装buffer过大",audioChannelError:i(830),aliyunRtcError:i(873),mseWaitVideoCanplayTimeout:i(799),initDecoderWorkerTimeout:i(672)};i(732),i(510),i(778),i(773),i(896),i(821),i(486),i(663),i(699),i(778),i(598),i(540),i(655),i(750),i(711),i(755),i(755),i(861);i(695),i(914),i(624),i(827),i(939),i(702),i(945),i(843),i(533),i(506),i(518),i(543),i(925),i(629),i(924),i(865),i(794),i(519),i(946),i(864),i(717),i(730),i(517),i(707),i(641),i(610),i(718),i(926),i(801),i(588),i(782),i(530),i(837),i(737),i(591),i(666),i(671),i(519),i(723),i(582),i(714),i(776),i(607),i(670),i(759),i(796),i(719),i(887),i(598),i(875),i(688),i(526),i(638),i(875),i(788),i(831);const w={fullscreen:i(653),webFullscreen:i(791),decoderWorkerInit:i(789),play:i(536),playing:i(577),pause:"pause",mute:i(781),load:i(751),loading:i(823),zooming:i(565),drawingRect:i(819),drawingRectInfo:i(753),videoInfo:i(743),timeUpdate:i(556),audioInfo:i(756),log:i(780),error:i(877),kBps:"kBps",timeout:i(904),delayTimeout:i(584),delayTimeoutRetryEnd:i(585),loadingTimeout:i(675),loadingTimeoutRetryEnd:"loadingTimeoutRetryEnd",stats:i(708),performance:"performance",videoSmooth:i(646),faceDetectActive:"faceDetectActive",objectDetectActive:i(664),occlusionDetectActive:i(833),imageDetectActive:"imageDetectActive",record:i(912),recording:i(816),recordingTimestamp:"recordingTimestamp",recordStart:i(822),recordEnd:i(840),recordCreateError:"recordCreateError",recordBlob:"recordBlob",recordCancel:i(549),buffer:"buffer",videoFrame:"videoFrame",videoSEI:i(676),videoSEISyncPts:"videoSEISyncPts",start:"start",metadata:i(497),resize:"resize",volumechange:i(612),volume:"volume",destroy:"destroy",beforeDestroy:i(726),streamEnd:"streamEnd",streamRate:i(535),streamAbps:i(890),streamVbps:i(932),streamDts:i(921),streamSuccess:i(746),streamMessage:i(683),streamError:i(934),streamStats:"streamStats",streamEndInner:"streamEndInner",mseSourceOpen:"mseSourceOpen",mseSourceClose:i(701),mseSourceended:"mseSourceended",mseSourceStartStreaming:i(572),mseSourceEndStreaming:i(618),mseSourceBufferError:"mseSourceBufferError",mseAddSourceBufferError:i(523),mseWorkerAddSourceBufferError:i(659),mseSourceBufferBusy:i(625),mseSourceBufferFull:i(499),videoWaiting:i(716),videoTimeUpdate:i(691),videoSyncAudio:"videoSyncAudio",playToRenderTimes:i(615),playbackTime:i(710),playbackTimestamp:i(944),playbackTimeScroll:"playbackTimeScroll",playbackPrecision:i(839),playbackShowPrecisionChange:i(501),playbackJustTime:i(651),playbackStats:i(559),playbackSeek:i(901),playbackPause:i(534),playbackPauseOrResume:i(826),playbackRateChange:"playbackRateChange",playbackPreRateChange:i(725),playbackEnd:i(700),playVodStats:i(777),playVodPause:i(920),playVodPauseOrResume:i(871),playVodRateChange:i(593),playVodTime:i(903),playVodTimeCache:i(915),playVodSeek:"playVodSeek",playVodSeekEnd:i(660),playVodVideoSeekingByMse:"playVodVideoSeekingByMse",playVodVideoSeekedByMse:i(546),playVodCanplay:i(697),playVodWaiting:"playVodWaiting",playVodEndedAndReplay:i(649),playVodEnded:i(488),ptz:i(735),streamQualityChange:i(931),visibilityChange:"visibilityChange",netBuf:i(521),close:"close",networkDelayTimeout:i(685),togglePerformancePanel:i(645),viewResizeChange:"viewResizeChange",flvDemuxBufferSizeTooLarge:i(579),talkGetUserMediaSuccess:i(704),talkGetUserMediaFail:i(507),talkGetUserMediaTimeout:i(895),talkStreamStart:i(602),talkStreamOpen:i(935),talkStreamClose:"talkStreamClose",talkStreamError:i(632),talkStreamInactive:i(765),talkStreamMsg:i(578),webrtcDisconnect:"webrtcDisconnect",webrtcFailed:i(648),webrtcClosed:i(592),webrtcChecking:i(844),webrtcConnected:i(562),webrtcCompleted:i(889),webrtcOnConnectionStateChange:"webrtcOnConnectionStateChange",webrtcOnIceConnectionStateChange:i(505),crashLog:i(815),focus:"focus",blur:i(880),inView:i(917),visibilityHiddenTimeout:i(891),websocketOpen:"websocketOpen",websocketClose:i(831),websocketError:i(835),websocketMessage:i(882),aiObjectDetectorInfo:"aiObjectDetectorInfo",aiFaceDetectorInfo:i(868),aiOcclusionDetectResult:i(842),aiImageDetectResult:"aiImageDetectResult",playFailedAndPaused:i(762),audioResumeState:i(802),webrtcStreamH265:"webrtcStreamH265",flvMetaData:i(779),talkFailedAndStop:i(792),removeLoadingBgImage:"removeLoadingBgImage",memoryLog:"memoryLog",downloadMemoryLog:"downloadMemoryLog",pressureObserverCpu:i(933),currentPts:i(595),online:i(623),offline:i(569),networkState:"networkState",clickInitPlayer:i(888)};i(751),i(743),i(756),i(877),i(794),i(936),i(947),i(584),i(585),i(791),i(536),i(872),i(781),i(708),i(859),i(768),i(564),i(840),i(907),i(549),i(615),i(901),i(944),i(826),i(725),i(795),i(700),i(488),i(871),i(593),i(903),i(621),i(660),i(931),i(565),i(815),i(891),i(539),i(588),i(831),i(937),i(868),i(842),i(680),i(762),i(568),i(802),i(676),i(818),i(779),i(656),i(505),i(595),i(646),i(687),i(803),i(753);const b={talkStreamClose:w.talkStreamClose,talkStreamError:w[i(632)],talkStreamInactive:w[i(765)],talkGetUserMediaTimeout:w[i(895)],talkFailedAndStop:w[i(792)],talkStreamMsg:w[i(578)]};i(751),i(556),i(877),i(794),i(936),i(904),i(947),i(584),i(585),i(536),i(872),i(781),i(708),i(615),i(815),i(831),i(802);const y={talkStreamError:w[i(632)],talkStreamClose:w.talkStreamClose},k={playError:i(754),fetchError:i(684),fetchErrorWorker:i(688),websocketError:i(835),websocketOpenTimeout:i(852),webcodecsH265NotSupport:i(547),webcodecsDecodeError:i(793),webcodecsUnsupportedConfigurationError:i(804),webcodecsDecodeConfigureError:i(797),webcodecsAudioInitTimeout:i(567),webcodecsAudioNoDataTimeout:i(747),mediaSourceH265NotSupport:"mediaSourceH265NotSupport",mediaSourceAudioG711NotSupport:i(886),mediaSourceAudioInitTimeout:i(492),mediaSourceAudioNoDataTimeout:i(628),mediaSourceDecoderConfigurationError:i(620),mediaSourceFull:w[i(499)],mseSourceBufferError:w[i(643)],mseAddSourceBufferError:w[i(523)],mseWorkerAddSourceBufferError:w.mseWorkerAddSourceBufferError,mediaSourceAppendBufferError:"mediaSourceAppendBufferError",mediaSourceTsIsMaxDiff:i(502),mediaSourceUseCanvasRenderPlayFailed:i(894),mediaSourceBufferedIsZeroError:i(911),wasmDecodeError:i(512),wasmUseVideoRenderError:i(785),simdH264DecodeVideoWidthIsTooLarge:"simdH264DecodeVideoWidthIsTooLarge",simdDecodeError:i(892),hlsError:i(580),webrtcError:i(573),webrtcClosed:w[i(592)],webrtcIceCandidateError:i(817),webglAlignmentError:i(532),wasmWidthOrHeightChange:"wasmWidthOrHeightChange",mseWidthOrHeightChange:i(811),wcsWidthOrHeightChange:i(916),widthOrHeightChange:"widthOrHeightChange",tallWebsocketClosedByError:i(650),flvDemuxBufferSizeTooLarge:w[i(579)],audioChannelError:"audioChannelError",webglContextLostError:i(575),videoElementPlayingFailed:i(500),videoElementPlayingFailedForWebrtc:i(674),decoderWorkerInitError:"decoderWorkerInitError",decoderWorkerWasmError:"decoderWorkerWasmError",videoInfoError:i(761),streamEnd:w[i(568)],websocket1006Error:i(851),delayTimeout:w[i(584)],loadingTimeout:w[i(675)],networkDelayTimeout:w[i(685)],fullscreenError:i(905),aliyunRtcError:i(552),mseWaitVideoCanplayTimeout:i(681),initDecoderWorkerTimeout:i(640),notSupportNewWasm:"notSupportNewWasm",playVodMp4Error:i(636),mp4Error:i(513),...y},S={notConnect:i(878),open:i(923),close:"close",error:i(877)};i(608),i(854),i(885),i(724),i(709),i(885),i(631),i(596),i(606),i(631),i(596),i(736),i(706),i(698),i(531),i(736),i(808),i(531),i(845),i(550),i(850),i(597),i(571),i(906),i(528),i(857),i(846),i(910),i(529),i(686),Math[i(600)](40);i(705),i(866),i(741),i(758),i(941),i(720),i(749),i(940),i(876),i(652),i(705),i(760),i(866),i(741),i(561),i(558),i(611),i(805),i(790),i(772),i(614),i(561),i(558),i(611),i(491),i(884),i(693),i(551),i(927),i(897),i(560),i(774),i(853),i(496),i(883),i(874),i(599),i(673);const E={g711a:i(647),g711u:"g711u",pcm:i(522),opus:i(881)};i(557),i(574),i(783),i(576),i(503),i(713),i(637),i(715),i(766),i(694),i(604),i(731),i(603),i(898),i(514),i(943),i(515),i(712),i(679),i(809),i(823),i(919),i(520);const I={pcma:8,g711a:8,pcmu:0,g711u:0,jpeg:26,h264:96,h265:97,opus:98,aac:99},v={empty:"empty",rtp:i(748),jtt:i(616)},T={tcp:i(696),udp:i(642)};i(537),i(856);const A={open:i(923),close:"close",error:"error",message:i(494)},C={worklet:"worklet",script:i(609)},_={encType:E[i(647)],packetType:v[i(748)],packetTcpSendType:T[i(696)],rtpSsrc:i(601),numberChannels:1,sampleRate:8e3,sampleBitsWidth:16,frameDuration:20,debug:!1,debugLevel:d[i(510)],testMicrophone:!1,saveToTempFile:!1,audioBufferLength:160,engine:C.worklet,checkGetUserMediaTimeout:!1,getUserMediaTimeout:1e4,audioConstraints:{latency:!0,noiseSuppression:!0,autoGainControl:!0,echoCancellation:!0,sampleRate:48e3,channelCount:1},isG711a:!1,isG711u:!1,jttSimNumber:null,jttChannelNumber:1,openWebsocketHeart:!1,websocketHeartInterval:15,websocketHeartContent:"",websocketOpenTimeout:3},B={worklet:i(490),script:i(609),active:i(800)};function M(e,t){const r=o();return(M=function(e,t){return r[e-=485]})(e,t)}i(667),i(555),i(855),i(913),i(938),i(677),i(692),i(613),i(548),i(541),i(727),i(763),i(930),i(538),i(744),i(849),i(711),i(825),i(510),i(598),i(590),i(729),i(807),i(942),i(738),i(893),i(626),i(545),i(810),i(627),i(764),i(622),i(814),i(757),i(516),i(587),i(899),i(877),i(858),i(854),i(877),i(836),i(542),i(828),i(908),i(909),i(544),i(829),i(775),i(689),i(862),i(834),i(527),i(739),i(487),i(703),i(902),i(733),i(867),i(661),i(537),i(644),i(860),i(668),i(498),i(630),i(745),i(734),i(769),i(682),i(639),i(823),"object"==typeof window&&window.window===window?window:typeof self===i(524)&&self[i(665)]===self?self:typeof global===i(524)&&global[i(495)]===global&&global,i(589),i(586),i(563),i(824),i(877),i(798),i(604),i(879),i(872),i(536),i(577),i(694),i(715),i(654),i(766),i(612),i(713),i(841),i(877);const D="Jb%20pro%20%E4%BD%93%E9%AA%8C%E7%BB%93%E6%9D%9F%2C%E8%AF%B7%E5%88%B7%E6%96%B0%E9%A1%B5%E9%9D%A2%E5%86%8D%E6%AC%A1%E4%BD%93%E9%AA%8C%EF%BC%8C%E5%A6%82%E9%9C%80%E8%A6%81%E8%B4%AD%E4%B9%B0%E5%95%86%E4%B8%9A%E6%8E%88%E6%9D%83%EF%BC%8C%E5%8F%AF%E4%BB%A5%E8%81%94%E7%B3%BB%E5%BE%AE%E4%BF%A1%EF%BC%9Abosswancheng";var U="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var R=Object.freeze({__proto__:null,commonjsGlobal:U,commonjsRequire:function(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")},unwrapExports:function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e},createCommonjsModule:function(e,t){return e(t={exports:{}},t.exports),t.exports},getCjsExportFromNamespace:function(e){return e&&e.default||e}}),F=W;function W(e,t){var r=x();return(W=function(e,t){return r[e-=295]})(e,t)}function x(){var e=["webkitExitFullscreen","51183fwfKJL","isFullscreen","webkitFullscreenEnabled","exit","then","fullscreenchange","7505286cPiEqa","exports","mozFullScreenEnabled","fullscreenElement","document","exitFullscreen","mozRequestFullScreen","webkitCurrentFullScreenElement","mozfullscreenchange","webkitRequestFullscreen","10gQlTmb","6gxZqIN","8Adinsg","fullscreenerror","webkitfullscreenerror","object","webkitfullscreenchange","webkitCancelFullScreen","MSFullscreenChange","2250485cHAAsP","createCommonjsModule","192152qmiYuU","length","45997OeDKKr","14659403OZqTrK","MSFullscreenError","error","off","isEnabled","msFullscreenEnabled","5105070CFKvHt","request","removeEventListener","4kWJcVm","documentElement","undefined","bind","mozFullScreenElement","change","catch"];return(x=function(){return e})()}!function(e,t){for(var r=W,s=e();;)try{if(966139===-parseInt(r(317))/1*(parseInt(r(307))/2)+-parseInt(r(337))/3+-parseInt(r(329))/4*(parseInt(r(315))/5)+parseInt(r(296))/6+-parseInt(r(319))/7*(parseInt(r(308))/8)+-parseInt(r(326))/9+-parseInt(r(306))/10*(-parseInt(r(320))/11))break;s.push(s.shift())}catch(e){s.push(s.shift())}}(x),R[F(316)]((function(e){var t,r,s,i,o,n;t=W,r="undefined"!=typeof window&&void 0!==window.document?window[t(300)]:{},s=t(311)!==t(331)&&e.exports,i=function(){for(var e,s=t,i=[["requestFullscreen",s(301),"fullscreenElement","fullscreenEnabled",s(295),s(309)],[s(305),s(336),"webkitFullscreenElement",s(339),s(312),s(310)],["webkitRequestFullScreen",s(313),s(303),s(313),s(312),s(310)],[s(302),"mozCancelFullScreen",s(333),s(298),s(304),"mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement",s(325),s(314),s(321)]],o=0,n=i[s(318)],a={};o<n;o++)if((e=i[o])&&e[1]in r){for(o=0;o<e.length;o++)a[i[0][o]]=e[o];return a}return!1}(),o={change:i[t(295)],error:i[t(309)]},n={request:function(e,s){return new Promise(function(t,o){var n=W,a=function(){var e=W;this.off(e(334),a),t()}[n(332)](this);this.on("change",a);var c=(e=e||r[n(330)])[i.requestFullscreen](s);c instanceof Promise&&c[n(341)](a).catch(o)}[t(332)](this))},exit:function(){return new Promise(function(e,t){var s=W;if(this[s(338)]){var o=function(){var t=s;this[t(323)](t(334),o),e()}.bind(this);this.on(s(334),o);var n=r[i[s(301)]]();n instanceof Promise&&n[s(341)](o)[s(335)](t)}else e()}[t(332)](this))},toggle:function(e,r){var s=t;return this[s(338)]?this[s(340)]():this[s(327)](e,r)},onchange:function(e){var r=t;this.on(r(334),e)},onerror:function(e){var r=t;this.on(r(322),e)},on:function(e,t){var s=o[e];s&&r.addEventListener(s,t,!1)},off:function(e,s){var i=o[e];i&&r[t(328)](i,s,!1)},raw:i},i?(Object.defineProperties(n,{isFullscreen:{get:function(){return Boolean(r[i.fullscreenElement])}},element:{enumerable:!0,get:function(){return r[i[t(299)]]}},isEnabled:{enumerable:!0,get:function(){return Boolean(r[i.fullscreenEnabled])}}}),s?e[t(297)]=n:window.screenfull=n):s?e[t(297)]={isEnabled:!1}:window.screenfull={isEnabled:!1}}))[F(324)];const O=L;function L(e,t){const r=N();return(L=function(e,t){return r[e-=463]})(e,t)}!function(e,t){const r=L,s=e();for(;;)try{if(521471===parseInt(r(494))/1*(-parseInt(r(468))/2)+-parseInt(r(469))/3*(-parseInt(r(463))/4)+-parseInt(r(483))/5*(parseInt(r(467))/6)+-parseInt(r(477))/7*(-parseInt(r(482))/8)+-parseInt(r(465))/9*(parseInt(r(480))/10)+parseInt(r(495))/11*(parseInt(r(478))/12)+parseInt(r(464))/13*(-parseInt(r(485))/14))break;s.push(s.shift())}catch(e){s.push(s.shift())}}(N);class P{constructor(e){const t=L;this[t(476)]=e,this[t(487)]=0,this[t(471)]=e[t(472)],this._total_bits=8*e[t(472)],this[t(474)]=0,this._current_word_bits_left=0}[O(488)](){this._buffer=null}[O(491)](){const e=O;let t=this[e(471)]-this[e(487)];if(t<=0)return void console[e(493)](e(486),this._total_bytes,this._buffer_index);let r=Math.min(4,t),s=new Uint8Array(4);s[e(479)](this[e(476)][e(466)](this[e(487)],this._buffer_index+r)),this._current_word=new DataView(s.buffer)[e(470)](0,!1),this[e(487)]+=r,this[e(481)]=8*r}[O(490)](e){const t=O;if(e>32&&console[t(493)]("ExpGolomb: readBits() bits exceeded max 32bits!"),e<=this._current_word_bits_left){let r=this[t(474)]>>>32-e;return this[t(474)]<<=e,this[t(481)]-=e,r}let r=this._current_word_bits_left?this._current_word:0;r>>>=32-this._current_word_bits_left;let s=e-this[t(481)];this[t(491)]();let i=Math.min(s,this._current_word_bits_left),o=this[t(474)]>>>32-i;return this[t(474)]<<=i,this[t(481)]-=i,r=r<<i|o,r}[O(489)](){return 1===this[O(490)](1)}[O(484)](){return this.readBits(8)}[O(473)](){const e=O;let t;for(t=0;t<this[e(481)];t++)if(0!=(this._current_word&2147483648>>>t))return this._current_word<<=t,this[e(481)]-=t,t;return this[e(491)](),t+this[e(473)]()}[O(492)](){const e=O;let t=this[e(473)]();return this[e(490)](t+1)-1}[O(475)](){let e=this[O(492)]();return 1&e?e+1>>>1:-1*(e>>>1)}}function N(){const e=["readUEG","error","281383rCJnuy","2717hZYGRO","1812976gmFslq","26akrIBv","126GFdvZu","subarray","1576068WcfMxW","2bGyxmx","3enSEme","getUint32","_total_bytes","byteLength","_skipLeadingZero","_current_word","readSEG","_buffer","497MSuOcJ","22476PRpZku","set","559840LjhqDE","_current_word_bits_left","106952tCeHFR","5nYiqWx","readByte","110362opUCay","ExpGolomb: _fillCurrentWord() but no bytes available","_buffer_index","destroy","readBool","readBits","_fillCurrentWord"];return(N=function(){return e})()}const G=z;!function(e,t){const r=z,s=e();for(;;)try{if(671047===-parseInt(r(338))/1+parseInt(r(320))/2*(-parseInt(r(267))/3)+parseInt(r(274))/4+parseInt(r(287))/5+-parseInt(r(322))/6+-parseInt(r(270))/7*(-parseInt(r(311))/8)+parseInt(r(273))/9*(parseInt(r(318))/10))break;s.push(s.shift())}catch(e){s.push(s.shift())}}(j);const V=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350,-1,-1,-1];function j(){const e=["current_syncword_offset_","aacEncoderConfigurationRecord","10317789VixRUj","2396028XudIVj","slice","more than 2 numProgram Not Supported","more than 2 numLayer Not Supported","more than 2 numSubFrames Not Supported","userAgent","Invalid sampling index: ","bufoff","sampling_freq_index","destroy","iserro","mp4a.40.2","Flv: AAC invalid channel configuration","3045840cPUOtD","getIncompleteData","readBool","channels","subarray","eof_flag_","Flv: AAC invalid sampling frequency index!","ext_object_type","Could not found ADTS syncword until payload end","look","object_type","length","sampling_index","push","log","hasIncompleteData","profile: ","warn","StreamMuxConfig Missing","sampleRate: ","navigator","channel: ","allStreamsSameTimeFraming zero is Not Supported","bufpos","8rAchAu","other_data_present","AAC","sampling_frequency","set",". Only frameLengthType = 0 Supported","error","10PrFjUR","sbr","1783162DcMeGh","frameLengthType = ","4148184MMMkzc","toLowerCase","getLATMValue","readByte","readNextAACFrame","mp4a.40.","read_golomb","read","channel_config","readBits","aac","sample_rate","findNextSyncwordOffset","buffer","byteLength","data_","673518IfnOGh","chan_config","audio_object_type","3zQkDni","audioMuxVersionA is Not Supported","has_last_incomplete_data","4010398PDhtOr"];return(j=function(){return e})()}G(296),G(328);function z(e,t){const r=j();return(z=function(e,t){return r[e-=265]})(e,t)}G(334),G(326),G(288);G(334),G(324),G(326),G(302),G(288);function H(){const e=["setUint32","2198FffnRA","12372aPMlze","toString","3074745hXmeGo","shift","push","239049oYQifi","subarray","2113092ZnsPKU","length","6058152FeXToC","byteLength","698217vAogJZ","110zJLSGz","2lpYrEo","set","1976826ZtSmkI"];return(H=function(){return e})()}function q(e,t){const r=H();return(q=function(e,t){return r[e-=444]})(e,t)}!function(e,t){const r=q,s=e();for(;;)try{if(396307===parseInt(r(446))/1+parseInt(r(448))/2*(parseInt(r(450))/3)+-parseInt(r(460))/4+-parseInt(r(455))/5+parseInt(r(453))/6*(parseInt(r(452))/7)+-parseInt(r(444))/8+parseInt(r(458))/9*(parseInt(r(447))/10))break;s.push(s.shift())}catch(e){s.push(s.shift())}}(H);const J=$;function Y(){}function X(){const e=$;return(new Date)[e(351)]()}!function(e,t){const r=$,s=e();for(;;)try{if(444686===parseInt(r(199))/1*(-parseInt(r(438))/2)+parseInt(r(437))/3*(-parseInt(r(415))/4)+-parseInt(r(264))/5+-parseInt(r(156))/6+parseInt(r(332))/7*(-parseInt(r(444))/8)+parseInt(r(455))/9*(parseInt(r(416))/10)+parseInt(r(435))/11)break;s.push(s.shift())}catch(e){s.push(s.shift())}}(te),(()=>{const e=$;try{if("object"==typeof WebAssembly&&typeof WebAssembly.instantiate===e(411)){const t=new(WebAssembly[e(433)])(Uint8Array.of(0,97,115,109,1,0,0,0));if(t instanceof WebAssembly.Module)return new WebAssembly.Instance(t)instanceof WebAssembly[e(461)]}}catch(e){}})();const Z=J(277);J(291),J(247),J(400);const K=J(377);function Q(){const e=J,t=window.navigator[e(225)][e(420)]();return t&&/iphone|ipad|ipod|ios/.test(t)}function $(e,t){const r=te();return($=function(e,t){return r[e-=154]})(e,t)}const ee=()=>(()=>{const e=J,t=window.navigator[e(225)];return/MicroMessenger/i[e(309)](t)})()&&function(){const e=J,t=window[e(286)].userAgent.toLowerCase();return/android/i[e(309)](t)}();function te(){const e=["event","hev1.1.6.L120.90","bottom","not compiled with thread support","width","canvas","pps","fontFamily","copyright","getTime","subarray","data","getFullYear","{y}-{m}-{d} {h}:{i}:{s}","chrome","wcsDecodeAudio","clientY","getUint8","showModalDialog","application/vnd.chromium.remoting-viewer","visibility","isConfigSupported","assign","0 KB/s","wow32","360EE","pageY","touches","createBufferSource","ALAW","webkitFullscreenElement","MouseEvents","msFullscreenElement","body","fillText","1730390400000","position","shadowRoot","image","absolute","revokeObjectURL","hev3","resume","font","close","MediaSource","100",";base64","pointer-events: none !important; display: block !important","paused","wow64","toFixed","rgba(0,0,0,0)","webgl","overflow","setUint32","prototype","gpu",'"2024-11-1"',"now","setInt32","fullscreenElement","color","imageSmoothingEnabled","substring","pageX","PB/s","ManagedMediaSource","keyFrame","function","touchend","borderWidth","fillStyle","76FbwnOp","10eSwMyX","document","content","set","toLowerCase","target","hash","safari","pow","html","version","map","clearRect","toDataURL","canConstructInDedicatedWorker","protocol","line","Module","clientX","10192963lfbEQZ","random","18636PKviPt","15944tmoTvq","craNut","MULAW","parse","byteLength","xxxxxxxxxxxx4xxx","96iCqiyU","h264","VideoEncoder.isConfigSupported is not a function","setInt16","avc1.","user-select","TB/s","AudioData","GB/s","Safari","mozGetUserMedia","6566472jFMulW","demuxUseWorker","onload","mediaDevices","[object Exception]","msGetUserMedia","Instance","putImageData","PressureObserver","high","file","scrollTop","replace","charAt","stringify","getContext","true","-webkit-touch-callout","readAsArrayBuffer","green","error","-ms-user-select","charCodeAt","2685072nrafbS","insertBefore","numberOfFrames","hidden","slice","sps","webkitGetUserMedia","type","application/360softmgrplugin","URL","WAVE","VideoFrame","360SE","location","application/mozilla-npqihooquicklogin","memory","start","host","floor","apply","hev","readyState","src","lineWidth","AAC","hostname","length","getSeconds","noteOn","getDate","quality","filter","createImageBitmap","borderStyle","onerror","getUserMedia","max","RIFF","-webkit-user-select","WebGL2RenderingContext","appendChild","href","pathname","43GTTkbW","objectFit","isTypeSupported","right","display","indexOf","setHours","min","setUint8","imageSmoothingQuality","block","webkit-3d","ended","createBuffer","experimental-webgl","match","useWCS","createEvent","fromCharCode","call","then","transferControlToOffscreen",'video/mp4; codecs="',"YB/s","video","forEach","userAgent","getMonth","style","removeChild","innerHTML","round","save","text","sequenceHeader","VideoDecoder","log","undefined","getParameter","trim","attachShadow","hev2","opacity","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=","port","green yuv","push","h265",'"delaytime"',"fontSize","win32","textAlign","download","click","[object DOMException]","-o-user-select","audioWorklet","setAttribute","useMSE","application/javascript","touchstart","keys","100%","#000","object","145695BpfdJZ","destination","https:","dispatchEvent","WebGLRenderingContext","top","-webkit-text-size-adjust","Worker","getAttribute","supported","requestVideoFrameCallback","illegal icc","backgroundColor",'"9-27-2024"',"failed to asynchronously prepare wasm","MB/s","hasAudio","Edge","data:","mimeTypes","solid","div","navigator","join","Bytes","xxxx","-moz-user-select",'"production"',"initEvent","Reserved SBR extensions is not implemented","scrollLeft","toString","strokeStyle","performance","buffer","AudioDecoder","crossOrigin","message","webgl2","left","format","webm","mousemove","hev4","EB/s","test","setUint16","dataset","createElement","ActiveXObject","repeat","px Arial","Firefox","localhost","createObjectURL","search","setInt8","f32-planar","split","getImageData","createTextNode","drawImage","rect","getPropertyValue","MediaStreamTrackGenerator","QQBrowser","fmt ","height","159880AbxKuf","atob","KB/s","data-","status","-webkit-tap-highlight-color","getMinutes","documentElement","none","360"];return(te=function(){return e})()}function re(e){const t=J;let r="";if(typeof e===t(263))try{r=JSON[t(469)](e),r=JSON[t(441)](r)}catch(t){r=e}else r=e;return r}function se(e){return!0===e||e===J(471)}function ie(){return X()>=K}function oe(e,t){const r=ae();return(oe=function(e,t){return r[e-=489]})(e,t)}const ne=oe;function ae(){const e=["outputBufferSize","tailExists","floor","multiTap","585810rAmwfD","slice","ratioWeight","fromSampleRate","outputBuffer","resampler","Buffer was of incorrect sample length.","7822242OXBnAU","bufferSlice","5tGIAZD","lastOutput","linearInterpolation","530101GOSzxm","channels","413WHfBfg","Invalid settings specified for the resampler.","initializeBuffers","2juRRQI","subarray","520308DoOGOT","toSampleRate","lastWeight","destroy","inputBufferSize","4120472hBYBEL","initialize","length","2196052ruXxMw","resample"];return(ae=function(){return e})()}!function(e,t){const r=oe,s=e();for(;;)try{if(297131===-parseInt(r(514))/1*(parseInt(r(519))/2)+-parseInt(r(521))/3+-parseInt(r(496))/4*(-parseInt(r(511))/5)+parseInt(r(502))/6+-parseInt(r(516))/7+-parseInt(r(493))/8+parseInt(r(509))/9)break;s.push(s.shift())}catch(e){s.push(s.shift())}}(ae);class ce{constructor(e){const t=oe,{fromSampleRate:r,toSampleRate:s,channels:i,inputBufferSize:o}=e;if(!r||!s||!i)throw new Error(t(517));this.resampler=null,this.fromSampleRate=r,this.toSampleRate=s,this[t(515)]=i||0,this[t(492)]=o,this.initialize()}[ne(491)](){const e=ne;this[e(507)]=null,this[e(505)]=null,this.toSampleRate=null,this[e(515)]=null,this.inputBufferSize=null}[ne(494)](){const e=ne;this[e(505)]==this[e(489)]?(this.resampler=e=>e,this.ratioWeight=1):(this[e(505)]<this.toSampleRate?(this.linearInterpolation(),this[e(490)]=1):(this[e(501)](),this.tailExists=!1,this[e(490)]=0),this.initializeBuffers(),this[e(504)]=this[e(505)]/this[e(489)])}[ne(510)](e){const t=ne;try{return this[t(506)][t(520)](0,e)}catch(r){try{return this[t(506)][t(495)]=e,this[t(506)]}catch(r){return this[t(506)][t(503)](0,e)}}}[ne(518)](){const e=ne;this[e(498)]=Math.ceil(this[e(492)]*this.toSampleRate/this[e(505)]/this[e(515)]*1.0000004768371582)+this[e(515)]+this.channels;try{this[e(506)]=new Float32Array(this.outputBufferSize),this[e(512)]=new Float32Array(this.channels)}catch(t){this.outputBuffer=[],this[e(512)]=[]}}[ne(513)](){const e=ne;this[e(507)]=t=>{const r=e;let s,i,o,n,a,c,l,u,h,d=t[r(495)],p=this[r(515)];if(d%p!=0)throw new Error(r(508));if(d<=0)return[];for(s=this[r(498)],i=this[r(504)],o=this[r(490)],n=0,a=0,c=0,l=0,u=this[r(506)];o<1;o+=i)for(a=o%1,n=1-a,this[r(490)]=o%1,h=0;h<this.channels;++h)u[l++]=this[r(512)][h]*n+t[h]*a;for(o-=1,d-=p,c=Math[r(500)](o)*p;l<s&&c<d;){for(a=o%1,n=1-a,h=0;h<this[r(515)];++h)u[l++]=t[c+(h>0?h:0)]*n+t[c+(p+h)]*a;o+=i,c=Math[r(500)](o)*p}for(h=0;h<p;++h)this[r(512)][h]=t[c++];return this[r(510)](l)}}multiTap(){const e=ne;this[e(507)]=t=>{const r=e;let s,i,o,n,a,c,l,u,h,d,p,f=t[r(495)],m=this[r(515)];if(f%m!=0)throw new Error(r(508));if(f<=0)return[];for(s=this[r(498)],i=[],o=this.ratioWeight,n=0,c=0,l=0,u=!this[r(499)],this[r(499)]=!1,h=this[r(506)],d=0,p=0,a=0;a<m;++a)i[a]=0;do{if(u)for(n=o,a=0;a<m;++a)i[a]=0;else{for(n=this[r(490)],a=0;a<m;++a)i[a]=this[r(512)][a];u=!0}for(;n>0&&c<f;){if(l=1+c-p,!(n>=l)){for(a=0;a<m;++a)i[a]+=t[c+(a>0?a:0)]*n;p+=n,n=0;break}for(a=0;a<m;++a)i[a]+=t[c++]*l;p=c,n-=l}if(0!==n){for(this[r(490)]=n,a=0;a<m;++a)this.lastOutput[a]=i[a];this[r(499)]=!0;break}for(a=0;a<m;++a)h[d++]=i[a]/o}while(c<f&&d<s);return this[r(510)](d)}}[ne(497)](e){const t=ne;return this.fromSampleRate==this.toSampleRate?this.ratioWeight=1:(this.fromSampleRate<this[t(489)]?this[t(490)]=1:(this[t(499)]=!1,this[t(490)]=0),this[t(518)](),this[t(504)]=this[t(505)]/this[t(489)]),this[t(507)](e)}}function le(e,t){const r=ue();return(le=function(e,t){return r[e-=368]})(e,t)}function ue(){const e=["min","123EtkJqZ","max","5030NsnLys","length","416412QcAmPI","2613704zdzERO","2570zIUPmZ","4152SnGFxR","191765UKxHIz","2413389PimGoc","9054NeObdW","6712MqnYVY","2ppPeYf"];return(ue=function(){return e})()}function he(){const e=["54ktnVMe","414ANutYE","call","forEach","795536suKBdL","22mUIYxd","80526yfunBS","13305JnpqHH","40380TDrkOH","MULAW","prototype","slice","length","set","161168fdYmHK","1mVqBgN","1174452QVuxRg","125230EyPfOV","24CAZvCo","ALAW"];return(he=function(){return e})()}function de(e,t){const r=he();return(de=function(e,t){return r[e-=120]})(e,t)}!function(e,t){const r=le,s=e();for(;;)try{if(331993===parseInt(r(381))/1*(parseInt(r(373))/2)+parseInt(r(369))/3*(-parseInt(r(380))/4)+parseInt(r(375))/5*(parseInt(r(376))/6)+parseInt(r(377))/7+parseInt(r(374))/8+-parseInt(r(379))/9*(parseInt(r(371))/10)+-parseInt(r(378))/11)break;s.push(s.shift())}catch(e){s.push(s.shift())}}(ue),function(e,t){const r=de,s=e();for(;;)try{if(105354===parseInt(r(124))/1*(-parseInt(r(126))/2)+-parseInt(r(135))/3*(parseInt(r(127))/4)+-parseInt(r(136))/5*(-parseInt(r(129))/6)+parseInt(r(123))/7+-parseInt(r(133))/8+-parseInt(r(130))/9*(-parseInt(r(137))/10)+-parseInt(r(134))/11*(-parseInt(r(125))/12))break;s.push(s.shift())}catch(e){s.push(s.shift())}}(he);const pe=132,fe=[255,511,1023,2047,4095,8191,16383,32767];function me(e,t,r){for(let s=0;s<r;s++)if(e<=t[s])return s;return r}function ge(e){const t=de,r=[];return Array[t(139)][t(120)][t(131)](e)[t(132)](((e,t)=>{r[t]=function(e){let t,r,s;return e>=0?t=213:(t=85,(e=-e-1)<0&&(e=32767)),r=me(e,fe,8),r>=8?127^t:(s=r<<4,s|=r<2?e>>4&15:e>>r+3&15,s^t)}(e)})),r}function we(e){const t=de,r=[];return Array[t(139)][t(120)].call(e).forEach(((e,t)=>{r[t]=function(e){let t=0;e<0?(e=pe-e,t=127):(e+=pe,t=255);let r=me(e,fe,8);return r>=8?127^t:(r<<4|e>>r+3&15)^t}(e)})),r}function be(e){const t=[];return e.forEach((e=>{t[e]=function(e){let t=((15&(e=~e))<<3)+pe;return t<<=(112&e)>>4,128&e?pe-t:t-pe}(e)})),t}!function(e,t){const r=ke,s=e();for(;;)try{if(623044===-parseInt(r(247))/1+-parseInt(r(248))/2+-parseInt(r(246))/3*(-parseInt(r(244))/4)+-parseInt(r(234))/5+parseInt(r(251))/6+parseInt(r(249))/7*(parseInt(r(254))/8)+-parseInt(r(242))/9*(-parseInt(r(235))/10))break;s.push(s.shift())}catch(e){s.push(s.shift())}}(Se);class ye{constructor(e){const t=ke;this[t(236)]=function(r){const s=t;if(e[s(250)][s(253)]==d[s(238)]){const t=e[s(250)][s(239)]?"["+e[s(250)].debugUuid+"]":"";for(var i=arguments.length,o=new Array(i>1?i-1:0),n=1;n<i;n++)o[n-1]=arguments[n];console[s(236)]("JbPro"+t+s(243)+r+"]",...o)}},this[t(237)]=function(r){const s=t;if(e._opt[s(253)]==d[s(238)]||e[s(250)][s(253)]==d[s(237)]){const t=e._opt.debugUuid?"["+e._opt.debugUuid+"]":"";for(var i=arguments.length,o=new Array(i>1?i-1:0),n=1;n<i;n++)o[n-1]=arguments[n];console.log(s(240)+t+"[❗❗❗]["+r+"]",...o)}},this[t(241)]=function(r){const s=t,i=e[s(250)][s(239)]?"["+e[s(250)][s(239)]+"]":"";for(var o=arguments[s(245)],n=new Array(o>1?o-1:0),a=1;a<o;a++)n[a-1]=arguments[a];console[s(241)](s(240)+i+s(252)+r+"]",...n)}}}function ke(e,t){const r=Se();return(ke=function(e,t){return r[e-=234]})(e,t)}function Se(){const e=["47892sWQvPc","length","21oKxWvz","1044747EJYkFf","2466972yBCXyx","371ficDAa","_opt","7460178uJmdCK","[❌❌❌][","debugLevel","171128RqrpsI","1839055GVvnbi","2693970ciffIC","log","warn","debug","debugUuid","JbPro","error","27vXzSsa","[✅✅✅]["];return(Se=function(){return e})()}const Ee=ve;function Ie(){const e=["2616308STmvRc","isArray","4398sYwGCl","172wwBfsf","5197032SXuxjO","bind","push","6649vIGPdK","8dPkqDZ","length","1054263uKImug","3935407MWnYeY","Events","6348070MyuJpB","forEach","master","4510aXzLkc","destroys","removeEventListener","proxy","destroy","map"];return(Ie=function(){return e})()}function ve(e,t){const r=Ie();return(ve=function(e,t){return r[e-=473]})(e,t)}!function(e,t){const r=ve,s=e();for(;;)try{if(406256===parseInt(r(484))/1*(-parseInt(r(480))/2)+parseInt(r(487))/3+-parseInt(r(477))/4+parseInt(r(493))/5*(parseInt(r(479))/6)+parseInt(r(488))/7*(parseInt(r(485))/8)+-parseInt(r(481))/9+parseInt(r(490))/10)break;s.push(s.shift())}catch(e){s.push(s.shift())}}(Ie);class Te{constructor(e){const t=ve;this[t(494)]=[],this[t(474)]=this[t(474)][t(482)](this),this[t(492)]=e}[Ee(474)](e,t,r){const s=Ee;let i=arguments[s(486)]>3&&void 0!==arguments[3]?arguments[3]:{};if(!e)return;if(Array[s(478)](t))return t[s(476)]((t=>this[s(474)](e,t,r,i)));e.addEventListener(t,r,i);const o=()=>{const o=s;typeof e[o(473)]===J(411)&&e[o(473)](t,r,i)};return this[s(494)][s(483)](o),o}[Ee(475)](){const e=Ee;this[e(492)].debugLog(e(489),e(475)),this[e(494)][e(491)]((e=>e())),this[e(494)]=[]}}const Ae=Ce;function Ce(e,t){const r=_e();return(Ce=function(e,t){return r[e-=374]})(e,t)}function _e(){const e=["_getAutoAudioEngineType","stream","_initScriptNode","AudioTalkLoader","createScriptProcessor","_createAudioContext","player","isMute","postMessage","_isMoreThanMinBufferDuration","$audio","_initIntervalScriptNode() and interval time is ","_getAudioChannel","outputBuffer","isG711u","function","stashBuffer","length","addModule","_supportAudioWorklet","TAG_NAME","srcObject","active","_getAudioBufferSizeByType","_fillScriptNodeOutputBuffer","script start time ","703761tMtQmt","value","_initProcessScriptNode","oneBufferDuration","supportLockScreenPlayAudio","set","_opt","9178648YLYbSU","left","audioContext","8QDXkPT","2311485fjBgET","debugLog","script","currentTime","shift","_initWorkletScriptNode","mediaStreamAudioDestinationNode","488294nSYaHe","connect","worklet","3125724IXmcOq","getBufferListDuration","audioBufferSize","createBufferSource","scriptNodeInterval","data","scriptStartTime","isG711a","right","port","onaudioprocess","gainNode","createBuffer","audioChannel","fill","_initProcessScriptNode()","getChannelData","bufferList","_handleScriptNodeCallback","sampleRate","engineType","3197131QTUxiQ","disconnect","play","destination","scriptNode","subarray","destroy","114819PAxgVZ","buffer","AudioContext"];return(_e=function(){return e})()}!function(e,t){const r=Ce,s=e();for(;;)try{if(392513===parseInt(r(433))/1+parseInt(r(451))/2+parseInt(r(404))/3*(parseInt(r(443))/4)+-parseInt(r(444))/5+parseInt(r(376))/6+parseInt(r(397))/7+-parseInt(r(440))/8)break;s.push(s.shift())}catch(e){s.push(s.shift())}}(_e);class Be{constructor(e){const t=Ce;this.TAG_NAME=t(410),this[t(413)]=e,this[t(442)]=this[t(412)](),this[t(396)]=this[t(407)](),this[t(378)]=this._getAudioBufferSizeByType(),this[t(389)]=this[t(419)](),this.stashBuffer=new Float32Array(0),this[t(393)]=[],this[t(417)]=null,this[t(387)]=this[t(442)].createGain(),this.scriptNode=null,this[t(450)]=null,this[t(382)]=0,this.scriptNodeInterval=null,Q()&&(this[t(450)]=this[t(442)].createMediaStreamDestination()),this[t(409)](),this[t(413)].debugLog(this[t(427)],"init")}async destroy(){const e=Ce;this.scriptNodeInterval&&(clearInterval(this[e(380)]),this[e(380)]=null),this[e(442)]&&(await this[e(442)].close(),this[e(442)]=null),this[e(387)]&&(this[e(387)][e(398)](),this[e(387)]=null),this[e(401)]&&(this[e(401)].disconnect(),this[e(401)][e(386)]=Y,this.scriptNode=null),this[e(450)]&&(this.mediaStreamAudioDestinationNode[e(398)](),this[e(450)]=null),this[e(413)].debugLog(this[e(427)],e(403))}get[Ae(436)](){const e=Ae;return this[e(378)]/this[e(442)][e(395)]*1e3}[Ae(412)](){const e=Ae;let t=48e3;return(this[e(413)][e(439)][e(383)]||this[e(413)][e(439)][e(421)])&&(t=8e3),new(window[e(406)]||window.webkitAudioContext)({sampleRate:t})}[Ae(419)](){const e=Ae;let t=1;return(this[e(413)][e(439)][e(383)]||this[e(413)]._opt.isG711u)&&(t=1),t}[Ae(407)](){const e=Ae;let t=B[e(446)];return(()=>{const r=e;t=ee()?B[r(429)]:Q()&&this[r(413)][r(439)][r(437)]?B[r(446)]:(function(){const e=J;return window.location[e(431)]===e(266)||window[e(169)][e(181)]===e(317)}()&&this._supportAudioWorklet(),B.script)})(),t}[Ae(430)](){const e=Ae;return this[e(396)]===B.worklet?1024:this[e(396)]===B[e(429)]?4800:(this.engineType,e(446),1024)}[Ae(426)](){const e=Ae;return this[e(442)]&&this[e(442)].audioWorklet&&typeof this[e(442)].audioWorklet[e(425)]===e(422)}_initScriptNode(){const e=Ae;this[e(396)]===B[e(375)]?this[e(449)]():this[e(396)]===B[e(429)]?this._initIntervalScriptNode():this.engineType===B[e(446)]&&this[e(435)]()}[Ae(449)](){const e=Ae;this.player[e(445)](this.TAG_NAME,"_initWorkletScriptNode()")}_initIntervalScriptNode(){const e=Ae;this.scriptStartTime=0;const t=1e3*this[e(378)]/this.audioContext.sampleRate;this[e(413)][e(445)](this[e(427)],e(418)+t),this[e(380)]=setInterval((()=>{const t=e;if(0===this.bufferList.length||this[t(414)]())return;const r=this[t(442)][t(379)](),s=this[t(442)][t(388)](this[t(389)],this[t(378)],this[t(442)].sampleRate);this._handleScriptNodeCallback(s,(()=>{const e=t;this.scriptStartTime<this[e(442)][e(447)]&&(this.player[e(445)](e(406),e(432)+this.scriptStartTime+" is less than current time "+this[e(442)][e(447)]),this[e(382)]=this[e(442)][e(447)]),r[e(405)]=s,r.connect(this[e(387)]),r.start(this[e(382)]),this[e(382)]+=s.duration}))}),t),this[e(387)][e(374)](this[e(450)]),this[e(417)]?this.$audio[e(428)]=this.mediaStreamAudioDestinationNode[e(408)]:this[e(387)].connect(this[e(442)][e(400)])}[Ae(435)](){const e=Ae;this[e(413)][e(445)](this.TAG_NAME,e(391));const t=this.audioContext[e(411)](this[e(378)],0,this.audioChannel);t[e(386)]=t=>{const r=e,s=t[r(420)];this[r(394)](s)},t.connect(this[e(387)]),this[e(401)]=t,this.gainNode[e(374)](this[e(450)]),this[e(417)]?this[e(417)][e(428)]=this[e(450)].stream:this[e(387)][e(374)](this[e(442)][e(400)])}_handleScriptNodeCallback(e,t){const r=Ae;let s,i=arguments[r(424)]>2&&void 0!==arguments[2]&&arguments[2];t=t||Y,e.length,i&&(s=e,this.audioBufferSize);const o=this[r(389)];let n=this[r(393)][r(448)]();n&&n.size>0?i?s.port[r(415)]({message:r(381),buffer:n}):this._fillScriptNodeOutputBuffer(e,o,n):(i?s[r(385)][r(415)]({message:"zero"}):this[r(431)](e,o),t())}_fillScriptNodeOutputBuffer(e,t,r){const s=Ae;if(1===t){const t=e.getChannelData(0);r?0===r.size?t.fill(0):t[s(438)](r.left):t[s(390)](0)}else if(2===t){const t=e[s(392)](0),i=e[s(392)](1);r?0===r.size?(t[s(390)](0),i.fill(0)):(t[s(438)](r[s(441)]),i[s(438)](r[s(384)])):(t[s(390)](0),i[s(390)](0))}}[Ae(414)](){const e=Ae;return 0===this[e(387)].gain[e(434)]}[Ae(416)](){return this[Ae(377)]()>=100}[Ae(377)](){const e=Ae;return this[e(393)][e(424)]*this[e(436)]}[Ae(399)](e){const t=Ae;let r=e;this[t(413)]._opt[t(383)]?r=function(e){const t=[];return e[de(132)]((e=>{t[e]=function(e){let t,r;switch(t=(15&(e^=85))<<4,r=(112&e)>>4,r){case 0:t+=8;break;case 1:t+=264;break;default:t+=264,t<<=r-1}return 0!=(128&e)?t:-t}(e)})),t}(e):this[t(413)][t(439)][t(421)]&&(r=be(e));const s=new Float32Array(r.length+this[t(423)][t(424)]);for(s[t(438)](this.stashBuffer,0),s[t(438)](r,this.stashBuffer.length),this.stashBuffer=s;this[t(423)].length>this.audioBufferSize;){const e=this[t(423)][t(402)](0,this[t(378)]);this.bufferList.push({size:e[t(424)],left:e,right:null}),this[t(423)]=this[t(423)].subarray(this[t(378)])}}}function Me(e,t){const r=De();return(Me=function(e,t){return r[e-=169]})(e,t)}function De(){const e=["reduce","1107564lJIqXM","hexStringToUint8Array: invalid hexString length, must be even and bexString length is: ","byteLength","constructor","228505mreXgV","set","replace","140tkAuFN","2377376RxaVob","substr","padStart","218248NTiDfn","4fLAxwt","11802530NlJOgO","3789315xqJOIr","2155laYFBt","length","1878oBtEgv"];return(De=function(){return e})()}function Ue(){class e extends AudioWorkletProcessor{constructor(e){super(),this._cursor=0,this._bufferSize=e.processorOptions.bufferSize,this._buffer=new Float32Array(this._bufferSize)}process(e,t,r){if(!e.length||!e[0].length)return!0;for(let t=0;t<e[0][0].length;t++)this._cursor+=1,this._cursor===this._bufferSize&&(this._cursor=0,this.port.postMessage({eventType:"data",buffer:this._buffer})),this._buffer[this._cursor]=e[0][0][t];return!0}}registerProcessor("talk-processor",e)}!function(e,t){const r=Me,s=e();for(;;)try{if(333665===-parseInt(r(180))/1*(-parseInt(r(169))/2)+-parseInt(r(176))/3+parseInt(r(184))/4+-parseInt(r(172))/5*(parseInt(r(174))/6)+parseInt(r(183))/7*(parseInt(r(187))/8)+parseInt(r(171))/9+-parseInt(r(170))/10)break;s.push(s.shift())}catch(e){s.push(s.shift())}}(De);const Re=Fe;function Fe(e,t){const r=We();return(Fe=function(e,t){return r[e-=354]})(e,t)}function We(){const e=["empty","pcm","s and status is ","send","22CsJtTK","calcAudioBufferLength","_initTalk","proxy","URL","arraybuffer","audioWorklet","audioContext samplerate","player","createMediaStreamSource","reject","3SixubE","TAG_NAME","addPcmToBuffer","inputBuffer","socketStatus","error","talkStreamClose","audioContext","protocols","tempOpusBufferList","stop checkGetUserMediaTimeout","decode","getUserMedia3 fail","downloadRtpFile","startTalk","talk-processor","gainNode","sampleBitsWidth","_sendClose","close","AudioContext","openWebsocketHeart","apply","download","warn","opusDecoder","assign","sampleRate","_handleStreamInactive","mozGetUserMedia","_encodeAudioData","downloadPcmFile","getUserMedia3 success","tcp","disconnect","frequency",", rtp only support g711a or g711u or opus so set packetType to empty","script","_stopCheckGetUserMediaTimeout","recorder","websocketOpenTimeout","mediaDevices","encType","call","createElement","webkitGetUserMedia"," and length is ","finally","volume","addRtpToBuffer","navigator","then","2489142ndYsoz","toString","_startHeartInterval","tempJttBufferList","now","opusEncoder","packetType is ","_initMethods","buffer","createScriptProcessor","_initWorklet","websocket error -> reject","engine","checkGetUserMediaTimeout","notConnect","jttSimNumber","jttPacket","oninactive","207096WiaoOF","set","tallWebsocketClosedByError","emit","mediaStreamSource","port","clearWorkletUrlTimeout","talkStreamStart","_onaudioprocess","_initScriptProcessor","5NYNuNU","8706068llRXyu","。\n            ","_createWebSocket","packetType","talk","length","events","debugWarn","_getUserMedia3","numberChannels","destroy","talkGetUserMediaFail","jttChannelNumber","createBiquadFilter","getUserMedia success","empty audio data",", and ","downloadOpusFile","audioBufferLength","_startCheckGetUserMediaTimeout","audioConstraints","addModule","_handleMessage","worklet","log","userMediaStream","msGetUserMedia","\n            encType is ","rtpPacket","checkWsOpenTimeout","send talk msg and diff is ","_sendTalkMsg","getUserMedia finally","audioBufferList","debugLog","createObjectURL","tempRtpBufferList","biquadFilter","1048OSDeom","stop","37809GWEejJ","href","_parseAudioMsg","click","talkGetUserMediaTimeout","startTimestamp","enc","_getSequenceId","websocket close -> reject","once","1136183OAoCjj","wsUrl is null",".wav","resampler","isDestroyed","_stopHeartInterval","6414370eGhCfh","onmessage","websocket open -> do talk","debug","concat","stringify","talkGetUserMediaSuccess","tempTimestamp","byteLength","onaudioprocess","gain","getUserMedia() got stream:","data","jtt","_opt","_getUserMedia","workletRecorder","addG711ToBuffer","g711u","_destroyed","982364pPNibU","_getUserMedia2","_log","connect","bufferSize","getUserMedia","audioPlayer","getUserMedia fail","revokeObjectURL","createGain","destination","addOpusToBuffer","string","talkStreamMsg",".pcm","toFixed",".rtp","emitError","open",".ogg","value","addOpusToBuffer_1","downloadFile","getChannelData","not support getUserMedia","_doTalk","addJttToBuffer","testMicrophone","opus",'" string so return',"tempPcmBufferList","g711a","sequenceId","resample",", and sampleBitsWidth is "," only support sampleRate 8000 and sampleBitsWidth 16","websocket Open Timeout form ","tempG711BufferList","binaryType","downloadJttFile","getOption","audio/ogg","socketStatusOpen","getUserMedia is not implemented in this browser","rtp","wsUrl","downloadG711File","socket","getUserMedia2 success","heartInterval"," and sampleRate is ","eventType","_stopCheckWsOpenTimeout","jttChannelNumber is null or length is not 2","webkitAudioContext","check getUserMedia timeout"];return(We=function(){return e})()}!function(e,t){const r=Fe,s=e();for(;;)try{if(684594===parseInt(r(422))/1+parseInt(r(571))/2+parseInt(r(519))/3*(parseInt(r(448))/4)+parseInt(r(371))/5*(parseInt(r(361))/6)+-parseInt(r(372))/7+parseInt(r(410))/8*(parseInt(r(412))/9)+-parseInt(r(428))/10*(parseInt(r(508))/11))break;s.push(s.shift())}catch(e){s.push(s.shift())}}(We);class xe extends r{constructor(e){const t=Fe;let r=arguments[t(377)]>1&&void 0!==arguments[1]?arguments[1]:{};super(),this[t(442)]={},e&&(this[t(516)]=e),this[t(520)]=t(376);const s=re(_);this._opt=Object[t(545)]({},s,r),!this[t(516)]&&(this[t(431)]=new ye(this)),this[t(396)](this[t(520)],"init and version is",Z),this[t(442)].sampleRate=parseInt(this._opt.sampleRate,10),this[t(442)].sampleBitsWidth=parseInt(this._opt[t(536)],10),(this[t(442)][t(561)]===E.g711a||this[t(442)].encType===E[t(446)])&&(8e3!==this._opt[t(546)]||16!==this[t(442)].sampleBitsWidth)&&(this[t(543)](this[t(520)],t(399)+this[t(442)][t(561)]+t(498)+this[t(442)].sampleRate+t(482)+this[t(442)].sampleBitsWidth+t(373)+this[t(442)][t(561)]+t(483)),this[t(442)][t(546)]=8e3,this._opt[t(536)]=16),this[t(442)][t(375)]===v[t(492)]&&this[t(442)][t(561)]===E[t(505)]&&(this[t(543)](this[t(520)],t(577)+this[t(442)][t(375)]+" and encType is "+this[t(442)][t(561)]+t(555)),this[t(442)][t(375)]=v[t(504)]),this[t(442)].packetType,t(441),this[t(442)][t(561)],t(476),this[t(526)]=null,this[t(535)]=null,this.recorder=null,this[t(444)]=null,this.biquadFilter=null,this[t(397)]=null,this.clearWorkletUrlTimeout=null,this[t(452)]=512,this._opt[t(390)]=this[t(509)](),this[t(405)]=[],this.opusEncoder=null,this[t(544)]=null,this[t(425)]=null,this[t(442)][t(561)],this[t(495)]=null,this[t(523)]=S[t(357)],this.mediaStreamSource=null,this.heartInterval=null,this[t(356)]=null,this[t(493)]=null,this.startTimestamp=0,this[t(401)]=null,this.sequenceId=0,this[t(435)]=null,this[t(447)]=!1,this[t(485)]=new Uint8Array(0),this.tempRtpBufferList=new Uint8Array(0),this[t(574)]=new Uint8Array(0),this.tempPcmBufferList=new Uint8Array(0),this.tempOpusBufferList=new Uint8Array(0),this.events=new Te(this),this[t(454)]=null,this._initTalk();try{this[t(396)](this[t(520)],"init",JSON[t(433)](this[t(442)]))}catch(e){this[t(396)](this.TAG_NAME,"init",this[t(442)])}}destroy(){const e=Fe;this[e(447)]=!0,this[e(367)]&&(clearTimeout(this.clearWorkletUrlTimeout),this[e(367)]=null),this[e(500)](),this.userMediaStream&&(this[e(397)].getTracks&&this[e(397)].getTracks().forEach((t=>{t[e(411)]()})),this.userMediaStream=null),this[e(365)]&&(this[e(365)].disconnect(),this[e(365)]=null),this[e(558)]&&(this[e(558)].disconnect(),this[e(558)][e(437)]=null,this[e(558)]=null),this[e(409)]&&(this.biquadFilter.disconnect(),this[e(409)]=null),this.gainNode&&(this[e(535)][e(553)](),this[e(535)]=null),this.workletRecorder&&(this[e(444)][e(553)](),this[e(444)]=null),this.opusEncoder&&(this[e(576)][e(382)](),this[e(576)]=null),this[e(544)]&&(this.opusDecoder[e(382)](),this[e(544)]=null),this[e(425)]&&(this[e(425)][e(382)](),this[e(425)]=null),this[e(495)]&&(this.socketStatus===S[e(466)]&&this[e(537)](),this[e(495)].close(),this[e(495)]=null),this[e(454)]&&(this[e(454)][e(382)](),this[e(454)]=null),this[e(427)](),this[e(557)](),this[e(526)]=null,this[e(535)]=null,this[e(558)]=null,this[e(405)]=[],this[e(480)]=0,this.wsUrl=null,this.tempTimestamp=null,this[e(408)]=null,this[e(485)]=null,this[e(478)]=null,this[e(528)]=null,this[e(417)]=0,this.log(this[e(520)],"destroy")}[Re(500)](){this[Re(401)]&&(clearTimeout(this.checkWsOpenTimeout),this.checkWsOpenTimeout=null)}[Re(426)](){return this[Re(447)]}[Re(568)](e){const t=Re,r=e[t(377)]+this[t(408)][t(377)],s=new Uint8Array(r);s[t(362)](this[t(408)],0),s[t(362)](e,this.tempRtpBufferList[t(377)]),this[t(408)]=s}[Re(445)](e){const t=Re,r=e[t(377)]+this.tempG711BufferList[t(377)],s=new Uint8Array(r);s[t(362)](this[t(485)],0),s.set(e,this[t(485)].length),this[t(485)]=s}[Re(521)](e){const t=Re,r=e.length+this[t(478)][t(377)],s=new Uint8Array(r);s[t(362)](this[t(478)],0),s[t(362)](e,this[t(478)][t(377)]),this.tempPcmBufferList=s}[Re(474)](e){const t=Re,r=e[t(377)]+this[t(574)][t(377)],s=new Uint8Array(r);s[t(362)](this.tempJttBufferList,0),s[t(362)](e,this.tempJttBufferList[t(377)]),this.tempJttBufferList=s}[Re(469)](e){const t=Re;!this.opusDecoder&&(this.opusDecoder=new OpusDecoder(this[t(442)].sampleRate,this[t(442)][t(381)]));const r=this[t(544)][t(530)](e),s=new Uint8Array(r.buffer);this[t(521)](s)}[Re(459)](e){const t=Re,r=this[t(528)][t(377)]+1+e[t(377)],s=new Uint8Array(r);s[t(362)](this[t(528)],0),s[t(362)]([e[t(377)]],this[t(528)].length),s[t(362)](e,this.tempOpusBufferList[t(377)]+1),this[t(528)]=s}[Re(532)](){const e=Re;this[e(406)](this[e(520)],e(532));const t=new Blob([this[e(408)]]);try{const r=document[e(563)]("a");r.href=window[e(512)].createObjectURL(t),r[e(542)]=Date.now()+e(464),r[e(415)](),this[e(408)]=new Uint8Array(0),window[e(512)][e(456)](r.href)}catch(t){console[e(524)](e(532),t)}}[Re(494)](){const e=Re;this[e(406)](this[e(520)],e(494));const t=new Blob([this.tempG711BufferList]);try{const r=document[e(563)]("a");r.href=window[e(512)][e(407)](t),r[e(542)]=Date[e(575)]()+"."+this[e(442)].encType,r[e(415)](),this[e(485)]=new Uint8Array(0),window[e(512)].revokeObjectURL(r[e(413)])}catch(e){console.error("downloadG711File",e)}}downloadOpusFile_1(){const e=Re;this[e(406)](this[e(520)],"downloadOpusFile"),this[e(550)]()}[Re(389)](){const e=Re;this[e(406)](this[e(520)],"downloadOpusFile");const t=function(e,t,r){const s=J,i=new Uint8Array([79,103,103,83,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),o=new Uint8Array([79,112,117,115,72,101,97,100,1,0,0,0,0,0,0,0,0,0,0,0,255&t,t>>8&255,t>>16&255,t>>24&255,255&r,r>>8&255,0,0,0,0]),n=new Uint8Array(i[s(182)]+o[s(182)]+e[s(182)]);return n[s(419)](i),n[s(419)](o,i.length),n[s(419)](e,i.length+o[s(182)]),n}(this[e(528)],this._opt[e(546)],this[e(442)][e(381)]),r=new Blob([t],{type:e(489)});try{const t=document[e(563)]("a");t[e(413)]=window[e(512)].createObjectURL(r),t[e(542)]=Date[e(575)]()+e(467),t[e(415)](),this.tempOpusBufferList=new Uint8Array(0),window[e(512)][e(456)](t[e(413)])}catch(t){console[e(524)](e(389),t)}}[Re(550)](){const e=Re;let t=arguments[e(377)]>0&&void 0!==arguments[0]&&arguments[0];this[e(406)](this[e(520)],e(550),this[e(442)].sampleRate,this._opt[e(381)],this[e(442)][e(536)]);let r=new DataView(this[e(478)].buffer),s=null,i="";t?(r=function(e,t,r,s){const i=J;var o=function(e,t,r){const s=$;for(var i=0;i<r[s(182)];i++)e[s(207)](t+i,r[s(155)](i))},n=t,a=s,c=new ArrayBuffer(44+e.byteLength),l=new DataView(c),u=r,h=0;o(l,h,i(193)),h+=4,l[i(397)](h,36+e[i(442)],!0),o(l,h+=4,i(166)),o(l,h+=4,i(330)),h+=4,l[i(397)](h,16,!0),h+=4,l[i(310)](h,1,!0),h+=2,l[i(310)](h,u,!0),h+=2,l[i(397)](h,n,!0),h+=4,l[i(397)](h,u*n*(a/8),!0),h+=4,l[i(310)](h,u*(a/8),!0),h+=2,l[i(310)](h,a,!0),o(l,h+=2,i(353)),h+=4,l[i(397)](h,e[i(442)],!0),h+=4;for(let t=0;t<e[i(442)];)l[i(207)](h,e[i(359)](t)),h++,t++;return l}(r,this[e(442)].sampleRate,this._opt[e(381)],this[e(442)].sampleBitsWidth),i=e(424),s=new Blob([r],{type:"audio/wav"})):(i=e(462),s=new Blob([this[e(478)]]));try{const t=document.createElement("a");t.href=window[e(512)][e(407)](s),t[e(542)]=Date[e(575)]()+i,t.click(),this[e(478)]=new Uint8Array(0),window[e(512)].revokeObjectURL(t[e(413)])}catch(t){console[e(524)]("downloadRtpFile",t)}}[Re(487)](){const e=Re;this.debugLog(this.TAG_NAME,"downloadJttFile");const t=new Blob([this.tempJttBufferList]);try{const r=document.createElement("a");r[e(413)]=window[e(512)][e(407)](t),r[e(542)]=Date.now()+".jtt",r.click(),this[e(574)]=new Uint8Array(0),window[e(512)][e(456)](r[e(413)])}catch(t){console[e(524)](e(487),t)}}[Re(470)](){const e=Re;this[e(442)][e(375)]===v[e(492)]?this[e(532)]():this[e(442)].packetType===v[e(441)]?this[e(487)]():this._opt.encType===E[e(479)]||this._opt.encType===E[e(446)]?this[e(494)]():this._opt.encType===E[e(476)]?this[e(389)]():this[e(442)].encType===E.pcm&&this[e(550)]()}[Re(509)](){const e=Re,{sampleRate:t,sampleBitsWidth:r,frameDuration:s}=this[e(442)];return t*r*(s/1e3)/8}get[Re(490)](){const e=Re;return this[e(523)]===S[e(466)]}[Re(396)](){const e=Re;for(var t=arguments[e(377)],r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];this[e(450)](e(396),...r)}[Re(543)](){const e=Re;for(var t=arguments[e(377)],r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];this._log(e(543),...r)}[Re(524)](){const e=Re;for(var t=arguments[e(377)],r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];this[e(450)](e(524),...r)}[Re(450)](e){const t=Re;for(var r=arguments[t(377)],s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];this[t(516)]?this[t(516)][t(431)][e](...s):this[t(431)]?this[t(431)][e](...s):console[e](...s)}[Re(419)](){return++this[Re(480)]}[Re(374)](e){return new Promise(((t,r)=>{const s=Fe,i=this[s(378)][s(511)];this[s(495)]=new WebSocket(this[s(493)],e[s(527)]||[]),this[s(495)][s(486)]=s(513),this[s(364)](w[s(368)]),this[s(401)]=setTimeout((()=>{const e=s;if(this[e(523)]===S[e(357)]){const t=e(484)+this[e(442)][e(559)]+e(506)+this.socketStatus;this.debugError(this[e(520)],t),r(t)}}),1e3*this._opt[s(559)]),i(this[s(495)],A[s(466)],(()=>{const e=s;this[e(523)]=S[e(466)],this[e(500)](),this.log(this[e(520)],e(430)),this[e(364)](w.talkStreamOpen),t(),this[e(473)]()})),i(this.socket,A.message,(e=>{const t=s;typeof e.data!==t(460)?this[t(394)](e[t(440)]):this[t(379)](this[t(520)],'websocket handle message message is "'+e[t(440)]+t(477))})),i(this[s(495)],A[s(538)],(e=>{const t=s;this.socketStatus=S.close,this[t(543)](this[t(520)],t(420),e),this[t(465)](w[t(525)]),r(e)})),i(this.socket,A[s(524)],(e=>{const t=s;this[t(523)]=S[t(524)],this[t(524)](this.TAG_NAME,t(354),e),this.emitError(w.talkStreamError,e)}))}))}[Re(537)](){}[Re(510)](){const e=Re;this[e(578)](),this[e(442)][e(355)]===C[e(395)]?this._initWorklet():this[e(442)][e(355)]===C[e(556)]&&this._initScriptProcessor(),this.log(this[e(520)],e(515),this[e(526)][e(546)])}_initMethods(){const e=Re;this.audioContext=new(window[e(539)]||window[e(502)])({sampleRate:48e3}),this[e(535)]=this.audioContext[e(457)](),this[e(535)][e(438)][e(468)]=1,this[e(409)]=this.audioContext[e(385)](),this[e(409)].type="lowpass",this[e(409)][e(554)][e(468)]=3e3,this[e(425)]=new ce({fromSampleRate:this[e(526)].sampleRate,toSampleRate:this._opt.sampleRate,channels:this[e(442)][e(381)],inputBufferSize:this[e(452)]})}[Re(370)](){const e=Re,t=this.audioContext[e(580)]||this[e(526)].createJavaScriptNode;this.recorder=t[e(541)](this.audioContext,[this[e(452)],this[e(442)][e(381)],this[e(442)].numberChannels]),this[e(558)][e(437)]=t=>this[e(369)](t)}[Re(581)](){const e=Re,t=function(e){const t=J,r=function(e){const t=$;return e[t(238)]()[t(214)](/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1]}(e[t(295)]()),s=new Blob([r],{type:t(258)});return URL[t(318)](s)}(Ue);this[e(526)].audioWorklet&&this.audioContext[e(514)][e(393)](t)[e(570)]((()=>{const t=e,r=new AudioWorkletNode(this[t(526)],t(534),{processorOptions:{bufferSize:this.bufferSize}});r[t(451)](this[t(535)]),r[t(366)][t(429)]=e=>{const r=t;e[r(440)][r(499)]===r(440)&&this._encodeAudioData(e[r(440)].buffer)},this[t(444)]=r})),this[e(367)]=setTimeout((()=>{const r=e;URL[r(456)](t),this[r(367)]=null}),1e4)}[Re(369)](e){const t=Re,r=e[t(522)][t(471)](0);this[t(549)](new Float32Array(r))}[Re(549)](e){const t=Re;if(this[t(426)]())return;if(0===e[0]&&0===e[1])return void this[t(396)](this[t(520)],t(387));const r=this[t(425)][t(481)](e);if(this[t(442)].encType===E[t(476)]);else{let e=r;16===this[t(442)][t(536)]?e=function(e){const t=le;let r=e.length,s=new Int16Array(r);for(;r--;){let i=Math.max(-1,Math[t(368)](1,e[r]));s[r]=i<0?32768*i:32767*i}return s}(r):8===this[t(442)][t(536)]?e=function(e){const t=le;let r=e[t(372)],s=new Int8Array(r);for(;r--;){let i=Math[t(370)](-1,Math[t(368)](1,e[r]));const o=i<0?32768*i:32767*i;s[r]=parseInt(255/(65535/(32768+o)),10)}return s}(r):32===this[t(442)].sampleBitsWidth&&(e=function(e){const t=le;let r=e[t(372)],s=new Int32Array(r);for(;r--;){let i=Math[t(370)](-1,Math[t(368)](1,e[r]));s[r]=i<0?2147483648*i:2147483647*i}return s}(r));let s=null;this[t(442)][t(561)]===E.g711a?s=ge(e):this[t(442)][t(561)]===E[t(446)]?s=we(e):this[t(442)][t(561)]===E.pcm&&(s=e.buffer);const i=new Uint8Array(s);for(let e=0;e<i[t(377)];e++){let r=this[t(405)][t(377)];this.audioBufferList[r++]=i[e],this[t(405)].length===this[t(442)][t(390)]&&(this[t(403)](new Uint8Array(this.audioBufferList)),this.audioBufferList=[])}}}[Re(414)](e){const t=Re;let r=null;return this[t(442)][t(375)]!==v.rtp||this[t(442)][t(561)]!==E.g711a&&this[t(442)][t(561)]!==E[t(446)]&&this[t(442)][t(418)]!==E.opus?this[t(442)][t(375)]!==v[t(441)]||this[t(442)].encType!==E.g711a&&this[t(442)][t(561)]!==E[t(446)]?this[t(442)].packetType===v[t(504)]&&(r=e):r=this[t(359)](e):r=this[t(400)](e),r}rtpPacket(e){const t=Re,r=[];let s=0,i=0,o=0;const n=this._opt.rtpSsrc,a=e.length;this[t(442)].encType===E[t(479)]?s=I[t(479)]:this[t(442)].encType===E[t(446)]?s=I.g711u:this[t(442)][t(561)]===E[t(476)]&&(s=I.opus),!this[t(417)]&&(this[t(417)]=X()),o=X()-this.startTimestamp,i=this[t(419)]();let c=0;if(this[t(442)].packetTcpSendType===T[t(552)]){const e=a+12;r[c++]=255&e>>8,r[c++]=255&e>>0}r[c++]=128,r[c++]=128+s,r[c++]=i/256,r[c++]=i%256,r[c++]=o/65536/256,r[c++]=o/65536%256,r[c++]=o%65536/256,r[c++]=o%65536%256,r[c++]=n/65536/256,r[c++]=n/65536%256,r[c++]=n%65536/256,r[c++]=n%65536%256;let l=r[t(432)]([...e]),u=new Uint8Array(l[t(377)]);for(let e=0;e<l[t(377)];e++)u[e]=l[e];return u}[Re(359)](e){const t=Re,r=[],s=[48,49,99,100],i=[129,134];let o=0;const n=this[t(442)][t(358)],a=this[t(442)][t(384)];let c=0;const l=e[t(377)];!this[t(417)]&&(this[t(417)]=X()),c=X()-this[t(417)],o=this[t(419)](),r[0]=s[0],r[1]=s[1],r[2]=s[2],r[3]=s[3],r[4]=i[0],r[5]=i[1],r[6]=o/256,r[7]=o%256;const u=function(e){const t=Me;if((e=e[t(182)](/\s/g,"")).length%2!=0)return console.error(t(177),e[t(173)]),null;const r=new Uint8Array(e[t(173)]/2);for(let s=0;s<e[t(173)];s+=2){const i=parseInt(e[t(185)](s,2),16);r[s/2]=i}return r}(n);u&&(r[8]=u[0],r[9]=u[1],r[10]=u[2],r[11]=u[3],r[12]=u[4],r[13]=u[5]),r[14]=parseInt(a,16),r[15]=48,r[16]=255&c>>56,r[17]=255&c>>48,r[18]=255&c>>40,r[19]=255&c>>32,r[20]=255&c>>24,r[21]=255&c>>16,r[22]=255&c>>8,r[23]=255&c>>0,r[24]=l/256,r[25]=l%256;let h=r[t(432)]([...e]),d=new Uint8Array(h.length);for(let e=0;e<h[t(377)];e++)d[e]=h[e];return d}_sendTalkMsg(e){const t=Re;null===this[t(435)]&&(this[t(435)]=X());const r=X(),s=r-this[t(435)],i=this[t(414)](e);this[t(396)](this[t(520)],t(402)+s+" and byteLength is "+i[t(436)]+t(565)+i[t(377)]+t(388)+this._opt[t(561)]+" length is "+e[t(377)]),se(this[t(442)].saveToTempFile)&&se(this[t(442)][t(431)])&&(this._opt[t(375)]===v.rtp?this[t(568)](i):this._opt[t(375)]===v.jtt?this[t(474)](i):this._opt[t(561)]===E.g711a||this[t(442)][t(561)]===E[t(446)]?this[t(445)](i):this[t(442)][t(561)]===E[t(505)]?this.addPcmToBuffer(i):this[t(442)][t(561)]===E[t(476)]&&this[t(459)](i)),i&&(this[t(442)].testMicrophone?this[t(364)](w[t(461)],i[t(579)]):this[t(490)]?this[t(495)].send(i.buffer):this.emitError(k[t(363)])),this[t(435)]=r}[Re(473)](){const e=Re;this._getUserMedia(),this[e(442)][e(540)]&&this._startHeartInterval()}[Re(443)](){const e=Re;this[e(396)](this[e(520)],e(453)),void 0===window[e(569)][e(560)]&&(window[e(569)][e(560)]={}),void 0===window[e(569)][e(560)][e(453)]&&(this[e(396)](this.TAG_NAME,"window.navigator.mediaDevices.getUserMedia is undefined and init function"),window[e(569)][e(560)].getUserMedia=function(t){const r=e;var s=navigator.getUserMedia||navigator[r(564)]||navigator[r(548)]||navigator[r(398)];return s?new Promise((function(e,i){s[r(562)](navigator,t,e,i)})):Promise[r(518)](new Error(r(491)))}),this[e(442)][e(356)]&&this[e(391)](),window[e(569)][e(560)][e(453)]({audio:this[e(442)][e(392)],video:!1})[e(570)]((t=>{const r=e;this[r(396)](this[r(520)],r(386)),this[r(397)]=t,this[r(365)]=this[r(526)][r(517)](t),this[r(365)][r(451)](this[r(409)]),this[r(558)]?(this[r(409)].connect(this[r(558)]),this.recorder.connect(this[r(535)])):this[r(444)]&&(this.biquadFilter[r(451)](this.workletRecorder),this[r(444)][r(451)](this[r(535)])),this[r(535)][r(451)](this[r(526)][r(458)]),this.emit(w[r(434)]),null===t[r(360)]&&(t.oninactive=e=>{this[r(547)](e)})})).catch((t=>{const r=e;this[r(524)](this[r(520)],"getUserMedia error",t[r(572)]()),this[r(364)](w[r(383)],t[r(572)]())}))[e(566)]((()=>{const t=e;this[t(396)](this[t(520)],t(404)),this[t(557)]()}))}[Re(449)](){const e=Re;this.log(this[e(520)],"getUserMedia"),navigator[e(560)]?navigator[e(560)].getUserMedia({audio:!0})[e(570)]((t=>{const r=e;this[r(396)](this[r(520)],"getUserMedia2 success")})):navigator.getUserMedia({audio:!0},this.log(this.TAG_NAME,e(496)),this.log(this[e(520)],"getUserMedia2 fail"))}async[Re(380)](){const e=Re;this[e(396)](this.TAG_NAME,"getUserMedia3");try{const t=await navigator[e(560)].getUserMedia({audio:{latency:!0,noiseSuppression:!0,autoGainControl:!0,echoCancellation:!0,sampleRate:48e3,channelCount:1},video:!1});console[e(396)](e(439),t),this[e(396)](this[e(520)],e(551))}catch(t){this[e(396)](this[e(520)],e(531))}}_handleStreamInactive(e){const t=Re;this[t(397)]&&(this[t(543)](this[t(520)],"stream oninactive",e),this[t(364)](w.talkStreamInactive))}[Re(391)](){const e=Re;this._stopCheckGetUserMediaTimeout(),this[e(356)]=setTimeout((()=>{const t=e;this[t(396)](this[t(520)],t(503)),this[t(364)](w[t(416)])}),this[e(442)].getUserMediaTimeout)}[Re(557)](){const e=Re;this.checkGetUserMediaTimeout&&(this[e(396)](this.TAG_NAME,e(529)),clearTimeout(this[e(356)]),this[e(356)]=null)}[Re(573)](){const e=Re;this[e(497)]=setInterval((()=>{const t=e;this[t(396)](this[t(520)],"heart interval");let r=this[t(442)].websocketHeartContent;r=new Uint8Array(r),this[t(495)][t(507)](r.buffer)}),1e3*this[e(442)].websocketHeartInterval)}_stopHeartInterval(){const e=Re;this[e(497)]&&(this[e(396)](this[e(520)],"stop heart interval"),clearInterval(this[e(497)]),this[e(497)]=null)}[Re(533)](e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((r,s)=>{const i=Fe;if(!function(){const e=J;let t=!1;const r=window[e(286)];return r&&(t=!(!r[e(458)]||!r[e(458)][e(191)]),!t&&(t=!!(r[e(191)]||r[e(162)]||r[e(454)]||r[e(460)]))),t}())return s(i(472));if(this[i(442)][i(375)]===v[i(441)]){if(!this[i(442)][i(358)]||12!==(""+this._opt.jttSimNumber).length)return s("jttSimNumber is null or length is not 12");if(!this[i(442)][i(384)]||2!==(""+this[i(442)][i(384)])[i(377)])return s(i(501))}if(this[i(493)]=e,this[i(442)][i(475)])this._doTalk();else{if(!this.wsUrl)return s(i(423));if(ie())return s(decodeURIComponent(D));this[i(374)](t).catch((e=>{s(e)}))}this[i(421)](w[i(383)],(()=>{s(i(455))})),this[i(421)](w[i(434)],(()=>{r()}))}))}setVolume(e){const t=Re;e=parseFloat(e)[t(463)](2),isNaN(e)||(e=function(e,t,r){const s=$;return Math.max(Math[s(206)](e,Math[s(192)](t,r)),Math.min(t,r))}(e,0,1),this[t(535)].gain[t(468)]=e)}[Re(488)](){return this[Re(442)]}get[Re(567)](){const e=Re;return this[e(535)]?parseFloat(100*this[e(535)][e(438)][e(468)])[e(463)](0):null}debugLog(e){const t=Re;if(this[t(442)][t(431)]&&this[t(431)]){for(var r=arguments[t(377)],s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];this[t(431)][t(396)](e,...s)}}[Re(379)](e){const t=Re;if(this[t(442)][t(431)]&&this[t(431)]){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];this[t(431)][t(543)](e,...s)}}debugError(e){const t=Re;if(this[t(431)]){for(var r=arguments[t(377)],s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];this[t(431)][t(524)](e,...s)}}[Re(394)](e){const t=Re;null===this[t(454)]&&(this[t(454)]=new Be(this)),this[t(454)].play(e)}[Re(465)](e){const t=Re;let r=arguments[t(377)]>1&&void 0!==arguments[1]?arguments[1]:"";this[t(364)](w[t(524)],e,r),this.emit(e,r)}}const Oe=Ne;function Le(){const e=["volume","catch","_handleTalkGetUserMediaTimeout","7679BoVyxL","_handleTalkStreamInactive","5534150lKDWRz","keys","816arJUal","talk","719512xnzYNT","3705576acRZqw","_handleTalkWebsocketClosedByError","bind","talkStreamClose -> stopTalk","_opt","debug","89847CTtgUX","stopTalk","forEach","setTalkVolume","talk is not init","off","talkStreamError stopTalk","finally","talkStreamClose stopTalk","talkWebsocketClosedByError stopTalk","setVolume","5316ddoDtM","debugError","assign","downloadTempG711File","156283YLffrq","talkStreamInactive -> stopTalk","talkStreamError -> stopTalk","talkStreamError","_handleTalkStreamClose","talkStreamInactive","_initTalk","emit","getOption","then","stopTalk()","debugWarn","talkStreamClose","downloadTempOpusFile","getTalkVolume","stringify","startTalk","downloadOpusFile","downloadFile","debugLog","talkFailedAndStop","_handleTalkStreamError","destroy","3112779hcyPyn","EVENTS","downloadG711File","tallWebsocketClosedByError","LOG_TAG","talkStreamInactive stopTalk","_bindTalkEvents","length","once","log","downloadRtpFile"];return(Le=function(){return e})()}!function(e,t){const r=Ne,s=e();for(;;)try{if(791104===parseInt(r(309))/1+-parseInt(r(287))/2+parseInt(r(332))/3+-parseInt(r(288))/4+-parseInt(r(283))/5+parseInt(r(305))/6*(parseInt(r(281))/7)+-parseInt(r(285))/8*(-parseInt(r(294))/9))break;s.push(s.shift())}catch(e){s.push(s.shift())}}(Le);class Pe extends r{constructor(){const e=Ne;let t=arguments[e(339)]>0&&void 0!==arguments[0]?arguments[0]:{};super(),this[e(286)]=null,this[e(292)]=t,this[e(336)]="JbProTalk",this.debug=new ye(this);try{this.debugLog(this[e(336)],"init",JSON[e(324)](t))}catch(r){this[e(328)](this[e(336)],"init",t)}}destroy(){const e=Ne;this[e(328)](this[e(336)],"destroy()"),this[e(299)](),this[e(286)]&&(this.talk[e(331)](),this[e(286)]=null),this[e(328)](this[e(336)],e(331))}[Oe(315)](){const e=Oe;let t=arguments[e(339)]>0&&void 0!==arguments[0]?arguments[0]:{};this[e(286)]&&(this[e(328)](this[e(336)],"_initTalk this.talk is not null and destroy"),this[e(286)].destroy(),this[e(286)]=null);const r=Object[e(307)]({},re(this[e(292)]),t);this._opt=r,this[e(286)]=new xe(null,r),this[e(328)](this[e(336)],e(315),this[e(286)][e(317)]()),this[e(338)]()}[Oe(338)](){const e=Oe;Object[e(284)](b)[e(296)]((e=>{this.talk.on(b[e],(t=>{this[Ne(316)](e,t)}))}))}startTalk(e){const t=Oe;let r=arguments[t(339)]>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments[t(339)]>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(((i,o)=>{const n=t;try{this.debugLog(this[n(336)],n(325),e,JSON.stringify(r))}catch(t){this[n(328)](this.LOG_TAG,n(325),e,r)}if(this[n(315)](r),ie()){const e=decodeURIComponent(D);return this[n(306)](this[n(336)],e),void o(e)}this[n(286)][n(325)](e,s)[n(318)]((()=>{const e=n;i(),this[e(286)][e(340)](w.talkStreamClose,this[e(313)][e(290)](this)),this[e(286)][e(340)](w[e(312)],this[e(330)].bind(this)),this[e(286)].once(w[e(314)],this[e(282)][e(290)](this)),this.talk[e(340)](w.talkGetUserMediaTimeout,this[e(280)][e(290)](this)),this[e(286)][e(340)](k[e(335)],this[e(289)][e(290)](this))}))[n(279)]((e=>{o(e)}))}))}[Oe(295)](){return new Promise(((e,t)=>{const r=Ne;this[r(328)](this[r(336)],r(319)),!this[r(286)]&&t("talk is not init"),this.talk.destroy(),this[r(286)]=null,e()}))}[Oe(323)](){return new Promise(((e,t)=>{const r=Ne;!this.talk&&t(r(298)),e(this[r(286)][r(278)])}))}setTalkVolume(e){return new Promise(((t,r)=>{const s=Ne;this[s(328)](this[s(336)],s(297),e),!this[s(286)]&&r("talk is not init"),this[s(286)][s(304)](e/100),t()}))}downloadTempRtpFile(){return new Promise(((e,t)=>{const r=Ne;this[r(286)]?(this[r(286)][r(277)](),e()):t(r(298))}))}[Oe(308)](){return new Promise(((e,t)=>{const r=Ne;this.talk?(this[r(286)][r(334)](),e()):t("talk is not init")}))}downloadTempPcmFile(e){return new Promise(((t,r)=>{const s=Ne;this[s(286)]?(this[s(286)].downloadPcmFile(e),t()):r("talk is not init")}))}[Oe(322)](){return new Promise(((e,t)=>{const r=Ne;this[r(286)]?(this.talk[r(326)](),e()):t(r(298))}))}downloadTempFile(){return new Promise(((e,t)=>{const r=Ne;this.talk?(this[r(286)][r(327)](),e()):t(r(298))}))}[Oe(328)](e){const t=Oe;if(this[t(292)].debug&&this[t(293)]){for(var r=arguments[t(339)],s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];this[t(293)][t(341)](e,...s)}}[Oe(320)](e){const t=Oe;if(this[t(292)][t(293)]&&this.debug){for(var r=arguments[t(339)],s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];this[t(293)].warn(e,...s)}}[Oe(306)](e){const t=Oe;if(this[t(293)]){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];this[t(293)].error(e,...s)}}_handleTalkStreamClose(){const e=Oe;this[e(320)](this.LOG_TAG,e(291)),this[e(295)]()[e(279)]((t=>{const r=e;this[r(320)](this[r(336)],r(302),t)}))[e(301)]((()=>{const t=e;this[t(316)](w[t(329)],w[t(321)])}))}[Oe(330)](){const e=Oe;this[e(306)](this[e(336)],e(311)),this[e(295)]()[e(279)]((t=>{const r=e;this[r(320)](this[r(336)],r(300),t)}))[e(301)]((()=>{const t=e;this[t(316)](w[t(329)],w.talkStreamError)}))}[Oe(282)](){const e=Oe;this[e(320)](this[e(336)],e(310)),this[e(295)]()[e(279)]((t=>{const r=e;this[r(320)](this[r(336)],r(337),t)}))[e(301)]((()=>{const t=e;this[t(316)](w[t(329)],w[t(314)])}))}_handleTalkGetUserMediaTimeout(){const e=Oe;this[e(320)](this[e(336)],"talkGetUserMediaTimeout -> stopTalk"),this[e(295)]()[e(279)]((t=>{const r=e;this[r(320)](this[r(336)],"talkGetUserMediaTimeout stopTalk",t)}))[e(301)]((()=>{const t=e;this.emit(w[t(329)],w.talkGetUserMediaTimeout)}))}[Oe(289)](){const e=Oe;this.debugWarn(this.LOG_TAG,"talkWebsocketClosedByError -> stopTalk"),this[e(295)]()[e(279)]((t=>{const r=e;this[r(320)](this[r(336)],r(303),t)}))[e(301)]((()=>{const t=e;this[t(316)](w[t(329)],k.tallWebsocketClosedByError)}))}}function Ne(e,t){const r=Le();return(Ne=function(e,t){return r[e-=277]})(e,t)}return Pe[Oe(333)]=b,window.JessibucaProTalk=Pe,window.JbProTalk=Pe,window.WebPlayerProTalk=Pe,Pe}));
