!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self)["jessibuca-talk"]=t()}(this,(function(){"use strict";const e=t;function t(e,s){const i=r();return(t=function(e,t){return i[e-=229]})(e,s)}function r(){const e=["8TorrlM","length","318634WOWgwx","2761677FMPQVQ","21zzgZJv","off","879070RiPNoE","emit","932598mFwRCl","364023cZjMur","3340678mJZzGu","slice","apply","156455ztUsfu","5vVCczv","84OcOWmj","once"];return(r=function(){return e})()}!function(e,r){const s=t,i=e();for(;;)try{if(490130===parseInt(s(238))/1*(-parseInt(s(243))/2)+parseInt(s(244))/3+parseInt(s(239))/4*(parseInt(s(237))/5)+-parseInt(s(232))/6*(parseInt(s(245))/7)+-parseInt(s(241))/8*(parseInt(s(233))/9)+-parseInt(s(230))/10+parseInt(s(234))/11)break;i.push(i.shift())}catch(e){i.push(i.shift())}}(r);class s{on(e,t,r){const s=this.e||(this.e={});return(s[e]||(s[e]=[])).push({fn:t,ctx:r}),this}[e(240)](e,r,s){const i=this;function o(){const n=t;i[n(229)](e,o);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];r.apply(s,c)}return o._=r,this.on(e,o,s)}[e(231)](t){const r=e,s=((this.e||(this.e={}))[t]||[])[r(235)]();for(var i=arguments.length,o=new Array(i>1?i-1:0),n=1;n<i;n++)o[n-1]=arguments[n];for(let e=0;e<s[r(242)];e+=1)s[e].fn[r(236)](s[e].ctx,o);return this}[e(229)](t,r){const s=e,i=this.e||(this.e={});if(!t)return Object.keys(i).forEach((e=>{delete i[e]})),void delete this.e;const o=i[t],n=[];if(o&&r)for(let e=0,t=o[s(242)];e<t;e+=1)o[e].fn!==r&&o[e].fn._!==r&&n.push(o[e]);return n[s(242)]?i[t]=n:delete i[t],this}}const i=S;!function(e,t){const r=S,s=e();for(;;)try{if(307586===parseInt(r(863))/1+parseInt(r(581))/2+-parseInt(r(783))/3+parseInt(r(813))/4+parseInt(r(742))/5+parseInt(r(794))/6*(-parseInt(r(690))/7)+parseInt(r(895))/8)break;s.push(s.shift())}catch(e){s.push(s.shift())}}(B);const o={websocket:1,fetch:2,hls:3,webrtc:4,webTransport:5,aliyunRtc:6,ts:7};i(586),i(876),i(482),i(728),i(686),i(745),i(876),i(586),i(728),i(766);const n={player:"player",playerAudio:i(645),playbackTF:i(784),talk:"talk",playVod:i(518)},a={mp4:i(766),webm:i(598),flv:i(845),mov:i(826)},c={flv:i(845),m7s:i(493),hls:i(482),webrtc:i(728),webTransport:i(686),nakedFlow:i(564),fmp4:"fmp4",mpeg4:i(553),aliyunRtc:i(745),ts:"ts",g711:"g711",pcm:i(698)};i(792),i(822),i(803),i(720),i(852);const l={mse:"mse",wcs:i(597),offscreen:i(536),wasm:i(721),simd:i(778),mt:"mt",webrtc:"webrtc",hls:i(482),aliyunRtc:i(745)},h={canvas:"canvas",video:i(631)},u={debug:i(830),warn:i(661)},d={click:i(840),mouseDownAndUp:i(588)},p={normal:i(532),simple:"simple"},f={normal:"normal",small:i(647)};i(621);i(820),i(846);const m={playIsNotPauseOrUrlIsNull:"播放地址不能为空",webglAlignmentError:"Webgl 渲染失败",webglContextLostError:i(693),mediaSourceH265NotSupport:i(719),mseSourceBufferFull:"缓冲区已满",mediaSourceAppendBufferError:"初始化解码器失败",mseSourceBufferError:i(643),mseAddSourceBufferError:i(694),mseWorkerAddSourceBufferError:"初始化解码器失败",mediaSourceDecoderConfigurationError:i(694),mediaSourceTsIsMaxDiff:i(701),mseWidthOrHeightChange:i(701),mediaSourceAudioG711NotSupport:i(669),mediaSourceAudioInitTimeout:i(501),mediaSourceAudioNoDataTimeout:i(575),mediaSourceUseCanvasRenderPlayFailed:i(683),mediaSourceBufferedIsZeroError:"流异常",webcodecsH265NotSupport:i(719),webcodecsUnsupportedConfigurationError:i(694),webcodecsDecodeConfigureError:"初始化解码器失败",webcodecsDecodeError:i(643),webcodecsAudioInitTimeout:i(501),webcodecsAudioNoDataTimeout:i(575),wcsWidthOrHeightChange:i(643),wasmDecodeError:i(643),simdDecodeError:i(643),wasmWidthOrHeightChange:i(701),wasmUseVideoRenderError:i(523),videoElementPlayingFailed:i(523),simdH264DecodeVideoWidthIsTooLarge:i(799),networkDelayTimeout:i(862),fetchError:i(838),streamEnd:i(548),websocket1006Error:i(714),websocketError:"请求失败",webrtcError:i(838),hlsError:i(838),decoderWorkerInitError:"初始化worker失败",decoderWorkerWasmError:i(524),videoElementPlayingFailedForWebrtc:i(523),videoInfoError:i(441),webrtcStreamH265:i(446),delayTimeout:"播放超时重播失败",loadingTimeout:i(497),loadingTimeoutRetryEnd:"加载超时重播失败",delayTimeoutRetryEnd:i(800),flvDemuxBufferSizeTooLarge:i(618),audioChannelError:i(761),aliyunRtcError:i(838),mseWaitVideoCanplayTimeout:i(701),initDecoderWorkerTimeout:i(770)};i(661),i(532),i(434),i(843),i(508),i(696),i(879),i(614),i(587),i(532),i(876),i(845),i(721),i(766),i(855),i(840),i(631),i(555),i(555),i(612);i(476),i(780),i(835),i(445),i(859),i(760),i(662),i(676),i(723),i(466),i(491),i(818),i(538),i(502),i(574),i(628),i(774),i(878),i(711),i(460),i(779),i(860),i(528),i(644),i(604),i(875),i(836),i(891),i(551),i(885),i(600),i(432),i(633),i(726),i(452),i(657),i(525),i(465),i(560),i(756),i(435),i(841),i(639),i(881),i(514),i(833),i(869),i(474),i(464),i(801),i(861),i(753),i(691),i(605),i(815),i(768),i(876),i(603),i(892),i(526),i(433),i(876),i(617),i(603),i(892),i(713),i(517),i(707),i(657);const g={fullscreen:i(470),webFullscreen:i(893),decoderWorkerInit:i(463),play:i(870),playing:i(750),pause:i(513),mute:"mute",load:i(749),loading:i(627),zooming:"zooming",drawingRect:i(469),drawingRectInfo:i(652),videoInfo:"videoInfo",timeUpdate:"timeUpdate",audioInfo:i(868),log:"log",error:"error",kBps:i(711),timeout:i(611),delayTimeout:"delayTimeout",delayTimeoutRetryEnd:i(717),loadingTimeout:"loadingTimeout",loadingTimeoutRetryEnd:i(671),stats:"stats",performance:i(509),videoSmooth:"videoSmooth",faceDetectActive:i(494),objectDetectActive:i(613),occlusionDetectActive:i(729),imageDetectActive:i(546),record:i(439),recording:i(436),recordingTimestamp:"recordingTimestamp",recordStart:i(865),recordEnd:i(624),recordCreateError:i(479),recordBlob:"recordBlob",recordCancel:i(563),buffer:i(713),videoFrame:i(667),videoSEI:i(465),videoSEISyncPts:"videoSEISyncPts",start:i(566),metadata:i(740),resize:i(692),volumechange:"volumechange",volume:i(706),destroy:i(603),beforeDestroy:i(796),streamEnd:i(640),streamRate:i(754),streamAbps:i(854),streamVbps:i(735),streamDts:"streamDts",streamSuccess:"streamSuccess",streamMessage:"streamMessage",streamError:i(827),streamStats:i(887),streamEndInner:i(543),mseSourceOpen:i(547),mseSourceClose:"mseSourceClose",mseSourceended:"mseSourceended",mseSourceStartStreaming:"mseSourceStartStreaming",mseSourceEndStreaming:i(746),mseSourceBufferError:"mseSourceBufferError",mseAddSourceBufferError:i(867),mseWorkerAddSourceBufferError:"mseWorkerAddSourceBufferError",mseSourceBufferBusy:i(488),mseSourceBufferFull:"mseSourceBufferFull",videoWaiting:i(649),videoTimeUpdate:i(629),videoSyncAudio:i(797),playToRenderTimes:i(622),playbackTime:i(791),playbackTimestamp:i(498),playbackTimeScroll:i(504),playbackPrecision:i(632),playbackShowPrecisionChange:i(883),playbackJustTime:i(570),playbackStats:i(454),playbackSeek:i(888),playbackPause:"playbackPause",playbackPauseOrResume:i(673),playbackRateChange:i(561),playbackPreRateChange:i(831),playbackEnd:i(594),playVodStats:i(559),playVodPause:i(550),playVodPauseOrResume:i(741),playVodRateChange:i(704),playVodTime:"playVodTime",playVodTimeCache:i(481),playVodSeek:i(585),playVodSeekEnd:i(602),playVodVideoSeekingByMse:i(732),playVodVideoSeekedByMse:i(752),playVodCanplay:i(572),playVodWaiting:i(459),playVodEndedAndReplay:i(677),playVodEnded:i(872),ptz:"ptz",streamQualityChange:i(484),visibilityChange:i(776),netBuf:i(480),close:i(681),networkDelayTimeout:i(442),togglePerformancePanel:i(856),viewResizeChange:"viewResizeChange",flvDemuxBufferSizeTooLarge:i(834),talkGetUserMediaSuccess:"talkGetUserMediaSuccess",talkGetUserMediaFail:"talkGetUserMediaFail",talkGetUserMediaTimeout:i(668),talkStreamStart:i(680),talkStreamOpen:i(805),talkStreamClose:"talkStreamClose",talkStreamError:"talkStreamError",talkStreamInactive:i(739),talkStreamMsg:i(825),webrtcDisconnect:"webrtcDisconnect",webrtcFailed:i(438),webrtcClosed:i(788),webrtcChecking:i(700),webrtcConnected:i(866),webrtcCompleted:"webrtcCompleted",webrtcOnConnectionStateChange:i(582),webrtcOnIceConnectionStateChange:i(595),crashLog:i(737),focus:i(596),blur:i(568),inView:i(889),visibilityHiddenTimeout:"visibilityHiddenTimeout",websocketOpen:i(657),websocketClose:"websocketClose",websocketError:i(517),websocketMessage:"websocketMessage",aiObjectDetectorInfo:i(823),aiFaceDetectorInfo:i(451),aiOcclusionDetectResult:i(630),aiImageDetectResult:i(687),playFailedAndPaused:i(850),audioResumeState:i(812),webrtcStreamH265:i(716),flvMetaData:"flvMetaData",talkFailedAndStop:i(890),removeLoadingBgImage:i(819),memoryLog:i(655),downloadMemoryLog:i(450),pressureObserverCpu:i(811),currentPts:"currentPts",online:i(516),offline:i(531),networkState:i(670),clickInitPlayer:i(809)};i(515),i(821),i(868),i(806),i(711),i(611),i(864),i(671),i(431),i(717),i(444),i(893),i(513),i(447),i(509),i(865),i(479),i(624),i(563),i(622),i(888),i(454),i(498),i(673),i(831),i(594),i(872),i(741),i(704),i(602),i(709),i(484),i(534),i(596),i(568),i(873),i(776),i(657),i(707),i(442),i(823),i(687),i(640),i(812),i(798),i(641),i(582),i(595),i(769),i(718),i(670),i(706);const w={talkStreamClose:g.talkStreamClose,talkStreamError:g[i(530)],talkStreamInactive:g.talkStreamInactive,talkGetUserMediaTimeout:g.talkGetUserMediaTimeout,talkFailedAndStop:g[i(890)],talkStreamMsg:g[i(825)]};i(515),i(868),i(711),i(566),i(864),i(671),i(431),i(717),i(870),i(513),i(447),i(622),i(657),i(707),i(812);const b={talkStreamError:g.talkStreamError,talkStreamClose:g[i(637)]},y={playError:i(736),fetchError:i(695),websocketError:i(517),webcodecsH265NotSupport:i(764),webcodecsDecodeError:i(443),webcodecsUnsupportedConfigurationError:i(802),webcodecsDecodeConfigureError:i(675),webcodecsAudioInitTimeout:"webcodecsAudioInitTimeout",webcodecsAudioNoDataTimeout:i(777),mediaSourceH265NotSupport:i(660),mediaSourceAudioG711NotSupport:i(810),mediaSourceAudioInitTimeout:i(790),mediaSourceAudioNoDataTimeout:"mediaSourceAudioNoDataTimeout",mediaSourceDecoderConfigurationError:i(473),mediaSourceFull:g[i(743)],mseSourceBufferError:g.mseSourceBufferError,mseAddSourceBufferError:g[i(867)],mseWorkerAddSourceBufferError:g[i(782)],mediaSourceAppendBufferError:i(650),mediaSourceTsIsMaxDiff:i(725),mediaSourceUseCanvasRenderPlayFailed:i(571),mediaSourceBufferedIsZeroError:i(722),wasmDecodeError:i(542),wasmUseVideoRenderError:i(807),simdH264DecodeVideoWidthIsTooLarge:i(452),simdDecodeError:i(726),hlsError:i(492),webrtcError:i(500),webrtcClosed:g[i(788)],webrtcIceCandidateError:i(477),webglAlignmentError:i(894),wasmWidthOrHeightChange:i(633),mseWidthOrHeightChange:i(664),wcsWidthOrHeightChange:i(771),widthOrHeightChange:i(527),tallWebsocketClosedByError:i(610),flvDemuxBufferSizeTooLarge:g[i(834)],audioChannelError:i(781),webglContextLostError:"webglContextLostError",videoElementPlayingFailed:"videoElementPlayingFailed",videoElementPlayingFailedForWebrtc:i(712),decoderWorkerInitError:i(755),decoderWorkerWasmError:"decoderWorkerWasmError",videoInfoError:"videoInfoError",streamEnd:g[i(640)],websocket1006Error:i(659),delayTimeout:g[i(431)],loadingTimeout:g[i(864)],networkDelayTimeout:g[i(442)],fullscreenError:"fullscreenError",aliyunRtcError:i(646),mseWaitVideoCanplayTimeout:"mseWaitVideoCanplayTimeout",initDecoderWorkerTimeout:"initDecoderWorkerTimeout",notSupportNewWasm:"notSupportNewWasm",playVodMp4Error:i(703),mp4Error:"mp4Error",...b},k={notConnect:i(702),open:i(606),close:i(681),error:i(806)};function S(e,t){const r=B();return(S=function(e,t){return r[e-=430]})(e,t)}i(747),i(678),i(816),i(511),i(757),i(757),i(545),i(688),i(720),i(688),i(601),i(577),i(842),i(601),i(814),i(874),i(817),i(507),i(536),i(578),i(482),i(728),i(882),i(849),i(804),i(765),i(785),i(505),i(606),i(558),Math[i(455)](40);i(848),i(789),i(576),i(679),i(715),i(682),i(636),i(730),i(576),i(679),i(430),i(483),i(589),i(471),i(642),i(430),i(554),i(656),i(626),i(567),i(599),i(462),i(744),i(437),i(503),i(795),i(684),i(857),i(697),i(487),i(607),i(478),i(851),i(759);const I={g711a:i(592),g711u:i(775),pcm:i(698),opus:i(573)};i(699),i(519),i(590),i(475),i(490),i(828),i(727),i(448),i(472),i(705),i(674),i(786),i(616),i(609),i(844),i(521),i(634),i(666),i(648),i(535),i(539),i(539),i(627),i(663),i(603);const v={pcma:8,g711a:8,pcmu:0,g711u:0,jpeg:26,h264:96,h265:97,opus:98,aac:99},E={empty:"empty",rtp:i(489),jtt:i(758)},T={tcp:"tcp",udp:i(506)};i(562);const A={open:i(606),close:i(681),error:i(806),message:i(544)},C={worklet:"worklet",script:i(625)},_={encType:I[i(592)],packetType:E[i(489)],packetTcpSendType:T[i(710)],rtpSsrc:i(615),numberChannels:1,sampleRate:8e3,sampleBitsWidth:16,frameDuration:20,debug:!1,debugLevel:u.warn,testMicrophone:!1,saveToTempFile:!1,audioBufferLength:160,engine:C[i(593)],checkGetUserMediaTimeout:!1,getUserMediaTimeout:1e4,audioConstraints:{latency:!0,noiseSuppression:!0,autoGainControl:!0,echoCancellation:!0,sampleRate:48e3,channelCount:1},isG711a:!1,isG711u:!1,jttSimNumber:null,jttChannelNumber:1,openWebsocketHeart:!1,websocketHeartInterval:15,websocketHeartContent:""},M={worklet:"worklet",script:i(625),active:i(858)};function B(){const e=["readystatechange","start","rightUp","blur","mseDecodeError","playbackJustTime","mediaSourceUseCanvasRenderPlayFailed","playVodCanplay","opus","initVideo","等待音频数据超时","tenMin","ALAW(g711a)","mse","3-1","seeked","853348lrCihA","webrtcOnConnectionStateChange","load-start","multiMousedown","playVodSeek","websocket","default","mouseDownAndUp","right-up","sourceclose","loadstart","g711a","worklet","playbackEnd","webrtcOnIceConnectionStateChange","focus","wcs","webm","stop","workerEnd","AAC","playVodSeekEnd","destroy","videoNalu","resetVideoDecode","open","fogOpen","NotAllowedError","progress","tallWebsocketClosedByError","timeout","red","objectDetectActive","none","0000000000","stalled","sendMessage","FLV待解封装buffer过大","outbound-rtp","demuxed-track","20240910","playToRenderTimes","receiver","recordEnd","script","leftUp","loading","render","videoTimeUpdate","aiOcclusionDetectResult","video","playbackPrecision","wasmWidthOrHeightChange","Cannot call 'decode' on a closed codec","idle","30min","talkStreamClose","seeking","mseHandle","streamEnd","flvMetaData","right-down","解码失败","videoCode","playerAudio","aliyunRtcError","small","Decoding error","videoWaiting","mediaSourceAppendBufferError","MEDIA_ERR_DECODE","drawingRectInfo","flv-script-data","global","memoryLog","left","websocketOpen","remote-inbound-rtp","websocket1006Error","mediaSourceH265NotSupport","warn","isFlv","paused","mseWidthOrHeightChange","MEDIA_ERR_NETWORK","Decoder failure","videoFrame","talkGetUserMediaTimeout","硬解码不支持G711a/u音频格式","networkState","loadingTimeoutRetryEnd","complete","playbackPauseOrResume","timeupdate","webcodecsDecodeConfigureError","isFmp4","playVodEndedAndReplay","full","fiveMin","talkStreamStart","close","five-min","MediaSource解码使用canvas渲染失败","focusFar","sei-in-time","webTransport","aiImageDetectResult","H265(HEVC)","buffering","26551QdKiCp","clearBuffer","resize","webgl 上下文丢失","初始化解码器失败","fetchError","decoder-pro-hard-not-wasm.js","cruiseStart","pcm","image/png","webrtcChecking","流异常","notConnect","playVodMp4Error","playVodRateChange","waiting","volume","websocketClose","multiDragstart","ptz","tcp","kBps","videoElementPlayingFailedForWebrtc","buffer","流异常结束","ten-min","webrtcStreamH265","delayTimeoutRetryEnd","videoSmooth","不支持硬解码H265","MPEG4","wasm","mediaSourceBufferedIsZeroError","isHls","multiDragleave","mediaSourceTsIsMaxDiff","simdDecodeError","endstreaming","webrtc","occlusionDetectActive","5min","memory access out of bounds","playVodVideoSeekingByMse","multiMouseup","load-complete","streamVbps","playIsNotPauseOrUrlIsNull","crashLog","load-response-headers","talkStreamInactive","metadata","playVodPauseOrResume","1549090cHIlOX","mseSourceBufferFull","zoomExpand","aliyunRtc","mseSourceEndStreaming","empty","sei","load","playing","window","playVodVideoSeekedByMse","updateConfig","streamRate","decoderWorkerInitError","aacSequenceHeader","blob","jtt","wiperClose","multiIndex","音频通道错误","track","inbound-rtp","webcodecsH265NotSupport",'video/mp4; codecs="hev1.1.6.L123.b0"',"mp4","4-1","sendWsMessage","currentPts","初始化解码worker超时","wcsWidthOrHeightChange","#FFCC00","no-audio-track","playAudio","g711u","visibilityChange","webcodecsAudioNoDataTimeout","simd","audioCode","playbackForwardMaxRateDecodeIFrame","audioChannelError","mseWorkerAddSourceBufferError","1579359SOGeIy","playbackTF",'video/mp4;codecs="hev1.3.E.L120.90"',"ratechange","metadata-parsed","webrtcClosed","halfHour","mediaSourceAudioInitTimeout","playbackTime","M7S","MEDIA_ERR_ABORTED","822nNnHda","apertureNear","beforeDestroy","videoSyncAudio","videoSEISyncPts","不支持该分辨率的视频","播放超时重播失败","initAudioCodec","webcodecsUnsupportedConfigurationError","FMP4",'video/mp4; codecs="avc1.64002A"',"talkStreamOpen","error","wasmUseVideoRenderError","play() failed because the user didn't interact with the document first","clickInitPlayer","mediaSourceAudioG711NotSupport","pressureObserverCpu","audioResumeState","833864HdpHFu","ALAW","fetchStream","download","webgl","isWebrtcForOthers","removeLoadingBgImage","/crypto/","videoInfo","HLS","aiObjectDetectorInfo","object","talkStreamMsg","mov","streamError","startstreaming","sourcebuffer-created","debug","playbackPreRateChange","switch-url-success","notSupportNewWasm","flvDemuxBufferSizeTooLarge","isMulti","wasmError","connecting","请求失败","loadeddata","click","flvBufferData","MULAW(g711u)","decoder-pro-audio.js","loadedmetadata","flv","jbprov","canplaythrough","oneHour","delta","playFailedAndPaused","wiperOpen","Webrtc","multiSelected","streamAbps","vertical","togglePerformancePanel","focusNear","active","pauseAndNextPlayUseLastFrameShow","audioNalu","initVideoCodec","网络超时重播失败","132550RjXEAI","loadingTimeout","recordStart","webrtcConnected","mseAddSourceBufferError","audioInfo","Invalid NAL unit size","play","hls-level-loaded","playVodEnded","visibilityHiddenTimeout","MP3","videoPayload","fetch","multiDrop","initAudio","jessibuca-pro-mp4-recorder-decoder.js","subtitle-segments","mseFirstRenderTime","key","playbackShowPrecisionChange","webrtc-disconnected","isDropping","switch-url-failed","streamStats","playbackSeek","inView","talkFailedAndStop","workerFetch","destroyEnd","webFullscreen","webglAlignmentError","2209376AebLyr","right","delayTimeout","networkDelay","fetchSuccess","decoder-pro.js","videoSequenceHeader","recording","zoomNarrow","webrtcFailed","record","decoder-pro-audio-player.js","解析视频分辨率失败","networkDelayTimeout","webcodecsDecodeError","fullscreen","isM7sCrypto","webrtc不支持H265","stats","qualitychange","remove-buffer","downloadMemoryLog","aiFaceDetectorInfo","simdH264DecodeVideoWidthIsTooLarge","webrtc-checking","playbackStats","ceil","audio packet","multiMouseout","3-4","playVodWaiting","decode","peer-connection","fiStop","decoderWorkerInit","videoDecode","videoSEI","isWebrtc","emptied","webrtc-closed","drawingRect","fullscreen$2","left-down","canplay","mediaSourceDecoderConfigurationError","audioDecode","sourceopen","playType","webrtcIceCandidateError","fogClose","recordCreateError","netBuf","playVodTimeCache","hls","left-up","streamQualityChange","buffereos","data-channel","cruiseStop","mseSourceBufferBusy","rtp","sourceended","isWebrtcForZLM","hlsError","m7s","faceDetectActive","load-retry","suspend","加载超时重播失败","playbackTimestamp","candidate-pair","webrtcError","初始化音频解码器失败","init","apertureFar","playbackTimeScroll","ended","udp","webgpu","decoder-pro-hard.js","performance","multiDblSelected","base64","MEDIA_ERR_SRC_NOT_SUPPORTED","pause","mseError","timeUpdate","online","websocketError","playVod","image/webp","wcsDecodeError","A key frame is required after configure() or flush()","#343434","video自动渲染失败","wasm解码失败","closeEnd","fetchClose","widthOrHeightChange","audioAACSequenceHeader","mp3","talkStreamError","offline","normal","multiDragenter","zooming","The user aborted a request","offscreen","csrc","isAliyunRtc","AbortError","webrtc-failed","media-source","wasmDecodeError","streamEndInner","message","H264(AVC)","imageDetectActive","mseSourceOpen","请求结束","speed","playVodPause","iframeIntervalTs","durationchange","mpeg4","down","white","sender","transport","closed","playVodStats","flvScriptData","playbackRateChange","stream","recordCancel","nakedFlow"];return(B=function(){return e})()}i(522),i(772),i(510),i(853),i(457),i(733),i(584),i(708),i(533),i(724),i(877),i(579),i(767),i(458),i(631),i(645),i(661),i(845),i(440),i(880),i(871),i(620),i(653),i(787),i(495),i(583),i(549),i(734),i(738),i(748),i(685),i(773),i(449),i(485),i(829),i(886),i(832),i(806),i(635),i(837),i(689),i(806),i(672),i(793),i(665),i(651),i(512),i(456),i(808),i(608),i(731),i(499),i(537),i(486),i(763),i(619),i(461),i(623),i(658),i(556),i(562),i(762),i(557),i(541),i(569),i(520),i(827),i(529),i(453),i(884),i(540),i(468),i(627),"object"==typeof window&&window[i(751)]===window?window:typeof self===i(824)&&self.self===self?self:typeof global===i(824)&&global[i(654)]===global&&global,i(847),i(672),i(552),i(467),i(505),i(806),i(839),i(844),i(591),i(513),i(870),i(750),i(609),i(786),i(580),i(638),i(616),i(496),i(674),i(565),i(806);var U=D;function D(e,t){var r=F();return(D=function(e,t){return r[e-=450]})(e,t)}function F(){var e=["6680zHANGk","16gWWSqc","screenfull","mozfullscreenchange","3807Zdxqvf","39237SqJWfR","2000502WRHQDe","2030aYMyPx","msFullscreenElement","webkitCurrentFullScreenElement","catch","exports","webkitfullscreenerror","mozFullScreenEnabled","fullscreenerror","fullscreenEnabled","MSFullscreenError","mozCancelFullScreen","fullscreenchange","removeEventListener","mozFullScreenElement","length","webkitfullscreenchange","undefined","219995XVnsuh","documentElement","document","MSFullscreenChange","off","webkitRequestFullScreen","218gLMLPt","mozRequestFullScreen","exitFullscreen","requestFullscreen","webkitCancelFullScreen","addEventListener","msFullscreenEnabled","fullscreenElement","962307HkDZmO","2786427hzbZJK","change","then","isFullscreen","request","object","isEnabled","mozfullscreenerror","webkitExitFullscreen","457KdlpHA","webkitFullscreenEnabled","bind","msRequestFullscreen"];return(F=function(){return e})()}!function(e,t){for(var r=D,s=e();;)try{if(211292===parseInt(r(464))/1*(parseInt(r(498))/2)+-parseInt(r(454))/3+parseInt(r(469))/4*(parseInt(r(492))/5)+parseInt(r(474))/6+-parseInt(r(455))/7+-parseInt(r(468))/8*(parseInt(r(472))/9)+-parseInt(r(475))/10*(-parseInt(r(473))/11))break;s.push(s.shift())}catch(e){s.push(s.shift())}}(F),function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t,r,s,i,o,n;t=D,r=typeof window!==t(491)&&typeof window[t(494)]!==t(491)?window[t(494)]:{},s="undefined"!==t(460)&&e[t(479)],i=function(){for(var e,s=t,i=[["requestFullscreen",s(500),s(453),"fullscreenEnabled",s(486),"fullscreenerror"],["webkitRequestFullscreen",s(463),"webkitFullscreenElement",s(465),s(490),"webkitfullscreenerror"],[s(497),"webkitCancelFullScreen",s(477),s(450),s(490),s(480)],[s(499),s(485),s(488),s(481),s(471),s(462)],[s(467),"msExitFullscreen",s(476),s(452),s(495),s(484)]],o=0,n=i[s(489)],a={};o<n;o++)if((e=i[o])&&e[1]in r){for(o=0;o<e[s(489)];o++)a[i[0][o]]=e[o];return a}return!1}(),o={change:i[t(486)],error:i[t(482)]},n={request:function(e,s){return new Promise(function(t,o){var n=D,a=function(){var e=D;this[e(496)](e(456),a),t()}[n(466)](this);this.on(n(456),a);var c=(e=e||r[n(493)])[i[n(501)]](s);c instanceof Promise&&c[n(457)](a)[n(478)](o)}[t(466)](this))},exit:function(){return new Promise(function(e,t){var s=D;if(this[s(458)]){var o=function(){this.off("change",o),e()}.bind(this);this.on("change",o);var n=r[i[s(500)]]();n instanceof Promise&&n[s(457)](o).catch(t)}else e()}[t(466)](this))},toggle:function(e,r){var s=t;return this[s(458)]?this.exit():this[s(459)](e,r)},onchange:function(e){var r=t;this.on(r(456),e)},onerror:function(e){this.on("error",e)},on:function(e,s){var i=o[e];i&&r[t(451)](i,s,!1)},off:function(e,s){var i=o[e];i&&r[t(487)](i,s,!1)},raw:i},i?(Object.defineProperties(n,{isFullscreen:{get:function(){return Boolean(r[i[t(453)]])}},element:{enumerable:!0,get:function(){return r[i.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(r[i[t(483)]])}}}),s?e.exports=n:window.screenfull=n):s?e[t(479)]={isEnabled:!1}:window[t(470)]={isEnabled:!1}}))[U(461)];const L=x;function W(){const e=["buffer","getUint32","destroy","readUEG","29885416qryOKa","294748eBnRGD","error","9xARoad","4079048LZFpFy","_current_word","_skipLeadingZero","3grUPev","13853wYnbMH","readByte","_buffer","4eDwcQF","min","_buffer_index","_fillCurrentWord","_current_word_bits_left","545110jKDXrO","122353WtVESz","_total_bits","4041395lYeboA","readBits","subarray","2202ObVkUx","readSEG"];return(W=function(){return e})()}!function(e,t){const r=x,s=e();for(;;)try{if(701893===parseInt(r(135))/1+parseInt(r(147))/2*(-parseInt(r(153))/3)+parseInt(r(157))/4*(-parseInt(r(137))/5)+-parseInt(r(140))/6*(parseInt(r(154))/7)+-parseInt(r(150))/8+parseInt(r(149))/9*(parseInt(r(134))/10)+parseInt(r(146))/11)break;s.push(s.shift())}catch(e){s.push(s.shift())}}(W);class R{constructor(e){const t=x;this._buffer=e,this[t(131)]=0,this._total_bytes=e.byteLength,this[t(136)]=8*e.byteLength,this[t(151)]=0,this._current_word_bits_left=0}[L(144)](){this[L(156)]=null}_fillCurrentWord(){const e=L;let t=this._total_bytes-this[e(131)];if(t<=0)return void console[e(148)]("ExpGolomb: _fillCurrentWord() but no bytes available",this._total_bytes,this[e(131)]);let r=Math[e(158)](4,t),s=new Uint8Array(4);s.set(this[e(156)][e(139)](this[e(131)],this[e(131)]+r)),this[e(151)]=new DataView(s[e(142)])[e(143)](0,!1),this._buffer_index+=r,this[e(133)]=8*r}[L(138)](e){const t=L;if(e>32&&console.error("ExpGolomb: readBits() bits exceeded max 32bits!"),e<=this[t(133)]){let r=this[t(151)]>>>32-e;return this[t(151)]<<=e,this[t(133)]-=e,r}let r=this[t(133)]?this[t(151)]:0;r>>>=32-this[t(133)];let s=e-this[t(133)];this[t(132)]();let i=Math.min(s,this[t(133)]),o=this[t(151)]>>>32-i;return this._current_word<<=i,this._current_word_bits_left-=i,r=r<<i|o,r}readBool(){return 1===this[L(138)](1)}[L(155)](){return this[L(138)](8)}[L(152)](){const e=L;let t;for(t=0;t<this[e(133)];t++)if(0!=(this[e(151)]&2147483648>>>t))return this._current_word<<=t,this[e(133)]-=t,t;return this[e(132)](),t+this[e(152)]()}[L(145)](){let e=this._skipLeadingZero();return this.readBits(e+1)-1}[L(141)](){let e=this[L(145)]();return 1&e?e+1>>>1:-1*(e>>>1)}}function x(e,t){const r=W();return(x=function(e,t){return r[e-=131]})(e,t)}const O=G;function N(){const e=["sample_rate","more than 2 numLayer Not Supported","readByte","Could not found ADTS syncword until payload end","channel_config","other_data_present","android","byteLength","log","read_golomb","bufoff","firefox","readBits","sampling_frequency","getIncompleteData","push","sampleRate: ","error","length","toLowerCase","readNextAACFrame","data_","mp4a.40.2","findNextSyncwordOffset","navigator","iserro","1644453GDumBX","hasIncompleteData","13654xyHAdb","6507536vZaKue","Flv: AAC invalid channel configuration","userAgent","getLATMValue","indexOf","channels","14185IDxqAl","Flv: AAC invalid sampling frequency index!","has_last_incomplete_data","frameLengthType = ","destroy","mp4a.40.","sequenceHeader","look","sampling_index","ext_object_type","AAC","aac","subarray","9235611sXfwZo","slice","eof_flag_","channel: ","data","154oTtVwe","more than 2 numProgram Not Supported","current_syncword_offset_","1028pIDoKq","unshift","object_type","chan_config","sampling_freq_index","17736730QwcyKM","readBool","bufpos","profile: ","warn","audioMuxVersionA is Not Supported","717486MxkkcB","buffer","21kqdJrm","sbr","audio_object_type","read","allStreamsSameTimeFraming zero is Not Supported",". Only frameLengthType = 0 Supported","buflen","set"];return(N=function(){return e})()}!function(e,t){const r=G,s=e();for(;;)try{if(650593===-parseInt(r(174))/1*(parseInt(r(226))/2)+parseInt(r(224))/3+parseInt(r(177))/4*(parseInt(r(233))/5)+parseInt(r(188))/6*(parseInt(r(190))/7)+parseInt(r(227))/8+parseInt(r(169))/9+-parseInt(r(182))/10)break;s.push(s.shift())}catch(e){s.push(s.shift())}}(N);const P=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350,-1,-1,-1];function G(e,t){const r=N();return(G=function(e,t){return r[e-=168]})(e,t)}O(193),O(240),O(207);O(221),O(225),O(212);O(221),O(230),O(218),O(225),O(212);function V(){const e=["byteLength","104rkpBTi","8626288wBAziQ","set","426201bnziHr","5119908lInaSg","push","subarray","478681rJPAOu","4xXyNOb","toString","5AsoYbP","buffer","12249040UcmRgs","length","12QXxmnC","8591580EbjScL","88280JjMPBj","63FmVthq"];return(V=function(){return e})()}function z(e,t){const r=V();return(z=function(e,t){return r[e-=143]})(e,t)}!function(e,t){const r=z,s=e();for(;;)try{if(839441===parseInt(r(148))/1*(-parseInt(r(153))/2)+parseInt(r(143))/3*(parseInt(r(161))/4)+parseInt(r(155))/5*(parseInt(r(149))/6)+parseInt(r(152))/7*(parseInt(r(145))/8)+-parseInt(r(160))/9+parseInt(r(157))/10+parseInt(r(146))/11*(-parseInt(r(159))/12))break;s.push(s.shift())}catch(e){s.push(s.shift())}}(V);const j=K;function H(){}function q(){const e=K;return(new Date)[e(457)]()}!function(e,t){const r=K,s=e();for(;;)try{if(865179===-parseInt(r(533))/1+-parseInt(r(548))/2+parseInt(r(485))/3*(parseInt(r(483))/4)+parseInt(r(290))/5+-parseInt(r(267))/6+parseInt(r(323))/7*(parseInt(r(564))/8)+parseInt(r(497))/9*(parseInt(r(568))/10))break;s.push(s.shift())}catch(e){s.push(s.shift())}}(Q),(()=>{const e=K;try{if(typeof WebAssembly===e(530)&&"function"==typeof WebAssembly[e(436)]){const t=new(WebAssembly[e(269)])(Uint8Array.of(0,97,115,109,1,0,0,0));if(t instanceof WebAssembly[e(269)])return new(WebAssembly[e(478)])(t)instanceof WebAssembly.Instance}}catch(e){}})();j(310);function J(){const e=j,t=window[e(476)][e(479)].toLowerCase();return t&&/iphone|ipad|ipod|ios/[e(427)](t)}function K(e,t){const r=Q();return(K=function(e,t){return r[e-=252]})(e,t)}function Q(){const e=["video","result","content","setInt8","validate","canConstructInDedicatedWorker","restore","VideoEncoder.isConfigSupported is not a function","toUpperCase","host","setUint16","zIndex","-webkit-user-select","3885145BVOfEX","apply","PB/s","font","0 KB/s","getSeconds","length","clearRect","max","safari","solid","atob","fromCharCode","opera","display","start","search","100%","AudioDecoder","Firefox",'"production"',"Reserved SBR extensions is not implemented","hev2","strokeStyle","location","VideoEncoder.isConfigSupported() result is not supported","imageSmoothingEnabled","performance","match","textAlign","Edg","numberOfFrames","YB/s","217nDgNxu","MULAW","forEach","not compiled with thread support","iFrame","WebGL2RenderingContext","subarray","chrome","quality","nLp","TB/s","replace","top","transferControlToOffscreen","EB/s","msGetUserMedia","edge","onload","requestVideoFrameCallback","bottom","isConfigSupported","scrollLeft","webkit-3d","webkitFullscreenElement","floor","mimeTypes","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=","WebGLRenderingContext","innerHTML","charAt","ActiveXObject","webgl2","100","[object Exception]","setInt16","color","appendChild","fillText","fillStyle","sps","[object DOMException]","ended","shadowRoot","ManagedMediaSource","div","backgroundColor","-webkit-touch-callout","toString","close","open","0 Bytes","none","origin","event","hev4","absolute","[object Error]","now","readyState","block","supported","message","clientY","set","GB/s","MediaStream","green","isTypeSupported","container","download","addModule","fmt ","pathname","getUint8","noteOn","stringify","xxxx","srcElement","getUserMedia","substring","getDate","gpu","PressureObserver","body","hev1.1.6.L120.90","insertBefore","documentElement","application/360softmgrplugin","opacity","format","getFullYear","fontSize","-webkit-tap-highlight-color","image/png","ALAW","memory","AudioData","application/javascript","push","createElement","px 宋体","data","paused","QHBrowser","test","call","-o-user-select","createEvent","green yuv","random","children","keys","click","instantiate","round","moz-webgl","filter","[object Number]","xxxxxxxxxxxx4xxx","If you want to help, upload a sample of this file to","demuxUseWorker","hev3",'"development"',"getAttribute","attachShadow","application/hwepass2001.installepass2001","buffer","createTextNode","charCodeAt","win32","h264","mozGetUserMedia","target","Chrome","getTime","createBuffer","file","mouseup","URL","toLowerCase","avc1.","resume","VideoDecoder","getDay","wow32","status","keyFrame","https:","experimental-webgl","h265","string","canvas","mediaDevices","navigator","KB/s","Instance","userAgent","touchend","left","error","8MIsoSZ","hev","2306361EBVrzo","undefined","pageY","true","lineWidth","join","copyright","NaN","-webkit-text-size-adjust","webm","src","log","1305bSwLlT","split","borderStyle","drawImage","user-select","removeAttribute","width","assign","html","parse","function","mousemove","dataset","imageSmoothingQuality","9999999","Edge","setUint32","fontFamily","QQBrowser","prototype","indexOf","pow","height","data-","href","getHours","strokeRect","pps","mousedown","overflow","{y}-{m}-{d} {h}:{i}:{s}","then","createObjectURL","object","VideoFrame","win64","707906aDNRMC","objectFit","contain","removeChild","setUint8","crossOrigin","image","hasAudio","-moz-user-select","MediaSource","application/vnd.chromium.remoting-viewer","useWCS","showModalDialog","createImageBitmap","webgl","2997502lWJnUu","application/vnd.apple.mpegurl","application/mozilla-npqihooquicklogin","setHours","isFullscreen","hostname","img","Worker","style","application/asx","toDataURL","protocol","QihooBrowser","revokeObjectURL","toFixed","wcsDecodeAudio","193096zNqyuy","high","connect","msFullscreenElement","34750cAJPkN","map","type","repeat",'video/mp4; codecs="',"getMinutes","angle","version","not compiled with thread support, using thread emulation","setAttribute","right","ZB/s","text","localhost","mseDecodeAudio","slice","pageX","illegal icc","createBufferSource","byteLength","scrollTop","borderWidth","rect","px Arial","Opera","onerror","touches","2969334gMhDsX","getContext","Module","min","audioWorklet","useMSE","clientX","WAVE","vps","RIFF"];return(Q=function(){return e})()}j(445),j(310);const Z=()=>(()=>{const e=j,t=window[e(476)][e(479)];return/MicroMessenger/i[e(427)](t)})()&&function(){const e=j,t=window[e(476)][e(479)][e(462)]();return/android/i[e(427)](t)}();function X(e){const t=j;let r="";if("object"==typeof e)try{r=JSON.stringify(e),r=JSON[t(506)](r)}catch(t){r=e}else r=e;return r}function Y(e){return!0===e||e===j(488)}const $=te;function ee(){const e=["multiTap","312540EOQTPl","outputBuffer","272OLWnmk","tailExists","ceil","initialize","lastWeight","Invalid settings specified for the resampler.","slice","subarray","resample","ratioWeight","1419810eEqkEM","17229VySkbm","Buffer was of incorrect sample length.","floor","fromSampleRate","resampler","bufferSlice","702234vtewbZ","lastOutput","229056QfNoTc","channels","792290IUYQWa","length","linearInterpolation","toSampleRate","inputBufferSize","initializeBuffers","7YPtATC","13023jIrYty","14oGZGeM","outputBufferSize"];return(ee=function(){return e})()}function te(e,t){const r=ee();return(te=function(e,t){return r[e-=188]})(e,t)}!function(e,t){const r=te,s=e();for(;;)try{if(109027===-parseInt(r(191))/1*(parseInt(r(209))/2)+parseInt(r(212))/3+-parseInt(r(199))/4+parseInt(r(201))/5+parseInt(r(197))/6*(parseInt(r(207))/7)+-parseInt(r(214))/8*(-parseInt(r(208))/9)+-parseInt(r(190))/10)break;s.push(s.shift())}catch(e){s.push(s.shift())}}(ee);class re{constructor(e){const t=te,{fromSampleRate:r,toSampleRate:s,channels:i,inputBufferSize:o}=e;if(!r||!s||!i)throw new Error(t(219));this[t(195)]=null,this[t(194)]=r,this.toSampleRate=s,this.channels=i||0,this.inputBufferSize=o,this.initialize()}destroy(){const e=te;this[e(195)]=null,this[e(194)]=null,this[e(204)]=null,this[e(200)]=null,this[e(205)]=null}[$(217)](){const e=$;this[e(194)]==this[e(204)]?(this.resampler=e=>e,this[e(189)]=1):(this[e(194)]<this.toSampleRate?(this[e(203)](),this[e(218)]=1):(this[e(211)](),this[e(215)]=!1,this.lastWeight=0),this[e(206)](),this[e(189)]=this[e(194)]/this[e(204)])}[$(196)](e){const t=$;try{return this[t(213)][t(221)](0,e)}catch(r){try{return this[t(213)][t(202)]=e,this[t(213)]}catch(r){return this[t(213)][t(220)](0,e)}}}[$(206)](){const e=$;this.outputBufferSize=Math[e(216)](this.inputBufferSize*this[e(204)]/this[e(194)]/this.channels*1.0000004768371582)+this[e(200)]+this[e(200)];try{this[e(213)]=new Float32Array(this[e(210)]),this[e(198)]=new Float32Array(this[e(200)])}catch(t){this[e(213)]=[],this[e(198)]=[]}}[$(203)](){const e=$;this[e(195)]=t=>{const r=e;let s,i,o,n,a,c,l,h,u,d=t[r(202)],p=this.channels;if(d%p!=0)throw new Error(r(192));if(d<=0)return[];for(s=this[r(210)],i=this[r(189)],o=this[r(218)],n=0,a=0,c=0,l=0,h=this.outputBuffer;o<1;o+=i)for(a=o%1,n=1-a,this[r(218)]=o%1,u=0;u<this[r(200)];++u)h[l++]=this[r(198)][u]*n+t[u]*a;for(o-=1,d-=p,c=Math.floor(o)*p;l<s&&c<d;){for(a=o%1,n=1-a,u=0;u<this.channels;++u)h[l++]=t[c+(u>0?u:0)]*n+t[c+(p+u)]*a;o+=i,c=Math[r(193)](o)*p}for(u=0;u<p;++u)this[r(198)][u]=t[c++];return this[r(196)](l)}}[$(211)](){this.resampler=e=>{const t=te;let r,s,i,o,n,a,c,l,h,u,d,p=e[t(202)],f=this[t(200)];if(p%f!=0)throw new Error("Buffer was of incorrect sample length.");if(p<=0)return[];for(r=this[t(210)],s=[],i=this.ratioWeight,o=0,a=0,c=0,l=!this.tailExists,this[t(215)]=!1,h=this.outputBuffer,u=0,d=0,n=0;n<f;++n)s[n]=0;do{if(l)for(o=i,n=0;n<f;++n)s[n]=0;else{for(o=this.lastWeight,n=0;n<f;++n)s[n]=this[t(198)][n];l=!0}for(;o>0&&a<p;){if(c=1+a-d,!(o>=c)){for(n=0;n<f;++n)s[n]+=e[a+(n>0?n:0)]*o;d+=o,o=0;break}for(n=0;n<f;++n)s[n]+=e[a++]*c;d=a,o-=c}if(0!==o){for(this.lastWeight=o,n=0;n<f;++n)this.lastOutput[n]=s[n];this[t(215)]=!0;break}for(n=0;n<f;++n)h[u++]=s[n]/i}while(a<p&&u<r);return this[t(196)](u)}}[$(188)](e){const t=$;return this.fromSampleRate==this[t(204)]?this[t(189)]=1:(this[t(194)]<this[t(204)]?this.lastWeight=1:(this[t(215)]=!1,this[t(218)]=0),this[t(206)](),this[t(189)]=this[t(194)]/this[t(204)]),this[t(195)](e)}}function se(e,t){const r=ie();return(se=function(e,t){return r[e-=286]})(e,t)}function ie(){const e=["max","135lYDaOU","51XLPFbb","2263884btHrre","1351174NmZxit","260035sqVWsl","45KLNwhe","3549KXTyDz","20lKoKaZ","min","142792zziIWn","158188obpGBD","339546MlOPyA","11484QLHmxi","length","2KjeeJk"];return(ie=function(){return e})()}function oe(){const e=["call","1697536yrAHMF","forEach","5068357cLpYMC","3066108scXyyF","3438xuVnXh","ALAW","length","MULAW","1084vBVCXv","316tdKein","20465883PYsbAJ","3819250nBNotX","2508tKdVke","set"];return(oe=function(){return e})()}function ne(e,t){const r=oe();return(ne=function(e,t){return r[e-=132]})(e,t)}!function(e,t){const r=se,s=e();for(;;)try{if(338797===-parseInt(r(291))/1*(-parseInt(r(301))/2)+-parseInt(r(288))/3*(-parseInt(r(297))/4)+-parseInt(r(292))/5*(parseInt(r(298))/6)+-parseInt(r(289))/7+parseInt(r(296))/8*(-parseInt(r(287))/9)+parseInt(r(294))/10*(parseInt(r(290))/11)+parseInt(r(299))/12*(parseInt(r(293))/13))break;s.push(s.shift())}catch(e){s.push(s.shift())}}(ie),function(e,t){const r=ne,s=e();for(;;)try{if(621164===-parseInt(r(134))/1*(parseInt(r(135))/2)+-parseInt(r(145))/3*(parseInt(r(138))/4)+-parseInt(r(137))/5+-parseInt(r(144))/6+parseInt(r(143))/7+-parseInt(r(141))/8+parseInt(r(136))/9)break;s.push(s.shift())}catch(e){s.push(s.shift())}}(oe);const ae=132,ce=[255,511,1023,2047,4095,8191,16383,32767];function le(e,t,r){for(let s=0;s<r;s++)if(e<=t[s])return s;return r}function he(e){const t=ne,r=[];return Array.prototype.slice[t(140)](e)[t(142)](((e,t)=>{r[t]=function(e){let t,r,s;return e>=0?t=213:(t=85,(e=-e-1)<0&&(e=32767)),r=le(e,ce,8),r>=8?127^t:(s=r<<4,s|=r<2?e>>4&15:e>>r+3&15,s^t)}(e)})),r}function ue(e){const t=ne,r=[];return Array.prototype.slice[t(140)](e)[t(142)](((e,t)=>{r[t]=function(e){let t=0;e<0?(e=ae-e,t=127):(e+=ae,t=255);let r=le(e,ce,8);return r>=8?127^t:(r<<4|e>>r+3&15)^t}(e)})),r}function de(e){const t=[];return e.forEach((e=>{t[e]=function(e){let t=((15&(e=~e))<<3)+ae;return t<<=(112&e)>>4,128&e?ae-t:t-ae}(e)})),t}function pe(){const e=["1226205TAHacv","[❌❌❌][","195ypcglO","297300YKzhWH","log","4RMwMOE","[✅✅✅][","warn","35198QJCQyn","length","2653410jbohyz","365150hXQhXx","763350guCpVT","debugUuid","1034802rXpLIW","7sUwEKs","JbPro","debugLevel","35AcfTab","24bncTUa","11esFfLb","_opt","debug","error"];return(pe=function(){return e})()}function fe(e,t){const r=pe();return(fe=function(e,t){return r[e-=424]})(e,t)}!function(e,t){const r=fe,s=e();for(;;)try{if(316137===parseInt(r(425))/1*(-parseInt(r(439))/2)+-parseInt(r(443))/3*(-parseInt(r(436))/4)+parseInt(r(431))/5+parseInt(r(441))/6*(parseInt(r(446))/7)+-parseInt(r(426))/8*(parseInt(r(445))/9)+parseInt(r(442))/10*(-parseInt(r(427))/11)+-parseInt(r(434))/12*(-parseInt(r(433))/13))break;s.push(s.shift())}catch(e){s.push(s.shift())}}(pe);class me{constructor(e){const t=fe;this[t(435)]=function(r){const s=t;if(e._opt[s(424)]==u[s(429)]){const t=e[s(428)][s(444)]?"["+e._opt[s(444)]+"]":"";for(var i=arguments[s(440)],o=new Array(i>1?i-1:0),n=1;n<i;n++)o[n-1]=arguments[n];console[s(435)]("JbPro"+t+s(437)+r+"]",...o)}},this[t(438)]=function(r){const s=t;if(e[s(428)][s(424)]==u[s(429)]||e[s(428)].debugLevel==u[s(438)]){const t=e[s(428)][s(444)]?"["+e[s(428)][s(444)]+"]":"";for(var i=arguments[s(440)],o=new Array(i>1?i-1:0),n=1;n<i;n++)o[n-1]=arguments[n];console[s(435)](s(447)+t+"[❗❗❗]["+r+"]",...o)}},this[t(430)]=function(r){const s=t,i=e[s(428)][s(444)]?"["+e._opt[s(444)]+"]":"";for(var o=arguments[s(440)],n=new Array(o>1?o-1:0),a=1;a<o;a++)n[a-1]=arguments[a];console[s(430)](s(447)+i+s(432)+r+"]",...n)}}}const ge=we;function we(e,t){const r=be();return(we=function(e,t){return r[e-=333]})(e,t)}function be(){const e=["5kSGsBG","5009330SajEhm","removeEventListener","2074240pbbVwX","Events","615JfHUyA","length","isArray","2290941uxAfyq","14MFHRzS","destroys","134124jKNAdn","213692TgXIBY","push","addEventListener","proxy","forEach","2386wVufKT","703412MpJnpk","bind","destroy"];return(be=function(){return e})()}!function(e,t){const r=we,s=e();for(;;)try{if(224800===parseInt(r(350))/1+parseInt(r(334))/2*(parseInt(r(343))/3)+-parseInt(r(335))/4*(parseInt(r(338))/5)+parseInt(r(349))/6*(-parseInt(r(347))/7)+-parseInt(r(341))/8+-parseInt(r(346))/9+parseInt(r(339))/10)break;s.push(s.shift())}catch(e){s.push(s.shift())}}(be);class ye{constructor(e){const t=we;this[t(348)]=[],this[t(353)]=this.proxy[t(336)](this),this.master=e}[ge(353)](e,t,r){const s=ge;let i=arguments[s(344)]>3&&void 0!==arguments[3]?arguments[3]:{};if(!e)return;if(Array[s(345)](t))return t.map((t=>this.proxy(e,t,r,i)));e[s(352)](t,r,i);const o=()=>{const o=s;typeof e[o(340)]===j(507)&&e[o(340)](t,r,i)};return this[s(348)][s(351)](o),o}[ge(337)](){const e=ge;this.master.debugLog(e(342),e(337)),this[e(348)][e(333)]((e=>e())),this.destroys=[]}}const ke=Se;function Se(e,t){const r=Ie();return(Se=function(e,t){return r[e-=141]})(e,t)}function Ie(){const e=["getBufferListDuration","8034edNgEA","disconnect","_initProcessScriptNode","isG711u","mediaStreamAudioDestinationNode","start","gain","outputBuffer","AudioContext","destroy","2041236YrJksN","AudioTalkLoader","audioContext","TAG_NAME","2004240TUUKgF","6501872LMHSyg","_opt","audioChannel","active","zero","_handleScriptNodeCallback","size","_getAudioBufferSizeByType","init","stashBuffer","player","_initWorkletScriptNode()","scriptNode","engineType","supportLockScreenPlayAudio","isG711a","onaudioprocess","_getAutoAudioEngineType","audioWorklet","bufferList"," is less than current time ","_initWorkletScriptNode","port","play","subarray","_supportAudioWorklet","worklet","_createAudioContext","oneBufferDuration","destination","duration","_isMoreThanMinBufferDuration","currentTime","getChannelData","$audio","function","scriptNodeInterval","set","close","length","1617745jebjRT","audioBufferSize","scriptStartTime","_initScriptNode","webkitAudioContext","_getAudioChannel","17yIwXjK","createBufferSource","stream","debugLog","gainNode","821976yEhtCx","srcObject","shift","connect","postMessage","left","createBuffer","script","fill","sampleRate","_fillScriptNodeOutputBuffer","isMute","createGain","458348lsLZlb"];return(Ie=function(){return e})()}!function(e,t){const r=Se,s=e();for(;;)try{if(189467===-parseInt(r(158))/1*(-parseInt(r(178))/2)+-parseInt(r(163))/3+-parseInt(r(176))/4+parseInt(r(152))/5+-parseInt(r(188))/6+-parseInt(r(192))/7+parseInt(r(193))/8)break;s.push(s.shift())}catch(e){s.push(s.shift())}}(Ie);class ve{constructor(e){const t=Se;this.TAG_NAME=t(189),this[t(203)]=e,this.audioContext=this[t(220)](),this[t(206)]=this[t(210)](),this[t(153)]=this[t(200)](),this[t(195)]=this[t(157)](),this[t(202)]=new Float32Array(0),this[t(212)]=[],this[t(146)]=null,this[t(162)]=this[t(190)][t(175)](),this.scriptNode=null,this[t(182)]=null,this.scriptStartTime=0,this[t(148)]=null,J()&&(this[t(182)]=this.audioContext.createMediaStreamDestination()),this[t(155)](),this[t(203)][t(161)](this.TAG_NAME,t(201))}async destroy(){const e=Se;this.scriptNodeInterval&&(clearInterval(this[e(148)]),this[e(148)]=null),this.audioContext&&(await this[e(190)][e(150)](),this.audioContext=null),this[e(162)]&&(this.gainNode[e(179)](),this[e(162)]=null),this[e(205)]&&(this[e(205)][e(179)](),this[e(205)][e(209)]=H,this[e(205)]=null),this[e(182)]&&(this[e(182)][e(179)](),this[e(182)]=null),this[e(203)].debugLog(this[e(191)],e(187))}get[ke(221)](){const e=ke;return this[e(153)]/this[e(190)][e(172)]*1e3}_createAudioContext(){const e=ke;let t=48e3;return(this[e(203)][e(194)].isG711a||this[e(203)][e(194)][e(181)])&&(t=8e3),new(window.AudioContext||window[e(156)])({sampleRate:t})}[ke(157)](){const e=ke;let t=1;return(this[e(203)]._opt[e(208)]||this[e(203)][e(194)][e(181)])&&(t=1),t}[ke(210)](){const e=ke;let t=M[e(170)];return(()=>{const r=e;t=Z()?M[r(196)]:J()&&this[r(203)]._opt[r(207)]?M[r(170)]:function(){const e=j;return window[e(314)][e(559)]===e(470)||window[e(314)][e(553)]===e(253)}()&&this._supportAudioWorklet()?M.script:M[r(170)]})(),t}[ke(200)](){const e=ke;return this[e(206)]===M[e(219)]?1024:this[e(206)]===M[e(196)]?4800:(this[e(206)],e(170),1024)}[ke(218)](){const e=ke;return this[e(190)]&&this[e(190)][e(211)]&&typeof this[e(190)][e(211)].addModule===e(147)}_initScriptNode(){const e=ke;this[e(206)]===M[e(219)]?this._initWorkletScriptNode():this.engineType===M.active?this._initIntervalScriptNode():this[e(206)]===M[e(170)]&&this[e(180)]()}[ke(214)](){const e=ke;this[e(203)].debugLog(this.TAG_NAME,e(204))}_initIntervalScriptNode(){const e=ke;this[e(154)]=0;const t=1e3*this[e(153)]/this[e(190)][e(172)];this.player[e(161)](this[e(191)],"_initIntervalScriptNode() and interval time is "+t),this[e(148)]=setInterval((()=>{const t=e;if(0===this[t(212)][t(151)]||this[t(174)]())return;const r=this[t(190)][t(159)](),s=this.audioContext[t(169)](this[t(195)],this.audioBufferSize,this[t(190)][t(172)]);this[t(198)](s,(()=>{const e=t;this[e(154)]<this[e(190)][e(144)]&&(this[e(203)].debugLog(e(186),"script start time "+this.scriptStartTime+e(213)+this[e(190)][e(144)]),this[e(154)]=this.audioContext.currentTime),r.buffer=s,r.connect(this.gainNode),r[e(183)](this[e(154)]),this[e(154)]+=s[e(142)]}))}),t),this[e(162)][e(166)](this[e(182)]),this[e(146)]?this[e(146)][e(164)]=this[e(182)][e(160)]:this[e(162)][e(166)](this[e(190)].destination)}_initProcessScriptNode(){const e=ke;this.player[e(161)](this[e(191)],"_initProcessScriptNode()");const t=this[e(190)].createScriptProcessor(this[e(153)],0,this[e(195)]);t[e(209)]=t=>{const r=e,s=t[r(185)];this[r(198)](s)},t.connect(this[e(162)]),this[e(205)]=t,this[e(162)][e(166)](this.mediaStreamAudioDestinationNode),this[e(146)]?this[e(146)][e(164)]=this[e(182)][e(160)]:this[e(162)][e(166)](this[e(190)][e(141)])}[ke(198)](e,t){const r=ke;let s,i=arguments[r(151)]>2&&void 0!==arguments[2]&&arguments[2];t=t||H,e[r(151)],i&&(s=e,this[r(153)]);const o=this[r(195)];let n=this[r(212)][r(165)]();n&&n[r(199)]>0?i?s[r(215)][r(167)]({message:"data",buffer:n}):this[r(173)](e,o,n):(i?s.port[r(167)]({message:r(197)}):this[r(173)](e,o),t())}[ke(173)](e,t,r){const s=ke;if(1===t){const t=e[s(145)](0);r?0===r[s(199)]?t.fill(0):t[s(149)](r[s(168)]):t.fill(0)}else if(2===t){const t=e[s(145)](0),i=e[s(145)](1);r?0===r.size?(t[s(171)](0),i.fill(0)):(t[s(149)](r[s(168)]),i[s(149)](r.right)):(t[s(171)](0),i[s(171)](0))}}[ke(174)](){const e=ke;return 0===this[e(162)][e(184)].value}[ke(143)](){return this[ke(177)]()>=100}[ke(177)](){const e=ke;return this[e(212)][e(151)]*this.oneBufferDuration}[ke(216)](e){const t=ke;let r=e;this[t(203)][t(194)].isG711a?r=function(e){const t=[];return e[ne(142)]((e=>{t[e]=function(e){let t,r;switch(t=(15&(e^=85))<<4,r=(112&e)>>4,r){case 0:t+=8;break;case 1:t+=264;break;default:t+=264,t<<=r-1}return 0!=(128&e)?t:-t}(e)})),t}(e):this[t(203)][t(194)][t(181)]&&(r=de(e));const s=new Float32Array(r[t(151)]+this.stashBuffer[t(151)]);for(s[t(149)](this[t(202)],0),s.set(r,this[t(202)][t(151)]),this[t(202)]=s;this[t(202)][t(151)]>this.audioBufferSize;){const e=this[t(202)][t(217)](0,this[t(153)]);this.bufferList.push({size:e[t(151)],left:e,right:null}),this[t(202)]=this[t(202)][t(217)](this[t(153)])}}}function Ee(e,t){const r=Te();return(Ee=function(e,t){return r[e-=378]})(e,t)}function Te(){const e=["length","replace","error","1230nOSaQl","constructor","toString","7bgzkzH","8101352dPoONd","byteLength","638445tmqzIb","substr","reduce","3190290ZVpUYB","4aAhCZO","3380235HBgMdU","hexStringToUint8Array: invalid hexString length, must be even and bexString length is: ","set","1801194opnSQm","33236940PmjQic","1goppPg","107874wKzbLT"];return(Te=function(){return e})()}function Ae(){class e extends AudioWorkletProcessor{constructor(e){super(),this._cursor=0,this._bufferSize=e.processorOptions.bufferSize,this._buffer=new Float32Array(this._bufferSize)}process(e,t,r){if(!e.length||!e[0].length)return!0;for(let t=0;t<e[0][0].length;t++)this._cursor+=1,this._cursor===this._bufferSize&&(this._cursor=0,this.port.postMessage({eventType:"data",buffer:this._buffer})),this._buffer[this._cursor]=e[0][0][t];return!0}}registerProcessor("talk-processor",e)}!function(e,t){const r=Ee,s=e();for(;;)try{if(936615===parseInt(r(383))/1*(-parseInt(r(381))/2)+-parseInt(r(378))/3*(parseInt(r(398))/4)+-parseInt(r(394))/5+parseInt(r(397))/6+-parseInt(r(391))/7*(-parseInt(r(392))/8)+-parseInt(r(384))/9*(parseInt(r(388))/10)+parseInt(r(382))/11)break;s.push(s.shift())}catch(e){s.push(s.shift())}}(Te);const Ce=_e;function _e(e,t){const r=Me();return(_e=function(e,t){return r[e-=436]})(e,t)}function Me(){const e=["_destroyed","audio/ogg","talkStreamOpen","send","numberChannels","click","rtpPacket","_log","addJttToBuffer","_getUserMedia3","debugError","audioContext","9uaHInt","debugLog","talkStreamClose","addModule","pcm","call","7322712rtjLGn","string",", and ","stop","jttSimNumber is null or length is not 12","createGain","type","audio/wav","window.navigator.mediaDevices.getUserMedia is undefined and init function","tempTimestamp",".pcm"," and length is ","createElement","tempPcmBufferList","init and version is","downloadPcmFile","destroy",".wav","now","wsUrl is null","resample","TAG_NAME","g711u","volume","value","downloadOpusFile_1","events","_onaudioprocess","getUserMedia2 fail"," and sampleRate is ","audioBufferList","once","addOpusToBuffer","warn","_handleStreamInactive","revokeObjectURL",", and sampleBitsWidth is ","_parseAudioMsg","websocketHeartInterval","downloadJttFile","jttChannelNumber is null or length is not 2","apply","websocketHeartContent","buffer","_opt","catch",'websocket handle message message is "',"openWebsocketHeart","log","gainNode","enc","concat","gain","download","socketStatusOpen","getUserMedia3 fail","reject","socket","talkGetUserMediaSuccess","_createWebSocket","init","getUserMedia finally","_initScriptProcessor","createBiquadFilter","engine","empty","getUserMedia","set","jttChannelNumber",", rtp only support g711a or g711u or opus so set packetType to empty","rtp","。\n            "," length is ","talkStreamMsg","3DDsDXn","_doTalk","sampleRate","audioPlayer","tempJttBufferList","getUserMedia3 success","wsUrl"," only support sampleRate 8000 and sampleBitsWidth 16","_handleMessage","talk","toString","getUserMediaTimeout","addOpusToBuffer_1","createScriptProcessor","then","websocket error -> reject","debug","audioContext samplerate","_getSequenceId","open","heart interval","talk-processor","mozGetUserMedia","destination","jttPacket","rtpSsrc","talkGetUserMediaFail","createObjectURL","jttSimNumber","_initTalk","emitError","_encodeAudioData","binaryType","saveToTempFile","port","assign","URL","onaudioprocess","webkitAudioContext","checkGetUserMediaTimeout","toFixed","tempRtpBufferList","heartInterval","close","_sendClose","workletRecorder","73914lqqfuP","navigator","g711a","play","getOption","packetTcpSendType","stop heart interval","bufferSize","jtt","3864070LPUtph","downloadOpusFile","packetType","arraybuffer","webkitGetUserMedia","encType","_stopHeartInterval","eventType","href","9990309ZjijEE","addG711ToBuffer","byteLength",'" string so return',"length","clearWorkletUrlTimeout","220tdgxGJ","websocket close -> reject","_stopCheckGetUserMediaTimeout","calcAudioBufferLength","_startHeartInterval","sequenceId","11gpJxLV","audioConstraints","downloadRtpFile","getUserMedia() got stream:","data","794kcZjqc","isDestroyed","lowpass","proxy","409kzOeRI","testMicrophone","inputBuffer","4771708oDPRZw","script","getTracks","userMediaStream","audioWorklet","audioBufferLength","35581325lUtHbs","emit","tempOpusBufferList","_initMethods","downloadFile","createJavaScriptNode","startTimestamp","_sendTalkMsg","tallWebsocketClosedByError","startTalk","empty audio data","getUserMedia success","send talk msg and diff is ","_getUserMedia","tcp","error","biquadFilter","\n            encType is ","_getUserMedia2",".jtt","talkStreamInactive","mediaStreamSource","stream oninactive","mediaDevices","frequency"," and byteLength is ","onmessage"," and encType is ","debugWarn","tempG711BufferList","oninactive","downloadG711File","resampler","worklet","decode","not support getUserMedia","opusDecoder","disconnect","recorder","sampleBitsWidth","opus","socketStatus","player","_initWorklet","opusEncoder","12iOUdRE","connect","packetType is ","addPcmToBuffer"];return(Me=function(){return e})()}!function(e,t){const r=_e,s=e();for(;;)try{if(714248===-parseInt(r(656))/1*(parseInt(r(652))/2)+parseInt(r(571))/3*(-parseInt(r(659))/4)+-parseInt(r(641))/5*(parseInt(r(617))/6)+-parseInt(r(635))/7+-parseInt(r(497))/8*(-parseInt(r(491))/9)+-parseInt(r(626))/10*(-parseInt(r(647))/11)+parseInt(r(475))/12*(parseInt(r(665))/13))break;s.push(s.shift())}catch(e){s.push(s.shift())}}(Me);class Be extends s{constructor(e){const t=_e;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this[t(541)]={},e&&(this[t(472)]=e),this.TAG_NAME=t(580);const s=X(_);this[t(541)]=Object[t(606)]({},s,r),!this[t(472)]&&(this[t(587)]=new me(this)),this[t(545)](this[t(518)],t(511),'"9-24-2024"'),this[t(541)][t(573)]=parseInt(this[t(541)][t(573)],10),this[t(541)][t(469)]=parseInt(this[t(541)].sampleBitsWidth,10),(this._opt[t(631)]===I[t(619)]||this._opt[t(631)]===I[t(519)])&&(8e3!==this._opt[t(573)]||16!==this[t(541)].sampleBitsWidth)&&(this[t(530)](this.TAG_NAME,t(447)+this[t(541)].encType+t(526)+this[t(541)][t(573)]+t(533)+this._opt[t(469)]+t(568)+this._opt[t(631)]+t(578)),this[t(541)][t(573)]=8e3,this[t(541)][t(469)]=16),this._opt.packetType===E.rtp&&this[t(541)][t(631)]===I[t(495)]&&(this.warn(this.TAG_NAME,t(477)+this._opt.packetType+t(457)+this[t(541)].encType+t(566)),this._opt.packetType=E.empty),this[t(541)][t(628)],t(625),this[t(541)][t(631)],t(470),this[t(490)]=null,this[t(546)]=null,this[t(468)]=null,this[t(616)]=null,this[t(446)]=null,this[t(662)]=null,this[t(640)]=null,this.bufferSize=512,this[t(541)][t(664)]=this[t(644)](),this[t(527)]=[],this[t(474)]=null,this[t(466)]=null,this.resampler=null,this._opt[t(631)],this.socket=null,this.socketStatus=k.notConnect,this[t(451)]=null,this.heartInterval=null,this[t(610)]=null,this[t(577)]=null,this.startTimestamp=0,this[t(646)]=0,this.tempTimestamp=null,this[t(479)]=!1,this[t(459)]=new Uint8Array(0),this[t(612)]=new Uint8Array(0),this[t(575)]=new Uint8Array(0),this.tempPcmBufferList=new Uint8Array(0),this[t(667)]=new Uint8Array(0),this.events=new ye(this),this[t(574)]=null,this[t(600)]();try{this[t(545)](this[t(518)],t(557),JSON.stringify(this[t(541)]))}catch(e){this[t(545)](this.TAG_NAME,"init",this[t(541)])}}[Ce(513)](){const e=Ce;this._destroyed=!0,this[e(640)]&&(clearTimeout(this[e(640)]),this.clearWorkletUrlTimeout=null),this[e(662)]&&(this[e(662)].getTracks&&this[e(662)][e(661)]().forEach((t=>{t[e(500)]()})),this[e(662)]=null),this.mediaStreamSource&&(this[e(451)][e(467)](),this[e(451)]=null),this[e(468)]&&(this[e(468)][e(467)](),this[e(468)][e(608)]=null,this[e(468)]=null),this[e(446)]&&(this.biquadFilter[e(467)](),this[e(446)]=null),this.gainNode&&(this[e(546)][e(467)](),this[e(546)]=null),this[e(616)]&&(this.workletRecorder.disconnect(),this[e(616)]=null),this.opusEncoder&&(this[e(474)].destroy(),this[e(474)]=null),this.opusDecoder&&(this[e(466)][e(513)](),this[e(466)]=null),this[e(462)]&&(this[e(462)][e(513)](),this[e(462)]=null),this.socket&&(this.socketStatus===k[e(590)]&&this[e(615)](),this.socket[e(614)](),this[e(554)]=null),this[e(574)]&&(this[e(574)][e(513)](),this[e(574)]=null),this._stopHeartInterval(),this[e(643)](),this[e(490)]=null,this.gainNode=null,this[e(468)]=null,this.audioBufferList=[],this[e(646)]=0,this[e(577)]=null,this.tempTimestamp=null,this[e(612)]=null,this[e(459)]=null,this[e(510)]=null,this.tempOpusBufferList=null,this[e(436)]=0,this[e(545)](this.TAG_NAME,e(513))}isDestroyed(){return this._destroyed}addRtpToBuffer(e){const t=Ce,r=e[t(639)]+this[t(612)].length,s=new Uint8Array(r);s[t(564)](this[t(612)],0),s[t(564)](e,this[t(612)][t(639)]),this.tempRtpBufferList=s}[Ce(636)](e){const t=Ce,r=e[t(639)]+this[t(459)].length,s=new Uint8Array(r);s.set(this[t(459)],0),s[t(564)](e,this[t(459)][t(639)]),this[t(459)]=s}[Ce(478)](e){const t=Ce,r=e.length+this.tempPcmBufferList.length,s=new Uint8Array(r);s[t(564)](this[t(510)],0),s[t(564)](e,this[t(510)][t(639)]),this[t(510)]=s}addJttToBuffer(e){const t=Ce,r=e[t(639)]+this[t(575)][t(639)],s=new Uint8Array(r);s[t(564)](this.tempJttBufferList,0),s.set(e,this[t(575)].length),this[t(575)]=s}[Ce(583)](e){const t=Ce;!this.opusDecoder&&(this[t(466)]=new OpusDecoder(this[t(541)].sampleRate,this._opt[t(483)]));const r=this.opusDecoder[t(464)](e),s=new Uint8Array(r[t(540)]);this[t(478)](s)}[Ce(529)](e){const t=Ce,r=this[t(667)].length+1+e[t(639)],s=new Uint8Array(r);s.set(this[t(667)],0),s[t(564)]([e.length],this.tempOpusBufferList[t(639)]),s.set(e,this[t(667)][t(639)]+1),this[t(667)]=s}[Ce(649)](){const e=Ce;this[e(492)](this[e(518)],e(649));const t=new Blob([this[e(612)]]);try{const r=document[e(509)]("a");r[e(634)]=window[e(607)][e(598)](t),r[e(550)]=Date[e(515)]()+".rtp",r.click(),this.tempRtpBufferList=new Uint8Array(0),window[e(607)][e(532)](r[e(634)])}catch(t){console[e(445)](e(649),t)}}[Ce(461)](){const e=Ce;this.debugLog(this[e(518)],"downloadG711File");const t=new Blob([this.tempG711BufferList]);try{const r=document[e(509)]("a");r[e(634)]=window[e(607)].createObjectURL(t),r[e(550)]=Date[e(515)]()+"."+this._opt[e(631)],r[e(484)](),this.tempG711BufferList=new Uint8Array(0),window[e(607)][e(532)](r.href)}catch(t){console[e(445)]("downloadG711File",t)}}[Ce(522)](){const e=Ce;this.debugLog(this[e(518)],e(627)),this[e(512)]()}downloadOpusFile(){const e=Ce;this[e(492)](this[e(518)],e(627));const t=function(e,t,r){const s=j,i=new Uint8Array([79,103,103,83,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),o=new Uint8Array([79,112,117,115,72,101,97,100,1,0,0,0,0,0,0,0,0,0,0,0,255&t,t>>8&255,t>>16&255,t>>24&255,255&r,r>>8&255,0,0,0,0]),n=new Uint8Array(i[s(296)]+o[s(296)]+e[s(296)]);return n.set(i),n[s(386)](o,i.length),n[s(386)](e,i[s(296)]+o[s(296)]),n}(this.tempOpusBufferList,this[e(541)].sampleRate,this[e(541)][e(483)]),r=new Blob([t],{type:e(480)});try{const t=document[e(509)]("a");t[e(634)]=window.URL[e(598)](r),t.download=Date[e(515)]()+".ogg",t.click(),this[e(667)]=new Uint8Array(0),window[e(607)].revokeObjectURL(t[e(634)])}catch(t){console.error(e(627),t)}}[Ce(512)](){const e=Ce;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this[e(492)](this[e(518)],e(512),this[e(541)].sampleRate,this._opt[e(483)],this._opt[e(469)]);let r=new DataView(this.tempPcmBufferList[e(540)]),s=null,i="";t?(r=function(e,t,r,s){const i=j;var o=function(e,t,r){const s=K;for(var i=0;i<r[s(296)];i++)e[s(537)](t+i,r.charCodeAt(i))},n=t,a=s,c=new ArrayBuffer(44+e[i(259)]),l=new DataView(c),h=r,u=0;o(l,u,i(276)),u+=4,l.setUint32(u,36+e[i(259)],!0),o(l,u+=4,i(274)),o(l,u+=4,i(394)),u+=4,l[i(513)](u,16,!0),u+=4,l.setUint16(u,1,!0),u+=2,l[i(287)](u,h,!0),u+=2,l[i(513)](u,n,!0),u+=4,l[i(513)](u,h*n*(a/8),!0),u+=4,l[i(287)](u,h*(a/8),!0),u+=2,l[i(287)](u,a,!0),o(l,u+=2,i(424)),u+=4,l[i(513)](u,e[i(259)],!0),u+=4;for(let t=0;t<e[i(259)];)l[i(537)](u,e[i(396)](t)),u++,t++;return l}(r,this[e(541)][e(573)],this[e(541)][e(483)],this[e(541)].sampleBitsWidth),i=e(514),s=new Blob([r],{type:e(504)})):(i=e(507),s=new Blob([this[e(510)]]));try{const t=document[e(509)]("a");t.href=window.URL[e(598)](s),t[e(550)]=Date[e(515)]()+i,t[e(484)](),this[e(510)]=new Uint8Array(0),window[e(607)].revokeObjectURL(t[e(634)])}catch(t){console[e(445)]("downloadRtpFile",t)}}[Ce(536)](){const e=Ce;this[e(492)](this[e(518)],e(536));const t=new Blob([this[e(575)]]);try{const r=document.createElement("a");r[e(634)]=window[e(607)][e(598)](t),r[e(550)]=Date.now()+e(449),r.click(),this[e(575)]=new Uint8Array(0),window[e(607)].revokeObjectURL(r[e(634)])}catch(t){console[e(445)]("downloadJttFile",t)}}[Ce(669)](){const e=Ce;this[e(541)][e(628)]===E[e(567)]?this[e(649)]():this[e(541)][e(628)]===E[e(625)]?this[e(536)]():this[e(541)].encType===I.g711a||this[e(541)][e(631)]===I[e(519)]?this[e(461)]():this[e(541)][e(631)]===I.opus?this[e(627)]():this[e(541)][e(631)]===I[e(495)]&&this[e(512)]()}[Ce(644)](){const e=Ce,{sampleRate:t,sampleBitsWidth:r,frameDuration:s}=this[e(541)];return t*r*(s/1e3)/8}get[Ce(551)](){const e=Ce;return this.socketStatus===k[e(590)]}[Ce(545)](){const e=Ce;for(var t=arguments[e(639)],r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];this[e(486)](e(545),...r)}[Ce(530)](){const e=Ce;for(var t=arguments[e(639)],r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];this[e(486)](e(530),...r)}error(){const e=Ce;for(var t=arguments[e(639)],r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];this._log(e(445),...r)}[Ce(486)](e){const t=Ce;for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];this[t(472)]?this[t(472)][t(587)][e](...s):this.debug?this[t(587)][e](...s):console[e](...s)}_getSequenceId(){return++this[Ce(646)]}[Ce(556)](e){return new Promise(((t,r)=>{const s=_e,i=this[s(523)][s(655)];this[s(554)]=new WebSocket(this[s(577)],e.protocols||[]),this.socket[s(603)]=s(629),this[s(666)](g.talkStreamStart),i(this.socket,A[s(590)],(()=>{const e=s;this[e(471)]=k.open,this[e(545)](this.TAG_NAME,"websocket open -> do talk"),this[e(666)](g[e(481)]),t(),this[e(572)]()})),i(this.socket,A.message,(e=>{const t=s;typeof e[t(651)]!==t(498)?this[t(579)](e.data):this[t(458)](this[t(518)],t(543)+e[t(651)]+t(638))})),i(this[s(554)],A.close,(e=>{const t=s;this[t(471)]=k[t(614)],this.warn(this.TAG_NAME,t(642),e),this.emitError(g[t(493)]),r(e)})),i(this[s(554)],A[s(445)],(e=>{const t=s;this[t(471)]=k[t(445)],this.error(this[t(518)],t(586),e),this.emitError(g.talkStreamError,e),r(e)}))}))}[Ce(615)](){}_initTalk(){const e=Ce;this[e(668)](),this[e(541)][e(561)]===C[e(463)]?this._initWorklet():this[e(541)][e(561)]===C[e(660)]&&this[e(559)](),this[e(545)](this.TAG_NAME,e(588),this[e(490)][e(573)])}[Ce(668)](){const e=Ce;this[e(490)]=new(window.AudioContext||window[e(609)])({sampleRate:48e3}),this[e(546)]=this.audioContext[e(502)](),this[e(546)][e(549)].value=1,this[e(446)]=this[e(490)][e(560)](),this[e(446)][e(503)]=e(654),this.biquadFilter[e(454)][e(521)]=3e3,this[e(462)]=new re({fromSampleRate:this[e(490)].sampleRate,toSampleRate:this[e(541)][e(573)],channels:this[e(541)][e(483)],inputBufferSize:this[e(624)]})}[Ce(559)](){const e=Ce,t=this[e(490)][e(584)]||this[e(490)][e(670)];this[e(468)]=t[e(538)](this[e(490)],[this.bufferSize,this[e(541)].numberChannels,this._opt[e(483)]]),this[e(468)][e(608)]=t=>this[e(524)](t)}[Ce(473)](){const e=Ce,t=function(e){const t=j,r=e[t(370)]().trim().match(/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1],s=new Blob([r],{type:t(420)});return URL[t(529)](s)}(Ae);this.audioContext.audioWorklet&&this[e(490)][e(663)][e(494)](t)[e(585)]((()=>{const t=e,r=new AudioWorkletNode(this[t(490)],t(592),{processorOptions:{bufferSize:this[t(624)]}});r.connect(this[t(546)]),r[t(605)][t(456)]=e=>{const r=t;e[r(651)][r(633)]===r(651)&&this[r(602)](e[r(651)].buffer)},this[t(616)]=r})),this.clearWorkletUrlTimeout=setTimeout((()=>{const r=e;URL[r(532)](t),this[r(640)]=null}),1e4)}[Ce(524)](e){const t=Ce,r=e[t(658)].getChannelData(0);this[t(602)](new Float32Array(r))}[Ce(602)](e){const t=Ce;if(this[t(653)]())return;if(0===e[0]&&0===e[1])return void this[t(545)](this[t(518)],t(440));const r=this.resampler[t(517)](e);if(this[t(541)].encType===I[t(470)]);else{let e=r;16===this[t(541)].sampleBitsWidth?e=function(e){let t=e.length,r=new Int16Array(t);for(;t--;){let s=Math.max(-1,Math.min(1,e[t]));r[t]=s<0?32768*s:32767*s}return r}(r):8===this[t(541)].sampleBitsWidth?e=function(e){const t=se;let r=e[t(300)],s=new Int8Array(r);for(;r--;){let i=Math[t(286)](-1,Math[t(295)](1,e[r]));const o=i<0?32768*i:32767*i;s[r]=parseInt(255/(65535/(32768+o)),10)}return s}(r):32===this._opt[t(469)]&&(e=function(e){const t=se;let r=e[t(300)],s=new Int32Array(r);for(;r--;){let i=Math[t(286)](-1,Math[t(295)](1,e[r]));s[r]=i<0?2147483648*i:2147483647*i}return s}(r));let s=null;this[t(541)][t(631)]===I[t(619)]?s=he(e):this[t(541)].encType===I[t(519)]?s=ue(e):this[t(541)][t(631)]===I[t(495)]&&(s=e[t(540)]);const i=new Uint8Array(s);for(let e=0;e<i[t(639)];e++){let r=this[t(527)].length;this.audioBufferList[r++]=i[e],this[t(527)][t(639)]===this[t(541)].audioBufferLength&&(this[t(437)](new Uint8Array(this[t(527)])),this[t(527)]=[])}}}[Ce(534)](e){const t=Ce;let r=null;return this._opt[t(628)]!==E[t(567)]||this._opt[t(631)]!==I[t(619)]&&this._opt[t(631)]!==I[t(519)]&&this[t(541)][t(547)]!==I[t(470)]?this[t(541)][t(628)]!==E[t(625)]||this._opt[t(631)]!==I[t(619)]&&this[t(541)].encType!==I[t(519)]?this[t(541)][t(628)]===E[t(562)]&&(r=e):r=this.jttPacket(e):r=this[t(485)](e),r}[Ce(485)](e){const t=Ce,r=[];let s=0,i=0,o=0;const n=this._opt[t(596)],a=e[t(639)];this[t(541)][t(631)]===I.g711a?s=v[t(619)]:this._opt[t(631)]===I.g711u?s=v[t(519)]:this._opt[t(631)]===I.opus&&(s=v.opus),!this[t(436)]&&(this[t(436)]=q()),o=q()-this[t(436)],i=this._getSequenceId();let c=0;if(this[t(541)][t(622)]===T[t(444)]){const e=a+12;r[c++]=255&e>>8,r[c++]=255&e>>0}r[c++]=128,r[c++]=128+s,r[c++]=i/256,r[c++]=i%256,r[c++]=o/65536/256,r[c++]=o/65536%256,r[c++]=o%65536/256,r[c++]=o%65536%256,r[c++]=n/65536/256,r[c++]=n/65536%256,r[c++]=n%65536/256,r[c++]=n%65536%256;let l=r[t(548)]([...e]),h=new Uint8Array(l.length);for(let e=0;e<l[t(639)];e++)h[e]=l[e];return h}[Ce(595)](e){const t=Ce,r=[],s=[48,49,99,100],i=[129,134];let o=0;const n=this[t(541)][t(599)],a=this._opt[t(565)];let c=0;const l=e[t(639)];!this[t(436)]&&(this.startTimestamp=q()),c=q()-this.startTimestamp,o=this[t(589)](),r[0]=s[0],r[1]=s[1],r[2]=s[2],r[3]=s[3],r[4]=i[0],r[5]=i[1],r[6]=o/256,r[7]=o%256;const h=function(e){const t=Ee;if((e=e[t(386)](/\s/g,""))[t(385)]%2!=0)return console[t(387)](t(379),e[t(385)]),null;const r=new Uint8Array(e[t(385)]/2);for(let s=0;s<e.length;s+=2){const i=parseInt(e[t(395)](s,2),16);r[s/2]=i}return r}(n);h&&(r[8]=h[0],r[9]=h[1],r[10]=h[2],r[11]=h[3],r[12]=h[4],r[13]=h[5]),r[14]=parseInt(a,16),r[15]=48,r[16]=255&c>>56,r[17]=255&c>>48,r[18]=255&c>>40,r[19]=255&c>>32,r[20]=255&c>>24,r[21]=255&c>>16,r[22]=255&c>>8,r[23]=255&c>>0,r[24]=l/256,r[25]=l%256;let u=r[t(548)]([...e]),d=new Uint8Array(u.length);for(let e=0;e<u[t(639)];e++)d[e]=u[e];return d}[Ce(437)](e){const t=Ce;null===this[t(506)]&&(this[t(506)]=q());const r=q(),s=r-this.tempTimestamp,i=this[t(534)](e);this.log(this[t(518)],t(442)+s+t(455)+i[t(637)]+t(508)+i[t(639)]+t(499)+this._opt[t(631)]+t(569)+e[t(639)]),Y(this._opt[t(604)])&&Y(this[t(541)].debug)&&(this[t(541)][t(628)]===E[t(567)]?this.addRtpToBuffer(i):this[t(541)][t(628)]===E[t(625)]?this[t(487)](i):this[t(541)][t(631)]===I[t(619)]||this._opt[t(631)]===I[t(519)]?this[t(636)](i):this[t(541)][t(631)]===I[t(495)]?this[t(478)](i):this[t(541)][t(631)]===I[t(470)]&&this[t(529)](i)),i&&(this._opt[t(657)]?this[t(666)](g[t(570)],i[t(540)]):this[t(551)]?this.socket[t(482)](i[t(540)]):this[t(601)](y[t(438)])),this.tempTimestamp=r}_doTalk(){const e=Ce;this[e(443)](),this._opt[e(544)]&&this[e(645)]()}[Ce(443)](){const e=Ce;this[e(545)](this[e(518)],"getUserMedia"),void 0===window[e(618)][e(453)]&&(window[e(618)][e(453)]={}),void 0===window[e(618)][e(453)][e(563)]&&(this[e(545)](this[e(518)],e(505)),window.navigator[e(453)][e(563)]=function(t){const r=e;var s=navigator[r(563)]||navigator[r(630)]||navigator[r(593)]||navigator.msGetUserMedia;return s?new Promise((function(e,i){s[r(496)](navigator,t,e,i)})):Promise[r(553)](new Error("getUserMedia is not implemented in this browser"))}),this[e(541)][e(610)]&&this._startCheckGetUserMediaTimeout(),window[e(618)][e(453)][e(563)]({audio:this._opt[e(648)],video:!1}).then((t=>{const r=e;this[r(545)](this[r(518)],r(441)),this[r(662)]=t,this.mediaStreamSource=this[r(490)].createMediaStreamSource(t),this[r(451)][r(476)](this[r(446)]),this[r(468)]?(this[r(446)][r(476)](this.recorder),this[r(468)][r(476)](this[r(546)])):this[r(616)]&&(this[r(446)][r(476)](this.workletRecorder),this.workletRecorder[r(476)](this[r(546)])),this[r(546)][r(476)](this[r(490)][r(594)]),this.emit(g[r(555)]),null===t[r(460)]&&(t.oninactive=e=>{this[r(531)](e)})}))[e(542)]((t=>{const r=e;this.error(this[r(518)],"getUserMedia error",t[r(581)]()),this[r(666)](g[r(597)],t[r(581)]())})).finally((()=>{const t=e;this[t(545)](this[t(518)],t(558)),this[t(643)]()}))}[Ce(448)](){const e=Ce;this[e(545)](this[e(518)],e(563)),navigator.mediaDevices?navigator[e(453)].getUserMedia({audio:!0})[e(585)]((t=>{const r=e;this[r(545)](this[r(518)],"getUserMedia2 success")})):navigator[e(563)]({audio:!0},this[e(545)](this[e(518)],"getUserMedia2 success"),this[e(545)](this[e(518)],e(525)))}async[Ce(488)](){const e=Ce;this.log(this[e(518)],"getUserMedia3");try{const t=await navigator[e(453)][e(563)]({audio:{latency:!0,noiseSuppression:!0,autoGainControl:!0,echoCancellation:!0,sampleRate:48e3,channelCount:1},video:!1});console[e(545)](e(650),t),this.log(this[e(518)],e(576))}catch(t){this[e(545)](this.TAG_NAME,e(552))}}[Ce(531)](e){const t=Ce;this[t(662)]&&(this.warn(this[t(518)],t(452),e),this.emit(g[t(450)]))}_startCheckGetUserMediaTimeout(){const e=Ce;this[e(643)](),this[e(610)]=setTimeout((()=>{const t=e;this[t(545)](this[t(518)],"check getUserMedia timeout"),this[t(666)](g.talkGetUserMediaTimeout)}),this[e(541)][e(582)])}[Ce(643)](){const e=Ce;this[e(610)]&&(this.log(this[e(518)],"stop checkGetUserMediaTimeout"),clearTimeout(this.checkGetUserMediaTimeout),this[e(610)]=null)}[Ce(645)](){const e=Ce;this[e(613)]=setInterval((()=>{const t=e;this.log(this[t(518)],t(591));let r=this[t(541)][t(539)];r=new Uint8Array(r),this[t(554)][t(482)](r.buffer)}),1e3*this._opt[e(535)])}[Ce(632)](){const e=Ce;this.heartInterval&&(this.log(this[e(518)],e(623)),clearInterval(this[e(613)]),this[e(613)]=null)}[Ce(439)](e){const t=Ce;let r=arguments[t(639)]>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((s,i)=>{const o=t;if(!function(){const e=j;let t=!1;const r=window[e(476)];return r&&(t=!(!r[e(475)]||!r[e(475)][e(401)]),!t&&(t=!!(r[e(401)]||r.webkitGetUserMedia||r[e(454)]||r[e(338)]))),t}())return i(o(465));if(this[o(541)][o(628)]===E[o(625)]){if(!this[o(541)].jttSimNumber||12!==(""+this[o(541)][o(599)])[o(639)])return i(o(501));if(!this[o(541)][o(565)]||2!==(""+this[o(541)][o(565)])[o(639)])return i(o(537))}if(this[o(577)]=e,this[o(541)][o(657)])this[o(572)]();else{if(!this.wsUrl)return i(o(516));this[o(556)](r).catch((e=>{i(e)}))}this[o(528)](g[o(597)],(()=>{i("getUserMedia fail")})),this[o(528)](g[o(555)],(()=>{s()}))}))}setVolume(e){const t=Ce;e=parseFloat(e)[t(611)](2),isNaN(e)||(e=function(e,t,r){const s=K;return Math[s(298)](Math[s(270)](e,Math[s(298)](t,r)),Math[s(270)](t,r))}(e,0,1),this.gainNode[t(549)][t(521)]=e)}[Ce(621)](){return this[Ce(541)]}get[Ce(520)](){const e=Ce;return this[e(546)]?parseFloat(100*this[e(546)][e(549)].value)[e(611)](0):null}[Ce(492)](e){const t=Ce;if(this[t(541)][t(587)]&&this[t(587)]){for(var r=arguments[t(639)],s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];this[t(587)][t(545)](e,...s)}}debugWarn(e){const t=Ce;if(this._opt[t(587)]&&this.debug){for(var r=arguments[t(639)],s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];this[t(587)].warn(e,...s)}}[Ce(489)](e){const t=Ce;if(this.debug){for(var r=arguments[t(639)],s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];this[t(587)][t(445)](e,...s)}}_handleMessage(e){const t=Ce;null===this[t(574)]&&(this[t(574)]=new ve(this)),this[t(574)][t(620)](e)}[Ce(601)](e){const t=Ce;let r=arguments[t(639)]>1&&void 0!==arguments[1]?arguments[1]:"";this[t(666)](g.error,e,r),this.emit(e,r)}}const Ue=Fe;function De(){const e=["_handleTalkStreamClose","WebPlayerProTalk","startTalk","finally","talkStreamInactive -> stopTalk","LOG_TAG","stopTalk","once","debug","downloadTempG711File","talk is not init","log","5yujQYM","tallWebsocketClosedByError","destroy","talkFailedAndStop","JbProTalk","7789584EVSyKQ","downloadTempOpusFile","talkStreamInactive stopTalk","getTalkVolume","catch","talkGetUserMediaTimeout stopTalk","3447500dzaUMz","talkStreamClose","off","talkGetUserMediaTimeout -> stopTalk","11608479BycCuf","init","debugLog","4143666CvdiUw","emit","455036cQaKNi","downloadFile","downloadTempFile","talkStreamInactive","downloadG711File","_bindTalkEvents","warn","_handleTalkStreamInactive","keys","error","_opt","talkGetUserMediaTimeout","2182995eePJof","talkStreamClose stopTalk","downloadTempRtpFile","debugWarn","talkStreamError","_initTalk this.talk is not null and destroy","EVENTS","_handleTalkWebsocketClosedByError","stringify","_handleTalkGetUserMediaTimeout","bind","2GKpeYD","_initTalk","talkStreamError -> stopTalk","talkStreamError stopTalk","JessibucaProTalk","length","forEach","downloadPcmFile","talkStreamClose -> stopTalk","setTalkVolume","_handleTalkStreamError","3071481hrNzEI","stopTalk()","debugError","then","talk"];return(De=function(){return e})()}function Fe(e,t){const r=De();return(Fe=function(e,t){return r[e-=148]})(e,t)}!function(e,t){const r=Fe,s=e();for(;;)try{if(599049===parseInt(r(175))/1*(parseInt(r(198))/2)+parseInt(r(187))/3+parseInt(r(166))/4+-parseInt(r(155))/5*(parseInt(r(173))/6)+-parseInt(r(209))/7+parseInt(r(160))/8+-parseInt(r(170))/9)break;s.push(s.shift())}catch(e){s.push(s.shift())}}(De);class Le extends s{constructor(){const e=Fe;let t=arguments[e(203)]>0&&void 0!==arguments[0]?arguments[0]:{};super(),this[e(213)]=null,this[e(185)]=t,this[e(148)]=e(159),this[e(151)]=new me(this);try{this[e(172)](this[e(148)],e(171),JSON[e(195)](t))}catch(r){this[e(172)](this[e(148)],e(171),t)}}[Ue(157)](){const e=Ue;this.debugLog(this[e(148)],"destroy()"),this[e(168)](),this.talk&&(this.talk[e(157)](),this[e(213)]=null),this.debugLog(this[e(148)],"destroy")}_initTalk(){const e=Ue;let t=arguments[e(203)]>0&&void 0!==arguments[0]?arguments[0]:{};this.talk&&(this[e(172)](this[e(148)],e(192)),this[e(213)][e(157)](),this[e(213)]=null);const r=Object.assign({},X(this[e(185)]),t);this[e(185)]=r,this[e(213)]=new Be(null,r),this.debugLog(this[e(148)],e(199),this[e(213)].getOption()),this[e(180)]()}[Ue(180)](){const e=Ue;Object[e(183)](w)[e(204)]((t=>{const r=e;this[r(213)].on(w[t],(e=>{this[r(174)](t,e)}))}))}[Ue(216)](e){const t=Ue;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments[t(203)]>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(((i,o)=>{const n=t;try{this[n(172)](this[n(148)],n(216),e,JSON[n(195)](r))}catch(t){this[n(172)](this[n(148)],n(216),e,r)}this[n(199)](r),this.talk[n(216)](e,s)[n(212)]((()=>{const e=n;i(),this[e(213)].once(g[e(167)],this._handleTalkStreamClose[e(197)](this)),this[e(213)][e(150)](g[e(191)],this[e(208)].bind(this)),this[e(213)][e(150)](g[e(178)],this[e(182)][e(197)](this)),this[e(213)][e(150)](g[e(186)],this[e(196)].bind(this)),this.talk[e(150)](y[e(156)],this[e(194)].bind(this))}))[n(164)]((e=>{o(e)}))}))}[Ue(149)](){return new Promise(((e,t)=>{const r=Fe;this[r(172)](this.LOG_TAG,r(210)),!this[r(213)]&&t(r(153)),this.talk.destroy(),this[r(213)]=null,e()}))}[Ue(163)](){return new Promise(((e,t)=>{const r=Fe;!this[r(213)]&&t(r(153)),e(this[r(213)].volume)}))}[Ue(207)](e){return new Promise(((t,r)=>{const s=Fe;this[s(172)](this[s(148)],"setTalkVolume",e),!this[s(213)]&&r(s(153)),this[s(213)].setVolume(e/100),t()}))}[Ue(189)](){return new Promise(((e,t)=>{const r=Fe;this[r(213)]?(this[r(213)].downloadRtpFile(),e()):t(r(153))}))}[Ue(152)](){return new Promise(((e,t)=>{const r=Fe;this[r(213)]?(this.talk[r(179)](),e()):t(r(153))}))}downloadTempPcmFile(e){return new Promise(((t,r)=>{const s=Fe;this.talk?(this[s(213)][s(205)](e),t()):r(s(153))}))}[Ue(161)](){return new Promise(((e,t)=>{const r=Fe;this[r(213)]?(this[r(213)].downloadOpusFile(),e()):t("talk is not init")}))}[Ue(177)](){return new Promise(((e,t)=>{const r=Fe;this[r(213)]?(this[r(213)][r(176)](),e()):t(r(153))}))}[Ue(172)](e){const t=Ue;if(this[t(185)][t(151)]&&this[t(151)]){for(var r=arguments[t(203)],s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];this[t(151)][t(154)](e,...s)}}debugWarn(e){const t=Ue;if(this._opt.debug&&this.debug){for(var r=arguments[t(203)],s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];this.debug[t(181)](e,...s)}}[Ue(211)](e){const t=Ue;if(this[t(151)]){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];this[t(151)][t(184)](e,...s)}}[Ue(214)](){const e=Ue;this[e(190)](this[e(148)],e(206)),this[e(149)]().catch((t=>{const r=e;this.debugWarn(this.LOG_TAG,r(188),t)}))[e(217)]((()=>{const t=e;this[t(174)](g[t(158)],g[t(167)])}))}[Ue(208)](){const e=Ue;this[e(211)](this[e(148)],e(200)),this[e(149)]()[e(164)]((t=>{const r=e;this[r(190)](this[r(148)],r(201),t)}))[e(217)]((()=>{const t=e;this[t(174)](g.talkFailedAndStop,g[t(191)])}))}[Ue(182)](){const e=Ue;this[e(190)](this.LOG_TAG,e(218)),this[e(149)]()[e(164)]((t=>{const r=e;this[r(190)](this[r(148)],r(162),t)}))[e(217)]((()=>{const t=e;this.emit(g[t(158)],g[t(178)])}))}[Ue(196)](){const e=Ue;this[e(190)](this.LOG_TAG,e(169)),this[e(149)]()[e(164)]((t=>{const r=e;this[r(190)](this.LOG_TAG,r(165),t)}))[e(217)]((()=>{const t=e;this[t(174)](g.talkFailedAndStop,g[t(186)])}))}_handleTalkWebsocketClosedByError(){const e=Ue;this[e(190)](this.LOG_TAG,"talkWebsocketClosedByError -> stopTalk"),this[e(149)]().catch((t=>{this[e(190)](this.LOG_TAG,"talkWebsocketClosedByError stopTalk",t)}))[e(217)]((()=>{this[e(174)](g.talkFailedAndStop,y.tallWebsocketClosedByError)}))}}return Le[Ue(193)]=w,window[Ue(202)]=Le,window[Ue(159)]=Le,window[Ue(215)]=Le,Le}));
