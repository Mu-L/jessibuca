!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self)["jessibuca-talk"]=t()}(this,(function(){"use strict";function e(t,r){const i=s();return(e=function(e,t){return i[e-=165]})(t,r)}const t=e;!function(t,r){const s=e,i=t();for(;;)try{if(233749===parseInt(s(169))/1*(-parseInt(s(178))/2)+-parseInt(s(167))/3*(parseInt(s(177))/4)+parseInt(s(176))/5*(-parseInt(s(173))/6)+parseInt(s(165))/7+parseInt(s(183))/8+-parseInt(s(166))/9+-parseInt(s(179))/10*(-parseInt(s(172))/11))break;i.push(i.shift())}catch(e){i.push(i.shift())}}(s);class r{on(t,r,s){const i=e,o=this.e||(this.e={});return(o[t]||(o[t]=[]))[i(180)]({fn:r,ctx:s}),this}[t(171)](t,r,s){const i=this;function o(){const n=e;i.off(t,o);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];r[n(170)](s,c)}return o._=r,this.on(t,o,s)}emit(e){const r=t,s=((this.e||(this.e={}))[e]||[]).slice();for(var i=arguments[r(168)],o=new Array(i>1?i-1:0),n=1;n<i;n++)o[n-1]=arguments[n];for(let e=0;e<s[r(168)];e+=1)s[e].fn[r(170)](s[e][r(181)],o);return this}[t(182)](e,r){const s=t,i=this.e||(this.e={});if(!e)return Object[s(175)](i)[s(174)]((e=>{delete i[e]})),void delete this.e;const o=i[e],n=[];if(o&&r)for(let e=0,t=o[s(168)];e<t;e+=1)o[e].fn!==r&&o[e].fn._!==r&&n[s(180)](o[e]);return n.length?i[e]=n:delete i[e],this}}function s(){const e=["keys","12480IYfILU","1240924jXfurH","405842Ikojak","6522910Ymojip","push","ctx","off","1300064kSfSyA","2284205ABFlyL","1728333brPlof","3FRrLXL","length","1UxeUsT","apply","once","11magKJf","486bznSjf","forEach"];return(s=function(){return e})()}const i=S;!function(e,t){const r=S,s=e();for(;;)try{if(573137===-parseInt(r(486))/1+parseInt(r(494))/2*(-parseInt(r(628))/3)+-parseInt(r(407))/4+parseInt(r(530))/5*(-parseInt(r(560))/6)+-parseInt(r(363))/7+parseInt(r(574))/8*(parseInt(r(750))/9)+parseInt(r(558))/10)break;s.push(s.shift())}catch(e){s.push(s.shift())}}(M);const o={websocket:1,fetch:2,hls:3,webrtc:4,webTransport:5,aliyunRtc:6,ts:7};i(773),i(537),i(648),i(389),i(440),i(537),i(648),i(773),i(389),i(502),i(607);const n={player:"player",playerAudio:i(349),playbackTF:i(410),talk:"talk",playVod:"playVod"},a={mp4:"mp4",webm:i(764),flv:i(512),mov:i(577)},c={flv:i(512),m7s:"m7s",hls:i(648),webrtc:i(572),webTransport:i(389),nakedFlow:i(790),fmp4:i(548),mpeg4:i(728),aliyunRtc:i(440),ts:"ts",g711:i(690),pcm:i(705)};i(676),i(601),i(488),i(761),i(376);const l={mse:i(428),wcs:i(737),offscreen:"offscreen",wasm:i(390),simd:"simd",mt:"mt",webrtc:"webrtc",hls:i(648),aliyunRtc:"aliyunRtc"},h={canvas:"canvas",video:i(561)},u={debug:i(674),warn:i(562)},d={click:i(715),mouseDownAndUp:i(576)},p={normal:i(612),simple:i(497)},f={normal:i(612),small:"small"};i(626);i(777),i(643);const m={playIsNotPauseOrUrlIsNull:"播放地址不能为空",webglAlignmentError:"Webgl 渲染失败",webglContextLostError:i(393),mediaSourceH265NotSupport:i(450),mseSourceBufferFull:i(568),mediaSourceAppendBufferError:i(529),mseSourceBufferError:i(712),mseAddSourceBufferError:i(529),mseWorkerAddSourceBufferError:"初始化解码器失败",mediaSourceDecoderConfigurationError:i(529),mediaSourceTsIsMaxDiff:"流异常",mseWidthOrHeightChange:i(498),mediaSourceAudioG711NotSupport:i(370),mediaSourceAudioInitTimeout:i(774),mediaSourceAudioNoDataTimeout:"等待音频数据超时",mediaSourceUseCanvasRenderPlayFailed:i(527),mediaSourceBufferedIsZeroError:i(498),webcodecsH265NotSupport:"不支持硬解码H265",webcodecsUnsupportedConfigurationError:"初始化解码器失败",webcodecsDecodeConfigureError:i(529),webcodecsDecodeError:i(712),webcodecsAudioInitTimeout:i(774),webcodecsAudioNoDataTimeout:i(685),wcsWidthOrHeightChange:"解码失败",wasmDecodeError:i(712),simdDecodeError:"解码失败",wasmWidthOrHeightChange:i(498),wasmUseVideoRenderError:i(656),videoElementPlayingFailed:i(656),simdH264DecodeVideoWidthIsTooLarge:i(447),networkDelayTimeout:i(513),fetchError:i(378),streamEnd:i(651),websocket1006Error:i(736),websocketError:i(378),webrtcError:i(378),hlsError:i(378),decoderWorkerInitError:i(590),decoderWorkerWasmError:i(546),videoElementPlayingFailedForWebrtc:"video自动渲染失败",videoInfoError:"解析视频分辨率失败",webrtcStreamH265:i(729),delayTimeout:"播放超时重播失败",loadingTimeout:"加载超时重播失败",loadingTimeoutRetryEnd:i(733),delayTimeoutRetryEnd:i(622),flvDemuxBufferSizeTooLarge:i(495),audioChannelError:"音频通道错误",aliyunRtcError:i(378),mseWaitVideoCanplayTimeout:i(498),initDecoderWorkerTimeout:i(466)};i(780),i(562),i(663),i(383),i(642),i(429),i(507),i(639),i(503),i(612),i(537),i(607),i(523),i(715),i(561),i(738);i(580),i(594),i(379),i(460),i(691),i(472),i(473),i(477),i(556),i(645),i(741),i(365),i(684),i(350),i(765),i(689),i(522),i(662),i(419),i(744),i(532),i(385),i(776),i(682),i(697),i(655),i(442),i(693),i(519),i(650),i(735),i(652),i(785),i(566),i(748),i(786),i(430),i(478),i(595),i(401),i(602),i(616),i(506),i(475),i(565),i(662),i(385),i(408),i(606),i(489),i(586),i(437),i(505),i(593),i(670),i(452),i(579),i(638),i(710),i(798),i(537),i(638),i(710),i(740),i(785);const g={fullscreen:"fullscreen$2",webFullscreen:i(416),decoderWorkerInit:i(483),play:i(438),playing:i(756),pause:"pause",mute:i(451),load:i(400),loading:i(644),zooming:i(664),drawingRect:i(589),drawingRectInfo:i(591),videoInfo:"videoInfo",timeUpdate:i(778),audioInfo:i(766),log:i(514),error:"error",kBps:i(532),timeout:i(462),delayTimeout:i(731),delayTimeoutRetryEnd:i(581),loadingTimeout:i(686),loadingTimeoutRetryEnd:i(524),stats:i(789),performance:"performance",videoSmooth:i(640),faceDetectActive:i(781),objectDetectActive:"objectDetectActive",occlusionDetectActive:"occlusionDetectActive",imageDetectActive:i(687),record:i(633),recording:i(436),recordingTimestamp:i(583),recordStart:i(797),recordEnd:"recordEnd",recordCreateError:i(794),recordBlob:i(717),recordCancel:i(646),buffer:i(710),videoFrame:i(702),videoSEI:"videoSEI",videoSEISyncPts:i(762),start:i(653),metadata:i(518),resize:"resize",volumechange:"volumechange",volume:i(582),destroy:i(696),beforeDestroy:i(368),streamEnd:i(621),streamRate:i(592),streamAbps:i(388),streamVbps:"streamVbps",streamDts:i(649),streamSuccess:i(480),streamMessage:i(423),streamError:i(614),streamStats:i(515),streamEndInner:i(795),mseSourceOpen:i(386),mseSourceClose:"mseSourceClose",mseSourceended:i(431),mseSourceStartStreaming:i(533),mseSourceEndStreaming:"mseSourceEndStreaming",mseSourceBufferError:i(584),mseAddSourceBufferError:i(753),mseWorkerAddSourceBufferError:i(700),mseSourceBufferBusy:i(364),mseSourceBufferFull:i(384),videoWaiting:i(500),videoTimeUpdate:i(491),videoSyncAudio:i(391),playToRenderTimes:i(406),playbackTime:"playbackTime",playbackTimestamp:i(784),playbackTimeScroll:"playbackTimeScroll",playbackPrecision:i(540),playbackShowPrecisionChange:i(456),playbackJustTime:i(683),playbackStats:i(575),playbackSeek:i(360),playbackPause:i(459),playbackPauseOrResume:"playbackPauseOrResume",playbackRateChange:i(688),playbackPreRateChange:"playbackPreRateChange",playbackEnd:i(525),playVodStats:i(474),playVodPause:"playVodPause",playVodPauseOrResume:i(755),playVodRateChange:"playVodRateChange",playVodTime:"playVodTime",playVodTimeCache:i(550),playVodSeek:i(671),playVodSeekEnd:i(382),playVodVideoSeekingByMse:i(479),playVodVideoSeekedByMse:"playVodVideoSeekedByMse",playVodCanplay:"playVodCanplay",playVodWaiting:i(771),playVodEndedAndReplay:i(677),playVodEnded:i(596),ptz:i(666),streamQualityChange:i(541),visibilityChange:i(394),netBuf:i(476),close:"close",networkDelayTimeout:i(504),togglePerformancePanel:i(521),viewResizeChange:"viewResizeChange",flvDemuxBufferSizeTooLarge:i(605),talkGetUserMediaSuccess:i(387),talkGetUserMediaFail:"talkGetUserMediaFail",talkGetUserMediaTimeout:i(509),talkStreamStart:i(624),talkStreamOpen:"talkStreamOpen",talkStreamClose:i(405),talkStreamError:i(463),talkStreamInactive:i(571),talkStreamMsg:i(412),webrtcDisconnect:i(381),webrtcFailed:i(613),webrtcClosed:"webrtcClosed",webrtcChecking:i(597),webrtcConnected:i(749),webrtcCompleted:"webrtcCompleted",webrtcOnConnectionStateChange:i(482),webrtcOnIceConnectionStateChange:i(570),crashLog:i(356),focus:i(631),blur:"blur",inView:i(551),visibilityHiddenTimeout:"visibilityHiddenTimeout",websocketOpen:i(785),websocketClose:i(740),websocketError:"websocketError",websocketMessage:"websocketMessage",aiObjectDetectorInfo:i(492),aiFaceDetectorInfo:i(464),aiOcclusionDetectResult:i(485),aiImageDetectResult:i(535),playFailedAndPaused:"playFailedAndPaused",audioResumeState:i(380),webrtcStreamH265:i(396),flvMetaData:i(413),talkFailedAndStop:i(508),removeLoadingBgImage:i(351),memoryLog:i(426),downloadMemoryLog:i(625),pressureObserverCpu:i(549),currentPts:"currentPts",online:i(787),offline:i(722),networkState:i(768),clickInitPlayer:i(414)};i(778),i(766),i(420),i(653),i(462),i(686),i(524),i(731),i(669),i(416),i(619),i(451),i(789),i(544),i(583),i(797),i(794),i(395),i(717),i(646),i(406),i(360),i(575),i(377),i(688),i(525),i(596),i(755),i(671),i(382),i(666),i(541),i(664),i(356),i(631),i(615),i(678),i(785),i(740),i(504),i(464),i(535),i(704),i(621),i(380),i(786),i(762),i(413),i(482),i(441),i(640),i(582),i(591),i(414);const w={talkStreamClose:g[i(405)],talkStreamError:g[i(463)],talkStreamInactive:g.talkStreamInactive,talkGetUserMediaTimeout:g[i(509)],talkFailedAndStop:g[i(508)],talkStreamMsg:g.talkStreamMsg};i(400),i(778),i(766),i(532),i(653),i(524),i(581),i(438),i(619),i(451),i(406),i(785),i(740),i(704),i(380);const b={talkStreamError:g[i(463)],talkStreamClose:g.talkStreamClose},y={playError:i(679),fetchError:"fetchError",websocketError:"websocketError",webcodecsH265NotSupport:i(373),webcodecsDecodeError:i(487),webcodecsUnsupportedConfigurationError:"webcodecsUnsupportedConfigurationError",webcodecsDecodeConfigureError:i(453),webcodecsAudioInitTimeout:i(714),webcodecsAudioNoDataTimeout:i(543),mediaSourceH265NotSupport:"mediaSourceH265NotSupport",mediaSourceAudioG711NotSupport:i(563),mediaSourceAudioInitTimeout:i(467),mediaSourceAudioNoDataTimeout:i(454),mediaSourceDecoderConfigurationError:i(392),mediaSourceFull:g[i(384)],mseSourceBufferError:g[i(584)],mseAddSourceBufferError:g[i(753)],mseWorkerAddSourceBufferError:g[i(700)],mediaSourceAppendBufferError:i(742),mediaSourceTsIsMaxDiff:"mediaSourceTsIsMaxDiff",mediaSourceUseCanvasRenderPlayFailed:i(706),mediaSourceBufferedIsZeroError:i(481),wasmDecodeError:i(409),wasmUseVideoRenderError:i(610),simdH264DecodeVideoWidthIsTooLarge:i(732),simdDecodeError:i(652),hlsError:i(767),webrtcError:i(573),webrtcClosed:g[i(629)],webrtcIceCandidateError:i(608),webglAlignmentError:i(701),wasmWidthOrHeightChange:i(735),mseWidthOrHeightChange:i(672),wcsWidthOrHeightChange:i(783),widthOrHeightChange:"widthOrHeightChange",tallWebsocketClosedByError:"tallWebsocketClosedByError",flvDemuxBufferSizeTooLarge:g[i(605)],audioChannelError:i(465),webglContextLostError:"webglContextLostError",videoElementPlayingFailed:"videoElementPlayingFailed",videoElementPlayingFailedForWebrtc:"videoElementPlayingFailedForWebrtc",decoderWorkerInitError:i(636),decoderWorkerWasmError:i(632),videoInfoError:i(724),streamEnd:g.streamEnd,websocket1006Error:i(588),delayTimeout:g[i(731)],loadingTimeout:g[i(686)],networkDelayTimeout:g[i(504)],fullscreenError:i(433),aliyunRtcError:i(516),mseWaitVideoCanplayTimeout:i(443),initDecoderWorkerTimeout:i(469),notSupportNewWasm:"notSupportNewWasm",playVodMp4Error:i(647),mp4Error:i(730),...b},k={notConnect:i(713),open:"open",close:i(437),error:"error"};function S(e,t){const r=M();return(S=function(e,t){return r[e-=349]})(e,t)}i(567),i(520),i(569),i(564),i(569),i(499),i(488),i(361),i(375),i(796),i(609),i(418),i(796),i(611),i(511),i(757),i(739),i(428),i(572),i(357),i(496),i(421),i(425),i(617),i(726),i(620),i(709),i(587),i(369),Math[i(355)](40);i(415),i(772),i(657),i(775),i(752),i(667),i(772),i(657),i(434),i(359),i(371),i(694),i(554),i(458),i(470),i(371),i(427),i(534),i(782),i(659),i(600),i(461),i(362),i(637),i(680),i(658),i(374),i(398),i(661);const E={g711a:i(358),g711u:i(751),pcm:i(705),opus:i(627)};i(711),i(759),i(471),i(673),i(404),i(517),i(793),i(604),i(665),i(457),i(770),i(746),i(716),i(354),i(397),i(444),i(634),i(545),i(681),i(681),i(644),i(756),i(696);const I={pcma:8,g711a:8,pcmu:0,g711u:0,jpeg:26,h264:96,h265:97,opus:98,aac:99},v={empty:i(567),rtp:i(353),jtt:i(635)},T={tcp:"tcp",udp:i(792)};i(585),i(723);const A={open:i(587),close:i(437),error:i(420),message:i(758)},C={worklet:"worklet",script:i(553)},_={encType:E.g711a,packetType:v.rtp,packetTcpSendType:T[i(599)],rtpSsrc:i(763),numberChannels:1,sampleRate:8e3,sampleBitsWidth:16,frameDuration:20,debug:!1,debugLevel:u[i(562)],testMicrophone:!1,saveToTempFile:!1,audioBufferLength:160,engine:C.worklet,checkGetUserMediaTimeout:!1,getUserMediaTimeout:1e4,audioConstraints:{latency:!0,noiseSuppression:!0,autoGainControl:!0,echoCancellation:!0,sampleRate:48e3,channelCount:1},isG711a:!1,isG711u:!1,jttSimNumber:null,jttChannelNumber:1,openWebsocketHeart:!1,websocketHeartInterval:15,websocketHeartContent:""},B={worklet:"worklet",script:i(553),active:"active"};function M(){const e=["connecting","mseWorkerAddSourceBufferError","webglAlignmentError","videoFrame","durationchange","playFailedAndPaused","pcm","mediaSourceUseCanvasRenderPlayFailed","1-1","3-4","ended","buffer","image/png","解码失败","notConnect","webcodecsAudioInitTimeout","click","avc","recordBlob","subtitle-playlist","data-channel","mp3","buffereos","offline","playback","videoInfoError","certificate",'video/mp4;codecs="hev1.2.4.L120.90"',"multiDblSelected","mpeg4","webrtc不支持H265","mp4Error","delayTimeout","simdH264DecodeVideoWidthIsTooLarge","加载超时重播失败","hls-level-loaded","wasmWidthOrHeightChange","流异常结束","wcs","white","offscreen","websocketClose","isNakedFlow","mediaSourceAppendBufferError","load-complete","render","loadstart","loadedmetadata","multiMouseup","tempStream","webrtcConnected","216HdnQEk","g711u","30min","mseAddSourceBufferError","container","playVodPauseOrResume","playing","webgpu","message","image/jpeg","MEDIA_ERR_NETWORK","WebTransport","videoSEISyncPts","0000000000","webm","isWebrtcForOthers","audioInfo","hlsError","networkState","subtitle-segments","progress","playVodWaiting","tenMin","websocket","初始化音频解码器失败","ten-min","audioCode","/crypto/","timeUpdate","readystatechange","player","faceDetectActive","stop","wcsWidthOrHeightChange","playbackTimestamp","websocketOpen","videoSEI","online","MEDIA_ERR_ABORTED","stats","nakedFlow","transport","udp","endstreaming","recordCreateError","streamEndInner","MP3","recordStart","fetchError","playerAudio","isWebrtcForSRS","removeLoadingBgImage","multiDrop","rtp","Cannot call 'decode' on a closed codec","ceil","crashLog","key","g711a","down","playbackSeek","H265(HEVC)","apertureNear","6879460LkfzZj","mseSourceBufferBusy","isHls","remote-candidate","loadeddata","beforeDestroy","closed","硬解码不支持G711a/u音频格式","left","alaw","webcodecsH265NotSupport","fogClose","MULAW(g711u)","AliyunRtc","playbackPreRateChange","请求失败","isM7sCrypto","audioResumeState","webrtcDisconnect","playVodSeekEnd","decoder-pro-old.js","mseSourceBufferFull","decode","mseSourceOpen","talkGetUserMediaSuccess","streamAbps","webTransport","wasm","videoSyncAudio","mediaSourceDecoderConfigurationError","webgl 上下文丢失","visibilityChange","recordEnd","webrtcStreamH265","Decoder failure","wiperOpen","webrtc-connected","load","flvBufferData","created","receiver","sourceended","talkStreamClose","playToRenderTimes","149808DxbHjK","audioDecode","wasmDecodeError","playbackTF","Jb%20pro%20%E4%BD%93%E9%AA%8C%E7%BB%93%E6%9D%9F%2C%E8%AF%B7%E5%88%B7%E6%96%B0%E9%A1%B5%E9%9D%A2%E5%86%8D%E6%AC%A1%E4%BD%93%E9%AA%8C(wasm%E5%86%85%E9%83%A8%E4%BC%9A%E6%9A%82%E5%81%9C%E8%A7%A3%E7%A0%81)%EF%BC%8C%E5%A6%82%E9%9C%80%E8%A6%81%E8%B4%AD%E4%B9%B0%E5%95%86%E4%B8%9A%E6%8E%88%E6%9D%83%EF%BC%8C%E5%8F%AF%E4%BB%A5%E8%81%94%E7%B3%BB%E5%BE%AE%E4%BF%A1%EF%BC%9Abosswancheng","talkStreamMsg","flvMetaData","clickInitPlayer","oneHour","webFullscreen","timeupdate","ALAW","initVideo","error",'video/mp4; codecs="avc1.64002A"',"demuxed-track","streamMessage","speed",'video/mp4; codecs="hev1.1.6.L123.b0"',"memoryLog","leftDown","mse","decoder-pro-hard.js","flvScriptData","mseSourceended","webrtc-failed","fullscreenError","right","sourcebuffer-created","recording","close","play","no-audio-track","aliyunRtc","currentPts","audioPayload","mseWaitVideoCanplayTimeout","Decoding error","hls-manifest-loaded","peer-connection","不支持该分辨率的视频","sei","sei-in-time","不支持硬解码H265","mute","fetchStream","webcodecsDecodeConfigureError","mediaSourceAudioNoDataTimeout","codec","playbackShowPrecisionChange","ratechange","left-down","playbackPause","supportHls265","apertureFar","timeout","talkStreamError","aiFaceDetectorInfo","audioChannelError","初始化解码worker超时","mediaSourceAudioInitTimeout","multiMouseover","initDecoderWorkerTimeout","right-down","image/webp","widthOrHeightChangeReplayDelayTime","controlSize","playVodStats","notSupportNewWasm","netBuf","multiIndex","aacSequenceHeader","playVodVideoSeekingByMse","streamSuccess","mediaSourceBufferedIsZeroError","webrtcOnConnectionStateChange","decoderWorkerInit","window","aiOcclusionDetectResult","335673bXcehT","webcodecsDecodeError","MPEG4","initAudioCodec","metadata-parsed","videoTimeUpdate","aiObjectDetectorInfo","multiFullscreen","1118902LrMOPS","FLV待解封装buffer过大","delta","simple","流异常","H264(AVC)","videoWaiting","multiDragleave","worker","default","networkDelayTimeout","resetDecode","mseFirstRenderTime","jessibuca-pro-mp4-recorder-decoder.js","talkFailedAndStop","talkGetUserMediaTimeout","buffering","webgl","flv","网络超时重播失败","log","streamStats","aliyunRtcError","startstreaming","metadata","networkDelay","full","togglePerformancePanel","isTs","vertical","loadingTimeoutRetryEnd","playbackEnd","volumechange","MediaSource解码使用canvas渲染失败","switch-url-success","初始化解码器失败","20IKWWSI","NotAllowedError","kBps","mseSourceStartStreaming","rightDown","aiImageDetectResult","suspend","fetch","webrtc-disconnected","load-response-headers","playbackPrecision","streamQualityChange","stalled","webcodecsAudioNoDataTimeout","performance","HEVC decoding is not supported","wasm解码失败","object","fmp4","pressureObserverCpu","playVodTimeCache","inView","mseDecodeError","script","right-up","3-1","isFlv","multiMouseout","29474530qciYgX","multiMousemove","1371108BdUHpw","video","warn","mediaSourceAudioG711NotSupport","base64","Invalid NAL unit size","closeEnd","empty","缓冲区已满","download","webrtcOnIceConnectionStateChange","talkStreamInactive","webrtc","webrtcError","151704zCjago","playbackStats","mouseDownAndUp","mov","idle","sendWsMessage","playType","delayTimeoutRetryEnd","volume","recordingTimestamp","mseSourceBufferError","stream","initVideoCodec","open","websocket1006Error","drawingRect","初始化worker失败","drawingRectInfo","streamRate","clearBuffer","isMulti","videoSequenceHeader","playVodEnded","webrtcChecking","canplaythrough","tcp","zoomNarrow","FMP4","checkFirstIFrame","wcsDecodeError","canplay","flvDemuxBufferSizeTooLarge","videoDecode","mp4","webrtcIceCandidateError","AAC","wasmUseVideoRenderError","webcodecs","normal","webrtcFailed","streamError","blur","mseHandle",'video/mp4;codecs="hev1.1.6.L120.90"',"sender","pause",'video/mp4;codecs="hev1.4.10.L120.90"',"streamEnd","播放超时重播失败","remote-inbound-rtp","talkStreamStart","downloadMemoryLog","JessibucaPro","opus","3RlQwlj","webrtcClosed","memory access out of bounds","focus","decoderWorkerWasmError","record","Decoder error","jtt","decoderWorkerInitError","focusNear","destroyEnd","none","videoSmooth","remove-buffer","decoder-pro-audio.js","jbprovm","loading","isFmp4","recordCancel","playVodMp4Error","hls","streamDts","playbackStreamVideoFps","请求结束","simdDecodeError","start","seeking","videoNalu","video自动渲染失败","fiveMin","fogOpen","fiStop","global","wiperClose","init","decoder-pro.js","zooming","waiting","ptz","halfHour","complete","fullscreen","resetVideoDecode","playVodSeek","mseWidthOrHeightChange","sourceopen","debug","flv-script-data","M7S","playVodEndedAndReplay","visibilityHiddenTimeout","playIsNotPauseOrUrlIsNull","cruiseStop","AbortError","audioNalu","playbackJustTime","isWebrtcForZLM","等待音频数据超时","loadingTimeout","imageDetectActive","playbackRateChange","isAliyunRtc","g711","pauseAndNextPlayUseLastFrameShow","multiDragstart","wasmError","left-up","multiSelected","destroy","videoCode","csrc"];return(M=function(){return e})()}i(493),i(727),i(695),i(468),i(557),i(747),i(559),i(692),i(501),i(352),i(555),i(707),i(708),i(754),i(561),i(349),i(562),i(537),i(769),i(445),i(734),i(422),i(675),i(490),i(424),i(743),i(539),i(448),i(449),i(439),i(641),i(721),i(435),i(528),i(718),i(420),i(578),i(699),i(510),i(420),i(788),i(760),i(531),i(630),i(725),i(455),i(698),i(719),i(446),i(403),i(366),i(623),i(618),i(585),i(791),i(552),i(603),i(614),i(372),i(720),i(399),i(538),i(432),i(402),i(756),typeof window===i(547)&&window[i(484)]===window?window:typeof self===i(547)&&self.self===self?self:typeof global===i(547)&&global[i(660)]===global&&global,i(598),i(668),i(703),i(709),i(420),i(367),i(746),i(745),i(619),i(756),i(457),i(654),i(542),i(536),i(417),i(526),i(665),i(779),i(420),i(411);var U="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var F=Object.freeze({__proto__:null,commonjsGlobal:U,commonjsRequire:function(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")},unwrapExports:function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e},createCommonjsModule:function(e,t){return e(t={exports:{}},t.exports),t.exports},getCjsExportFromNamespace:function(e){return e&&e.default||e}});function D(){var e=["undefined","4kFqExt","off","mozCancelFullScreen","error","fullscreenerror","4732koYPfc","1332663OkTBXT","83YcUMGa","msExitFullscreen","mozfullscreenerror","bind","10VokASH","createCommonjsModule","screenfull","1208oCbGoj","mozfullscreenchange","webkitFullscreenElement","document","length","webkitCancelFullScreen","mozFullScreenEnabled","182mjTlSF","webkitRequestFullscreen","mozRequestFullScreen","exit","fullscreenchange","mozFullScreenElement","fullscreenElement","msRequestFullscreen","2440296voAyZT","3374298lNzRJB","webkitExitFullscreen","removeEventListener","exports","1975725QyGkqY","defineProperties","99sqwKVa","change","msFullscreenEnabled","1572306VNpVfD","exitFullscreen","then","webkitfullscreenchange","requestFullscreen","isEnabled","isFullscreen","msFullscreenElement"];return(D=function(){return e})()}var L=R;function R(e,t){var r=D();return(R=function(e,t){return r[e-=232]})(e,t)}!function(e,t){for(var r=R,s=e();;)try{if(259360===-parseInt(r(232))/1*(-parseInt(r(246))/2)+parseInt(r(279))/3*(-parseInt(r(273))/4)+-parseInt(r(259))/5+-parseInt(r(264))/6+-parseInt(r(278))/7*(parseInt(r(239))/8)+-parseInt(r(255))/9*(parseInt(r(236))/10)+parseInt(r(261))/11*(parseInt(r(254))/12))break;s.push(s.shift())}catch(e){s.push(s.shift())}}(D),F[L(237)]((function(e){var t,r,s,i,o,n;t=R,r=typeof window!==t(272)&&typeof window.document!==t(272)?window[t(242)]:{},s="object"!==t(272)&&e.exports,i=function(){for(var e,s=t,i=[[s(268),s(265),"fullscreenElement","fullscreenEnabled",s(250),"fullscreenerror"],[s(247),s(256),s(241),"webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement",s(244),s(267),"webkitfullscreenerror"],[s(248),s(275),s(251),s(245),s(240),s(234)],[s(253),s(233),s(271),s(263),"MSFullscreenChange","MSFullscreenError"]],o=0,n=i[s(243)],a={};o<n;o++)if((e=i[o])&&e[1]in r){for(o=0;o<e[s(243)];o++)a[i[0][o]]=e[o];return a}return!1}(),o={change:i[t(250)],error:i[t(277)]},n={request:function(e,s){return new Promise(function(t,o){var n=R,a=function(){var e=R;this[e(274)](e(262),a),t()}.bind(this);this.on(n(262),a);var c=(e=e||r.documentElement)[i[n(268)]](s);c instanceof Promise&&c[n(266)](a).catch(o)}[t(235)](this))},exit:function(){return new Promise(function(e,t){var s=R;if(this[s(270)]){var o=function(){this[s(274)]("change",o),e()}.bind(this);this.on(s(262),o);var n=r[i[s(265)]]();n instanceof Promise&&n.then(o).catch(t)}else e()}.bind(this))},toggle:function(e,r){var s=t;return this[s(270)]?this[s(249)]():this.request(e,r)},onchange:function(e){var r=t;this.on(r(262),e)},onerror:function(e){var r=t;this.on(r(276),e)},on:function(e,t){var s=o[e];s&&r.addEventListener(s,t,!1)},off:function(e,s){var i=o[e];i&&r[t(257)](i,s,!1)},raw:i},i?(Object[t(260)](n,{isFullscreen:{get:function(){return Boolean(r[i[t(252)]])}},element:{enumerable:!0,get:function(){return r[i[t(252)]]}},isEnabled:{enumerable:!0,get:function(){return Boolean(r[i.fullscreenEnabled])}}}),s?e[t(258)]=n:window[t(238)]=n):s?e[t(258)]={isEnabled:!1}:window.screenfull={isEnabled:!1}}))[L(269)];const W=N;!function(e,t){const r=N,s=e();for(;;)try{if(277642===-parseInt(r(315))/1+parseInt(r(326))/2*(-parseInt(r(302))/3)+-parseInt(r(312))/4+parseInt(r(322))/5+-parseInt(r(325))/6*(parseInt(r(314))/7)+-parseInt(r(300))/8*(parseInt(r(317))/9)+parseInt(r(303))/10)break;s.push(s.shift())}catch(e){s.push(s.shift())}}(P);class x{constructor(e){const t=N;this[t(301)]=e,this[t(305)]=0,this[t(311)]=e.byteLength,this[t(304)]=8*e[t(318)],this[t(308)]=0,this[t(298)]=0}[W(321)](){this._buffer=null}[W(299)](){const e=W;let t=this[e(311)]-this[e(305)];if(t<=0)return void console.error(e(307),this._total_bytes,this[e(305)]);let r=Math.min(4,t),s=new Uint8Array(4);s[e(319)](this[e(301)][e(296)](this[e(305)],this[e(305)]+r)),this[e(308)]=new DataView(s[e(313)])[e(320)](0,!1),this[e(305)]+=r,this._current_word_bits_left=8*r}[W(324)](e){const t=W;if(e>32&&console.error(t(323)),e<=this[t(298)]){let r=this[t(308)]>>>32-e;return this._current_word<<=e,this._current_word_bits_left-=e,r}let r=this._current_word_bits_left?this[t(308)]:0;r>>>=32-this[t(298)];let s=e-this[t(298)];this[t(299)]();let i=Math[t(310)](s,this[t(298)]),o=this[t(308)]>>>32-i;return this._current_word<<=i,this[t(298)]-=i,r=r<<i|o,r}[W(309)](){return 1===this[W(324)](1)}[W(316)](){return this.readBits(8)}[W(306)](){const e=W;let t;for(t=0;t<this[e(298)];t++)if(0!=(this._current_word&2147483648>>>t))return this._current_word<<=t,this[e(298)]-=t,t;return this[e(299)](),t+this._skipLeadingZero()}[W(297)](){const e=W;let t=this._skipLeadingZero();return this[e(324)](t+1)-1}[W(327)](){let e=this.readUEG();return 1&e?e+1>>>1:-1*(e>>>1)}}function N(e,t){const r=P();return(N=function(e,t){return r[e-=296]})(e,t)}function P(){const e=["_current_word","readBool","min","_total_bytes","1714532RPmgyx","buffer","56HzEBsh","38247VobAsC","readByte","5058fIFXTk","byteLength","set","getUint32","destroy","1047235VTcevp","ExpGolomb: readBits() bits exceeded max 32bits!","readBits","100200rcAbYr","58898pQINLu","readSEG","subarray","readUEG","_current_word_bits_left","_fillCurrentWord","2320RZffwm","_buffer","42Gajege","12439410zrIWnV","_total_bits","_buffer_index","_skipLeadingZero","ExpGolomb: _fillCurrentWord() but no bytes available"];return(P=function(){return e})()}const O=V;!function(e,t){const r=V,s=e();for(;;)try{if(927076===parseInt(r(420))/1+-parseInt(r(450))/2+parseInt(r(406))/3+parseInt(r(429))/4+-parseInt(r(444))/5*(parseInt(r(418))/6)+parseInt(r(411))/7+-parseInt(r(408))/8*(parseInt(r(400))/9))break;s.push(s.shift())}catch(e){s.push(s.shift())}}(j);const G=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350,-1,-1,-1];function V(e,t){const r=j();return(V=function(e,t){return r[e-=395]})(e,t)}function j(){const e=["sampling_freq_index","more than 2 numSubFrames Not Supported",". Only frameLengthType = 0 Supported","byteLength","findNextSyncwordOffset","sampling_frequency","90YdpyoL","destroy","446624vJwoZC","channels","allStreamsSameTimeFraming zero is Not Supported","sampleRate: ","Flv: AAC invalid channel configuration","readBits","subarray","object_type","read","5963768zojXLs","look","sbr","log","ext_object_type","buflen","android","aac","eof_flag_","Could not found ADTS syncword until payload end","readByte","readBool","bufpos","length","current_syncword_offset_","277275hklBkp","has_last_incomplete_data","sequenceHeader","set","audio_object_type","aacEncoderConfigurationRecord","966954pQbwkY","userAgent","toLowerCase","read_golomb","firefox","chan_config","getLATMValue","AAC","iserro","mp4a.40.","navigator","sample_rate","other_data_present","mp4a.40.2","bufoff","hasIncompleteData","data_","error","more than 2 numProgram Not Supported","StreamMuxConfig Missing","954801ydtcvG","readNextAACFrame","slice","Invalid sampling index: ","channel_config","buffer","3586893AGjPHl","audioMuxVersionA is Not Supported","136plGTBu","sampling_index","getIncompleteData","6388858hzvoHH"];return(j=function(){return e})()}O(428),O(430),O(453);O(401),O(395),O(410);O(416),O(456),O(401),O(395),O(410);function H(){const e=["908970pWUhmN","toString","835475pLBtGs","254314aYYDdG","subarray","set","byteLength","12YWPheb","setUint32","buffer","push","length","8678576GbNQIK","15867387qoIGwS","28kOzcqG","2157990ZFSTFT","690288yEgpfR"];return(H=function(){return e})()}function z(e,t){const r=H();return(z=function(e,t){return r[e-=441]})(e,t)}!function(e,t){const r=z,s=e();for(;;)try{if(585243===-parseInt(r(449))/1+parseInt(r(453))/2+parseInt(r(448))/3+parseInt(r(457))/4*(parseInt(r(452))/5)+parseInt(r(450))/6*(parseInt(r(447))/7)+parseInt(r(445))/8+-parseInt(r(446))/9)break;s.push(s.shift())}catch(e){s.push(s.shift())}}(H);const q=ee;function J(){}function Q(){const e=ee;return(new Date)[e(382)]()}!function(e,t){const r=ee,s=e();for(;;)try{if(961652===parseInt(r(639))/1*(-parseInt(r(449))/2)+parseInt(r(587))/3*(parseInt(r(457))/4)+-parseInt(r(486))/5*(-parseInt(r(503))/6)+parseInt(r(412))/7*(parseInt(r(505))/8)+-parseInt(r(381))/9+parseInt(r(475))/10+-parseInt(r(585))/11*(parseInt(r(684))/12))break;s.push(s.shift())}catch(e){s.push(s.shift())}}(K),(()=>{const e=ee;try{if(typeof WebAssembly===e(399)&&"function"==typeof WebAssembly[e(373)]){const t=new(WebAssembly[e(669)])(Uint8Array.of(0,97,115,109,1,0,0,0));if(t instanceof WebAssembly[e(669)])return new(WebAssembly[e(631)])(t)instanceof WebAssembly[e(631)]}}catch(e){}})();q(378);const Z=q(392);function Y(){const e=q,t=window[e(628)][e(642)].toLowerCase();return t&&/iphone|ipad|ipod|ios/[e(513)](t)}q(613),q(378),q(577),q(425),q(541);const X=()=>(()=>{const e=q,t=window[e(628)].userAgent;return/MicroMessenger/i[e(513)](t)})()&&function(){const e=q,t=window[e(628)][e(642)][e(629)]();return/android/i[e(513)](t)}();function K(){const e=["webkitFullscreenElement","open","MULAW","22aHJtEj",";base64","3507bSsIfH","webkitGetUserMedia","pageY","apply","mousedown","touchmove","createEvent","audioWorklet","data","isConfigSupported","webkit-3d","angle","save","iFrame","fontSize","close","solid","trim","div","-o-user-select","message","onload","setAttribute","ALAW","VideoFrame","h265",'"development"',"Firefox","charCodeAt","memory","getDay","indexOf","MB/s","result","function","WebGL2RenderingContext","toString","-webkit-text-size-adjust","hev3","webgl","rgba(0,0,0,0)","navigator","toLowerCase","demuxUseWorker","Instance","transferControlToOffscreen","top","then","drawImage","image","right","wow32","42437lKcxoM","green yuv","origin","userAgent","QihooBrowser","onerror","0 KB/s","textAlign","touchstart","-ms-user-select","hasAudio","prototype","subarray","createElement","setInt32","connect","hev","KB/s","fullscreenElement","now","resume","absolute","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=","Reserved SBR extensions is not implemented","file","rect","MediaStream","canvas","high","setUint32","Module","innerHTML","src","children","360EE","font","getAttribute","craNut","Anonymous","host","edge","WAVE","fillStyle","[object Number]","quality","7368624KNpxiN","numberOfFrames","download","hev5","revokeObjectURL","green","useWCS","substring","replace","restore","firefox","clientY","instantiate","getImageData","left","max","pageX",'"production"',"MouseEvents","status","1998936jfoUoF","getTime","random","createBuffer","filter","line","AudioDecoder","visibility","copyright","true","strokeRect",'"9-25-2024"',"showModalDialog","strokeStyle","canConstructInDedicatedWorker","360SE","shadowRoot","fillText","object","lineWidth","contain","Edg","VideoEncoder.isConfigSupported is not a function","illegal icc","VideoDecoder","hev2","setInt16","forEach","getHours","set","sequenceHeader","4102GcaCBu","length","assign","none","getUint8","img","setHours","scrollLeft","canPlayType","parse","hev4","borderWidth","content","__DELAY_TIME__","split","QQBrowser","ActiveXObject","noteOn","gpu","safari","byteLength","format","URL","-webkit-user-select","100%","msGetUserMedia","search","getPropertyValue","AudioData","type","TB/s","ManagedMediaSource","getContext","slice","ended","f32-planar","application/vnd.chromium.remoting-viewer","56pCkbIg","clientX","paused","VideoEncoder.isConfigSupported() result is not supported","style","not compiled with thread support, using thread emulation","PB/s","MediaStreamTrackGenerator","4740jKhLeX","YB/s","toDataURL","event","substr","application/360softmgrplugin","imageSmoothingEnabled","application/asx","RIFF","atob","application/mozilla-npqihooquicklogin","touches","useMSE","display","height","click","width","fontFamily","7658790EzESPB","document","readAsArrayBuffer","backgroundColor","floor","initEvent","undefined","stringify","getSeconds","min","xxxxxxxxxxxx4xxx","3002685BSjeSJ","protocol","chrome","performance","#000","100","block","data-","experimental-webgl","pps","location","webgl2","-webkit-tap-highlight-color","opacity","toFixed","match","GB/s","12KpAsYi","scrollTop","3384gXkZQE","QHBrowser","fromCharCode","dataset","version","requestVideoFrameCallback","PressureObserver","mimeTypes","test","map","9999999","crossOrigin","text","pathname","pointer-events: none !important; display: block !important","win32","vps","Bytes","VideoEncoder is not supported","borderColor","win64","join","getUserMedia","attachShadow","sps","getFullYear","Edge","href","clearRect","keys","setUint8","round","charAt","not compiled with thread support","-webkit-touch-callout","https:","__DELAY_TIMESTAMP__","isTypeSupported","user-select","mediaDevices","createImageBitmap","-moz-user-select","moz-webgl","removeAttribute","body","string","Safari","color","createObjectURL","appendChild","addModule","ZB/s","mozGetUserMedia","createTextNode","wow64","touchend","setUint16","log","[object Exception]","readyState","push","getMonth","Opera","bottom","application/javascript","repeat","failed to asynchronously prepare wasm","px Arial","html","buffer","playbackRate","insertBefore",'"delaytime"',"hostname","pow","target","MediaSource"];return(K=function(){return e})()}function $(e){const t=q;let r="";if(typeof e===t(399))try{r=JSON.stringify(e),r=JSON[t(421)](r)}catch(t){r=e}else r=e;return r}function ee(e,t){const r=K();return(ee=function(e,t){return r[e-=368]})(e,t)}function te(e){return!0===e||e===q(390)}const re=se;function se(e,t){const r=ie();return(se=function(e,t){return r[e-=491]})(e,t)}function ie(){const e=["bufferSlice","initializeBuffers","840029lSQImn","length","tailExists","349535dyhhRz","Buffer was of incorrect sample length.","floor","resample","1593vmaeAo","inputBufferSize","lastWeight","subarray","3024BHRYhe","158628yKkECw","lastOutput","1315690hAomcE","multiTap","7382796iQGegl","fromSampleRate","initialize","outputBuffer","ratioWeight","toSampleRate","resampler","outputBufferSize","16576GRaHlD","channels","216170HkVUhp","ceil","60CpyfSc"];return(ie=function(){return e})()}!function(e,t){const r=se,s=e();for(;;)try{if(781342===parseInt(r(504))/1+-parseInt(r(518))/2+-parseInt(r(516))/3+parseInt(r(501))/4*(-parseInt(r(507))/5)+-parseInt(r(520))/6+-parseInt(r(515))/7*(parseInt(r(497))/8)+parseInt(r(511))/9*(parseInt(r(499))/10))break;s.push(s.shift())}catch(e){s.push(s.shift())}}(ie);class oe{constructor(e){const t=se,{fromSampleRate:r,toSampleRate:s,channels:i,inputBufferSize:o}=e;if(!r||!s||!i)throw new Error("Invalid settings specified for the resampler.");this[t(495)]=null,this[t(521)]=r,this[t(494)]=s,this[t(498)]=i||0,this.inputBufferSize=o,this[t(491)]()}destroy(){const e=se;this[e(495)]=null,this.fromSampleRate=null,this[e(494)]=null,this[e(498)]=null,this[e(512)]=null}[re(491)](){const e=re;this[e(521)]==this[e(494)]?(this[e(495)]=e=>e,this[e(493)]=1):(this[e(521)]<this[e(494)]?(this.linearInterpolation(),this.lastWeight=1):(this[e(519)](),this[e(506)]=!1,this.lastWeight=0),this[e(503)](),this[e(493)]=this[e(521)]/this.toSampleRate)}bufferSlice(e){const t=re;try{return this[t(492)][t(514)](0,e)}catch(r){try{return this[t(492)][t(505)]=e,this[t(492)]}catch(t){return this.outputBuffer.slice(0,e)}}}initializeBuffers(){const e=re;this.outputBufferSize=Math[e(500)](this.inputBufferSize*this[e(494)]/this[e(521)]/this[e(498)]*1.0000004768371582)+this[e(498)]+this.channels;try{this[e(492)]=new Float32Array(this[e(496)]),this[e(517)]=new Float32Array(this[e(498)])}catch(t){this[e(492)]=[],this[e(517)]=[]}}linearInterpolation(){const e=re;this[e(495)]=t=>{const r=e;let s,i,o,n,a,c,l,h,u,d=t[r(505)],p=this.channels;if(d%p!=0)throw new Error("Buffer was of incorrect sample length.");if(d<=0)return[];for(s=this.outputBufferSize,i=this[r(493)],o=this.lastWeight,n=0,a=0,c=0,l=0,h=this[r(492)];o<1;o+=i)for(a=o%1,n=1-a,this[r(513)]=o%1,u=0;u<this[r(498)];++u)h[l++]=this[r(517)][u]*n+t[u]*a;for(o-=1,d-=p,c=Math[r(509)](o)*p;l<s&&c<d;){for(a=o%1,n=1-a,u=0;u<this[r(498)];++u)h[l++]=t[c+(u>0?u:0)]*n+t[c+(p+u)]*a;o+=i,c=Math[r(509)](o)*p}for(u=0;u<p;++u)this.lastOutput[u]=t[c++];return this[r(502)](l)}}[re(519)](){const e=re;this[e(495)]=t=>{const r=e;let s,i,o,n,a,c,l,h,u,d,p,f=t[r(505)],m=this[r(498)];if(f%m!=0)throw new Error(r(508));if(f<=0)return[];for(s=this[r(496)],i=[],o=this[r(493)],n=0,c=0,l=0,h=!this.tailExists,this[r(506)]=!1,u=this[r(492)],d=0,p=0,a=0;a<m;++a)i[a]=0;do{if(h)for(n=o,a=0;a<m;++a)i[a]=0;else{for(n=this[r(513)],a=0;a<m;++a)i[a]=this[r(517)][a];h=!0}for(;n>0&&c<f;){if(l=1+c-p,!(n>=l)){for(a=0;a<m;++a)i[a]+=t[c+(a>0?a:0)]*n;p+=n,n=0;break}for(a=0;a<m;++a)i[a]+=t[c++]*l;p=c,n-=l}if(0!==n){for(this[r(513)]=n,a=0;a<m;++a)this[r(517)][a]=i[a];this[r(506)]=!0;break}for(a=0;a<m;++a)u[d++]=i[a]/o}while(c<f&&d<s);return this[r(502)](d)}}[re(510)](e){const t=re;return this[t(521)]==this[t(494)]?this[t(493)]=1:(this[t(521)]<this[t(494)]?this[t(513)]=1:(this[t(506)]=!1,this.lastWeight=0),this[t(503)](),this[t(493)]=this[t(521)]/this[t(494)]),this[t(495)](e)}}function ne(e,t){const r=ae();return(ne=function(e,t){return r[e-=168]})(e,t)}function ae(){const e=["30982YXdIXS","280410EIxqsO","712sUHNbu","min","2151060mPLdAP","1996250vtHMdQ","1411260tLYQHp","66Oyimkb","max","3194136ekgJHk","length","136lbpagu","3JvxqqR"];return(ae=function(){return e})()}!function(e,t){const r=ne,s=e();for(;;)try{if(242109===-parseInt(r(172))/1*(parseInt(r(174))/2)+-parseInt(r(180))/3*(-parseInt(r(175))/4)+parseInt(r(178))/5+-parseInt(r(179))/6+-parseInt(r(173))/7*(parseInt(r(171))/8)+parseInt(r(169))/9+parseInt(r(177))/10)break;s.push(s.shift())}catch(e){s.push(s.shift())}}(ae),function(e,t){const r=me,s=e();for(;;)try{if(860168===-parseInt(r(403))/1*(parseInt(r(401))/2)+-parseInt(r(404))/3*(parseInt(r(392))/4)+-parseInt(r(402))/5+-parseInt(r(405))/6+-parseInt(r(397))/7+-parseInt(r(396))/8*(-parseInt(r(394))/9)+parseInt(r(393))/10)break;s.push(s.shift())}catch(e){s.push(s.shift())}}(ue);const ce=132,le=[255,511,1023,2047,4095,8191,16383,32767];function he(e,t,r){for(let s=0;s<r;s++)if(e<=t[s])return s;return r}function ue(){const e=["3388866kLbLyq","length","ALAW","prototype","3776564FzNWpM","57436980alxSle","178479yWXlxd","slice","152IrLmGB","11129237DVhHRB","call","set","forEach","1169318smJbQC","7884085PrMhEZ","1wQnjHe","3nRnBtI"];return(ue=function(){return e})()}function de(e){const t=me,r=[];return Array[t(391)][t(395)][t(398)](e)[t(400)](((e,t)=>{r[t]=function(e){let t,r,s;return e>=0?t=213:(t=85,(e=-e-1)<0&&(e=32767)),r=he(e,le,8),r>=8?127^t:(s=r<<4,s|=r<2?e>>4&15:e>>r+3&15,s^t)}(e)})),r}function pe(e){const t=me,r=[];return Array[t(391)][t(395)][t(398)](e)[t(400)](((e,t)=>{r[t]=function(e){let t=0;e<0?(e=ce-e,t=127):(e+=ce,t=255);let r=he(e,le,8);return r>=8?127^t:(r<<4|e>>r+3&15)^t}(e)})),r}function fe(e){const t=[];return e[me(400)]((e=>{t[e]=function(e){let t=((15&(e=~e))<<3)+ce;return t<<=(112&e)>>4,128&e?ce-t:t-ce}(e)})),t}function me(e,t){const r=ue();return(me=function(e,t){return r[e-=389]})(e,t)}function ge(e,t){const r=we();return(ge=function(e,t){return r[e-=488]})(e,t)}function we(){const e=["2896216xcjXfu","[❗❗❗][","warn","log","7jHCEBL","debug","error","[✅✅✅][","debugLevel","846VtGhsh","length","348QiZNRW","3JAZUei","920195GwFmas","12eWzrck","22870hzBuDq","1635796hKuoLl","5bZCJhc","93742alWXUD","11839906jsBjff","165602Jfvqpq","[❌❌❌][","debugUuid","_opt","JbPro"];return(we=function(){return e})()}!function(e,t){const r=ge,s=e();for(;;)try{if(207761===parseInt(r(501))/1*(-parseInt(r(504))/2)+-parseInt(r(496))/3*(-parseInt(r(500))/4)+parseInt(r(497))/5*(-parseInt(r(498))/6)+-parseInt(r(488))/7*(parseInt(r(509))/8)+parseInt(r(493))/9*(-parseInt(r(499))/10)+parseInt(r(502))/11*(parseInt(r(495))/12)+parseInt(r(503))/13)break;s.push(s.shift())}catch(e){s.push(s.shift())}}(we);class be{constructor(e){const t=ge;this[t(512)]=function(r){const s=t;if(e[s(507)][s(492)]==u.debug){const t=e[s(507)][s(506)]?"["+e._opt[s(506)]+"]":"";for(var i=arguments[s(494)],o=new Array(i>1?i-1:0),n=1;n<i;n++)o[n-1]=arguments[n];console[s(512)](s(508)+t+s(491)+r+"]",...o)}},this[t(511)]=function(r){const s=t;if(e[s(507)].debugLevel==u[s(489)]||e[s(507)][s(492)]==u[s(511)]){const t=e[s(507)].debugUuid?"["+e[s(507)][s(506)]+"]":"";for(var i=arguments.length,o=new Array(i>1?i-1:0),n=1;n<i;n++)o[n-1]=arguments[n];console[s(512)](s(508)+t+s(510)+r+"]",...o)}},this[t(490)]=function(r){const s=t,i=e[s(507)][s(506)]?"["+e[s(507)][s(506)]+"]":"";for(var o=arguments[s(494)],n=new Array(o>1?o-1:0),a=1;a<o;a++)n[a-1]=arguments[a];console.error(s(508)+i+s(505)+r+"]",...n)}}}const ye=Se;function ke(){const e=["Events","forEach","2029696FjJxoz","proxy","isArray","bind","4QoNhfw","master","2380KIHhOu","destroys","18608GfaMIT","1331VSOfYh","debugLog","5ymhREm","push","destroy","30ZOdaOB","173820fGkNkt","removeEventListener","1844307ihdXLK","612534XMiaaU","1323774plmFEF","824467ZJQoFo"];return(ke=function(){return e})()}function Se(e,t){const r=ke();return(Se=function(e,t){return r[e-=484]})(e,t)}!function(e,t){const r=Se,s=e();for(;;)try{if(601870===parseInt(r(487))/1+parseInt(r(490))/2+parseInt(r(486))/3*(parseInt(r(494))/4)+parseInt(r(501))/5*(-parseInt(r(485))/6)+parseInt(r(496))/7*(parseInt(r(498))/8)+parseInt(r(484))/9*(-parseInt(r(504))/10)+parseInt(r(499))/11*(-parseInt(r(505))/12))break;s.push(s.shift())}catch(e){s.push(s.shift())}}(ke);class Ee{constructor(e){const t=Se;this[t(497)]=[],this[t(491)]=this[t(491)][t(493)](this),this[t(495)]=e}[ye(491)](e,t,r){const s=ye;let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!e)return;if(Array[s(492)](t))return t.map((t=>this[s(491)](e,t,r,i)));e.addEventListener(t,r,i);const o=()=>{const o=s;"function"==typeof e.removeEventListener&&e[o(506)](t,r,i)};return this.destroys[s(502)](o),o}destroy(){const e=ye;this[e(495)][e(500)](e(488),e(503)),this[e(497)][e(489)]((e=>e())),this.destroys=[]}}function Ie(){const e=["destination","getChannelData","_initIntervalScriptNode() and interval time is ","outputBuffer","209822QkSrAh","TAG_NAME","postMessage","audioBufferSize","mediaStreamAudioDestinationNode","size","supportLockScreenPlayAudio","port","init","addModule","engineType","zero","$audio","set","_initWorkletScriptNode()","connect","_initScriptNode","audioWorklet","6zuofQn","right","value","_handleScriptNodeCallback","4074125ypZeUb","isG711a","gain","currentTime","createGain","script start time ","data","isMute","left","_initProcessScriptNode()","webkitAudioContext","scriptNodeInterval","_getAudioChannel","disconnect","_initIntervalScriptNode","_initProcessScriptNode","worklet","stashBuffer","sampleRate","1571848AnhQcD","fill","buffer","destroy","getBufferListDuration","onaudioprocess","scriptStartTime","AudioTalkLoader","createBuffer","2196ZnHkiu","_isMoreThanMinBufferDuration","10490dwpVsZ","_opt","_createAudioContext","start","10479VtoiVq","createBufferSource","debugLog","scriptNode","stream","player","oneBufferDuration","bufferList","isG711u","1101896jHbpfq","_fillScriptNodeOutputBuffer","audioContext","198iJRIth","_initWorkletScriptNode","AudioContext","srcObject","createMediaStreamDestination","subarray","length","audioChannel","active","play","push"," is less than current time ","gainNode","_supportAudioWorklet","shift","script","_getAudioBufferSizeByType","880030uAQaST"];return(Ie=function(){return e})()}const ve=Te;function Te(e,t){const r=Ie();return(Te=function(e,t){return r[e-=374]})(e,t)}!function(e,t){const r=Te,s=e();for(;;)try{if(423449===parseInt(r(407))/1+-parseInt(r(459))/2+parseInt(r(425))/3*(-parseInt(r(382))/4)+-parseInt(r(429))/5+parseInt(r(457))/6*(-parseInt(r(463))/7)+parseInt(r(448))/8+parseInt(r(385))/9*(parseInt(r(402))/10))break;s.push(s.shift())}catch(e){s.push(s.shift())}}(Ie);class Ae{constructor(e){const t=Te;this[t(408)]=t(455),this.player=e,this[t(384)]=this[t(461)](),this[t(417)]=this._getAutoAudioEngineType(),this[t(410)]=this[t(401)](),this[t(392)]=this._getAudioChannel(),this[t(446)]=new Float32Array(0),this[t(380)]=[],this[t(419)]=null,this[t(397)]=this.audioContext[t(433)](),this.scriptNode=null,this[t(411)]=null,this[t(454)]=0,this[t(440)]=null,Y()&&(this.mediaStreamAudioDestinationNode=this[t(384)][t(389)]()),this[t(423)](),this[t(378)].debugLog(this.TAG_NAME,t(415))}async[ve(451)](){const e=ve;this[e(440)]&&(clearInterval(this[e(440)]),this.scriptNodeInterval=null),this[e(384)]&&(await this.audioContext.close(),this.audioContext=null),this[e(397)]&&(this[e(397)].disconnect(),this.gainNode=null),this[e(376)]&&(this.scriptNode[e(442)](),this[e(376)].onaudioprocess=J,this.scriptNode=null),this[e(411)]&&(this[e(411)][e(442)](),this[e(411)]=null),this.player[e(375)](this.TAG_NAME,e(451))}get[ve(379)](){const e=ve;return this[e(410)]/this.audioContext[e(447)]*1e3}[ve(461)](){const e=ve;let t=48e3;return(this[e(378)][e(460)][e(430)]||this[e(378)][e(460)].isG711u)&&(t=8e3),new(window[e(387)]||window[e(439)])({sampleRate:t})}[ve(441)](){const e=ve;let t=1;return(this[e(378)][e(460)][e(430)]||this[e(378)]._opt[e(381)])&&(t=1),t}_getAutoAudioEngineType(){const e=ve;let t=B[e(400)];return(()=>{const r=e;t=X()?B[r(393)]:(Y()&&this[r(378)][r(460)][r(413)]||function(){const e=q;return window[e(496)][e(487)]===e(540)||"localhost"===window[e(496)].hostname}()&&this[r(398)](),B[r(400)])})(),t}[ve(401)](){const e=ve;return this[e(417)]===B[e(445)]?1024:this[e(417)]===B[e(393)]?4800:(this[e(417)],1024)}[ve(398)](){const e=ve;return this[e(384)]&&this[e(384)][e(424)]&&"function"==typeof this.audioContext[e(424)][e(416)]}[ve(423)](){const e=ve;this[e(417)]===B[e(445)]?this[e(386)]():this[e(417)]===B[e(393)]?this._initIntervalScriptNode():this[e(417)]===B[e(400)]&&this[e(444)]()}[ve(386)](){const e=ve;this[e(378)][e(375)](this[e(408)],e(421))}[ve(443)](){const e=ve;this[e(454)]=0;const t=1e3*this[e(410)]/this[e(384)][e(447)];this[e(378)].debugLog(this[e(408)],e(405)+t),this[e(440)]=setInterval((()=>{const t=e;if(0===this.bufferList[t(391)]||this[t(436)]())return;const r=this[t(384)][t(374)](),s=this.audioContext[t(456)](this[t(392)],this[t(410)],this[t(384)][t(447)]);this[t(428)](s,(()=>{const e=t;this.scriptStartTime<this.audioContext[e(432)]&&(this[e(378)][e(375)](e(387),e(434)+this[e(454)]+e(396)+this[e(384)][e(432)]),this[e(454)]=this[e(384)][e(432)]),r[e(450)]=s,r[e(422)](this.gainNode),r[e(462)](this[e(454)]),this[e(454)]+=s.duration}))}),t),this.gainNode[e(422)](this[e(411)]),this[e(419)]?this[e(419)][e(388)]=this[e(411)][e(377)]:this[e(397)][e(422)](this.audioContext[e(403)])}_initProcessScriptNode(){const e=ve;this[e(378)][e(375)](this[e(408)],e(438));const t=this[e(384)].createScriptProcessor(this[e(410)],0,this[e(392)]);t[e(453)]=t=>{const r=e,s=t[r(406)];this[r(428)](s)},t[e(422)](this[e(397)]),this[e(376)]=t,this[e(397)].connect(this[e(411)]),this.$audio?this[e(419)][e(388)]=this[e(411)][e(377)]:this.gainNode[e(422)](this[e(384)][e(403)])}[ve(428)](e,t){const r=ve;let s,i=arguments[r(391)]>2&&void 0!==arguments[2]&&arguments[2];t=t||J,e[r(391)],i&&(s=e,this[r(410)]);const o=this[r(392)];let n=this[r(380)][r(399)]();n&&n[r(412)]>0?i?s.port[r(409)]({message:r(435),buffer:n}):this[r(383)](e,o,n):(i?s[r(414)][r(409)]({message:r(418)}):this._fillScriptNodeOutputBuffer(e,o),t())}[ve(383)](e,t,r){const s=ve;if(1===t){const t=e.getChannelData(0);r?0===r[s(412)]?t.fill(0):t.set(r.left):t[s(449)](0)}else if(2===t){const t=e[s(404)](0),i=e[s(404)](1);r?0===r[s(412)]?(t[s(449)](0),i[s(449)](0)):(t[s(420)](r[s(437)]),i[s(420)](r[s(426)])):(t[s(449)](0),i[s(449)](0))}}isMute(){const e=ve;return 0===this[e(397)][e(431)][e(427)]}[ve(458)](){return this.getBufferListDuration()>=100}[ve(452)](){const e=ve;return this[e(380)].length*this[e(379)]}[ve(394)](e){const t=ve;let r=e;this[t(378)][t(460)][t(430)]?r=function(e){const t=[];return e.forEach((e=>{t[e]=function(e){let t,r;switch(t=(15&(e^=85))<<4,r=(112&e)>>4,r){case 0:t+=8;break;case 1:t+=264;break;default:t+=264,t<<=r-1}return 0!=(128&e)?t:-t}(e)})),t}(e):this[t(378)]._opt[t(381)]&&(r=fe(e));const s=new Float32Array(r.length+this[t(446)][t(391)]);for(s[t(420)](this[t(446)],0),s[t(420)](r,this[t(446)][t(391)]),this.stashBuffer=s;this[t(446)][t(391)]>this[t(410)];){const e=this[t(446)][t(390)](0,this[t(410)]);this[t(380)][t(395)]({size:e.length,left:e,right:null}),this.stashBuffer=this[t(446)][t(390)](this[t(410)])}}}function Ce(e,t){const r=_e();return(Ce=function(e,t){return r[e-=145]})(e,t)}function _e(){const e=["constructor","7WmSPuE","173ddqhxu","replace","9GUHasK","error","set","2286819xHqZxw","946920hVlTdo","2185584gTaGcn","toString","length","682390HEnumY","3718cfXvQq","padStart","3203682IXfKTI","substr","byteLength","651730rmJAbr"];return(_e=function(){return e})()}function Be(){class e extends AudioWorkletProcessor{constructor(e){super(),this._cursor=0,this._bufferSize=e.processorOptions.bufferSize,this._buffer=new Float32Array(this._bufferSize)}process(e,t,r){if(!e.length||!e[0].length)return!0;for(let t=0;t<e[0][0].length;t++)this._cursor+=1,this._cursor===this._bufferSize&&(this._cursor=0,this.port.postMessage({eventType:"data",buffer:this._buffer})),this._buffer[this._cursor]=e[0][0][t];return!0}}registerProcessor("talk-processor",e)}!function(e,t){const r=Ce,s=e();for(;;)try{if(402578===-parseInt(r(158))/1*(parseInt(r(150))/2)+parseInt(r(163))/3+-parseInt(r(145))/4+-parseInt(r(155))/5+parseInt(r(152))/6+parseInt(r(157))/7*(-parseInt(r(146))/8)+-parseInt(r(160))/9*(-parseInt(r(149))/10))break;s.push(s.shift())}catch(e){s.push(s.shift())}}(_e);const Me=Fe;function Ue(){const e=["220GRNKbx","_startCheckGetUserMediaTimeout","3530zCOfGV","talkGetUserMediaFail","userMediaStream","jttSimNumber is null or length is not 12","talkStreamOpen","concat","g711u","catch","mozGetUserMedia",".rtp","opusDecoder","getUserMedia error","emit","tempPcmBufferList","tempRtpBufferList","555960mHvfAa","createBiquadFilter","checkGetUserMediaTimeout"," and length is ","tcp","toFixed","worklet","_doTalk","href","addOpusToBuffer","tempJttBufferList","send","_sendClose","audio/wav","jttChannelNumber","addPcmToBuffer","jtt","opusEncoder","setVolume","destroy","heartInterval","getUserMedia3 fail","talkGetUserMediaSuccess","gain","pcm","getOption","_getUserMedia","click","wsUrl is null","finally","gainNode","biquadFilter","_initWorklet","download","calcAudioBufferLength","onaudioprocess","isDestroyed","downloadJttFile","sequenceId","warn","engine","sampleRate","getUserMedia success","jttChannelNumber is null or length is not 2","_destroyed","decode","webkitAudioContext","createScriptProcessor",'" string so return',"proxy","startTimestamp","_parseAudioMsg","createGain","downloadOpusFile_1","socketStatusOpen","downloadPcmFile","window.navigator.mediaDevices.getUserMedia is undefined and init function","debugError"," and encType is ","bufferSize","g711a","set","getTracks","debugWarn","oninactive","421557qorlJd","protocols","length","_onaudioprocess","numberChannels","script","AudioContext","mediaStreamSource","message","tempOpusBufferList","_opt","packetType","createJavaScriptNode","tempG711BufferList","events","addJttToBuffer","36058plONph","resampler","audioContext","encType","eventType","audioConstraints","createMediaStreamSource","value","getUserMedia is not implemented in this browser","sampleBitsWidth","clearWorkletUrlTimeout","2QlERcv","assign","testMicrophone","_encodeAudioData","then","talkStreamInactive",".wav","jttPacket","binaryType","talkStreamStart","wsUrl","notConnect","_getUserMedia2","now","downloadOpusFile","websocket error -> reject","enc"," only support sampleRate 8000 and sampleBitsWidth 16","_startHeartInterval","rtp","stream oninactive","buffer","audioBufferList","connect","getUserMedia2 fail","getUserMedia finally","openWebsocketHeart","close","tallWebsocketClosedByError","19052OjFLdd","socketStatus","_sendTalkMsg",".jtt","393258YxtnhJ","stop heart interval","open","empty","init and version is","stringify","byteLength"," length is ","data","jttSimNumber","。\n            ","emitError","navigator","addG711ToBuffer","talkStreamError","frequency","618UaHPlZ","talkGetUserMediaTimeout","saveToTempFile","audioPlayer","empty audio data","_initScriptProcessor","debugLog","createElement","disconnect","getUserMedia fail","forEach","getUserMedia","talk","rtpSsrc",", and ","workletRecorder","apply","getChannelData","_createWebSocket","init","not support getUserMedia","lowpass"," and byteLength is ","getUserMedia2 success","mediaDevices","_initMethods","downloadG711File","destination",".pcm","_stopCheckGetUserMediaTimeout","17563AyqMCq","call","recorder","_stopHeartInterval","send talk msg and diff is ","onmessage","audioBufferLength","log","rtpPacket","tempTimestamp","opus","error","webkitGetUserMedia","audioWorklet","getUserMedia3","player","3239334spWnYe","_getSequenceId","stop","once","_handleMessage","inputBuffer","addRtpToBuffer","socket","TAG_NAME","revokeObjectURL","debug","downloadRtpFile","_initTalk","createObjectURL","packetTcpSendType","URL","toString","_log"];return(Ue=function(){return e})()}function Fe(e,t){const r=Ue();return(Fe=function(e,t){return r[e-=437]})(e,t)}!function(e,t){const r=Fe,s=e();for(;;)try{if(242791===-parseInt(r(563))/1+parseInt(r(530))/2*(-parseInt(r(503))/3)+parseInt(r(559))/4*(-parseInt(r(643))/5)+parseInt(r(579))/6*(parseInt(r(609))/7)+-parseInt(r(438))/8+-parseInt(r(625))/9+parseInt(r(645))/10*(parseInt(r(519))/11))break;s.push(s.shift())}catch(e){s.push(s.shift())}}(Ue);class De extends r{constructor(e){const t=Fe;let r=arguments[t(505)]>1&&void 0!==arguments[1]?arguments[1]:{};super(),this[t(513)]={},e&&(this[t(624)]=e),this[t(633)]=t(591);const s=$(_);this[t(513)]=Object[t(531)]({},s,r),!this.player&&(this[t(635)]=new be(this)),this[t(616)](this[t(633)],t(567),Z),this[t(513)][t(479)]=parseInt(this[t(513)][t(479)],10),this._opt.sampleBitsWidth=parseInt(this[t(513)].sampleBitsWidth,10),(this[t(513)][t(522)]===E[t(498)]||this[t(513)].encType===E[t(651)])&&(8e3!==this._opt[t(479)]||16!==this[t(513)][t(528)])&&(this[t(477)](this.TAG_NAME,"\n            encType is "+this[t(513)][t(522)]+" and sampleRate is "+this[t(513)].sampleRate+", and sampleBitsWidth is "+this[t(513)][t(528)]+t(573)+this[t(513)][t(522)]+t(547)),this[t(513)].sampleRate=8e3,this[t(513)][t(528)]=16),this[t(513)][t(514)]===v[t(549)]&&this[t(513)].encType===E[t(462)]&&(this[t(477)](this[t(633)],"packetType is "+this[t(513)].packetType+t(496)+this[t(513)][t(522)]+", rtp only support g711a or g711u or opus so set packetType to empty"),this[t(513)][t(514)]=v[t(566)]),this[t(513)].packetType,t(454),this[t(513)][t(522)],this[t(521)]=null,this[t(468)]=null,this[t(611)]=null,this[t(594)]=null,this[t(469)]=null,this.userMediaStream=null,this[t(529)]=null,this[t(497)]=512,this[t(513)][t(615)]=this[t(472)](),this[t(552)]=[],this.opusEncoder=null,this.opusDecoder=null,this.resampler=null,this[t(513)][t(522)],t(619),this[t(632)]=null,this.socketStatus=k[t(541)],this[t(510)]=null,this[t(458)]=null,this[t(440)]=null,this.wsUrl=null,this[t(488)]=0,this[t(476)]=0,this[t(618)]=null,this[t(482)]=!1,this[t(516)]=new Uint8Array(0),this[t(437)]=new Uint8Array(0),this.tempJttBufferList=new Uint8Array(0),this[t(658)]=new Uint8Array(0),this[t(512)]=new Uint8Array(0),this[t(517)]=new Ee(this),this[t(582)]=null,this[t(637)]();try{this[t(616)](this[t(633)],t(598),JSON[t(568)](this._opt))}catch(e){this[t(616)](this[t(633)],"init",this[t(513)])}}destroy(){const e=Fe;this._destroyed=!0,this.clearWorkletUrlTimeout&&(clearTimeout(this[e(529)]),this[e(529)]=null),this[e(647)]&&(this.userMediaStream[e(500)]&&this[e(647)].getTracks()[e(589)]((t=>{t[e(627)]()})),this.userMediaStream=null),this[e(510)]&&(this[e(510)].disconnect(),this[e(510)]=null),this[e(611)]&&(this[e(611)].disconnect(),this[e(611)][e(473)]=null,this.recorder=null),this[e(469)]&&(this.biquadFilter.disconnect(),this[e(469)]=null),this[e(468)]&&(this.gainNode[e(587)](),this[e(468)]=null),this[e(594)]&&(this[e(594)][e(587)](),this.workletRecorder=null),this[e(455)]&&(this[e(455)].destroy(),this[e(455)]=null),this.opusDecoder&&(this[e(655)][e(457)](),this[e(655)]=null),this[e(520)]&&(this.resampler[e(457)](),this[e(520)]=null),this[e(632)]&&(this[e(560)]===k[e(565)]&&this[e(450)](),this.socket[e(557)](),this.socket=null),this[e(582)]&&(this.audioPlayer.destroy(),this[e(582)]=null),this._stopHeartInterval(),this[e(608)](),this[e(521)]=null,this[e(468)]=null,this.recorder=null,this.audioBufferList=[],this[e(476)]=0,this[e(540)]=null,this[e(618)]=null,this[e(437)]=null,this[e(516)]=null,this.tempPcmBufferList=null,this[e(512)]=null,this.startTimestamp=0,this[e(616)](this[e(633)],e(457))}isDestroyed(){return this[Fe(482)]}[Me(631)](e){const t=Me,r=e[t(505)]+this[t(437)][t(505)],s=new Uint8Array(r);s[t(499)](this[t(437)],0),s[t(499)](e,this[t(437)][t(505)]),this.tempRtpBufferList=s}addG711ToBuffer(e){const t=Me,r=e[t(505)]+this[t(516)].length,s=new Uint8Array(r);s[t(499)](this[t(516)],0),s[t(499)](e,this[t(516)][t(505)]),this[t(516)]=s}[Me(453)](e){const t=Me,r=e[t(505)]+this[t(658)][t(505)],s=new Uint8Array(r);s[t(499)](this.tempPcmBufferList,0),s.set(e,this[t(658)][t(505)]),this[t(658)]=s}[Me(518)](e){const t=Me,r=e[t(505)]+this[t(448)].length,s=new Uint8Array(r);s[t(499)](this[t(448)],0),s[t(499)](e,this[t(448)][t(505)]),this[t(448)]=s}addOpusToBuffer_1(e){const t=Me;!this[t(655)]&&(this.opusDecoder=new OpusDecoder(this[t(513)][t(479)],this[t(513)].numberChannels));const r=this[t(655)][t(483)](e),s=new Uint8Array(r[t(551)]);this.addPcmToBuffer(s)}[Me(447)](e){const t=Me,r=this[t(512)][t(505)]+1+e[t(505)],s=new Uint8Array(r);s[t(499)](this.tempOpusBufferList,0),s.set([e[t(505)]],this[t(512)][t(505)]),s.set(e,this.tempOpusBufferList.length+1),this[t(512)]=s}[Me(636)](){const e=Me;this.debugLog(this[e(633)],"downloadRtpFile");const t=new Blob([this[e(437)]]);try{const r=document.createElement("a");r[e(446)]=window[e(640)][e(638)](t),r.download=Date[e(543)]()+e(654),r[e(465)](),this[e(437)]=new Uint8Array(0),window.URL.revokeObjectURL(r.href)}catch(t){console.error(e(636),t)}}[Me(605)](){const e=Me;this.debugLog(this.TAG_NAME,e(605));const t=new Blob([this.tempG711BufferList]);try{const r=document[e(586)]("a");r[e(446)]=window[e(640)][e(638)](t),r[e(471)]=Date[e(543)]()+"."+this[e(513)][e(522)],r[e(465)](),this.tempG711BufferList=new Uint8Array(0),window.URL.revokeObjectURL(r[e(446)])}catch(e){console.error("downloadG711File",e)}}[Me(491)](){const e=Me;this[e(585)](this.TAG_NAME,e(544)),this[e(493)]()}[Me(544)](){const e=Me;this[e(585)](this[e(633)],e(544));const t=function(e,t,r){const s=q,i=new Uint8Array([79,103,103,83,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),o=new Uint8Array([79,112,117,115,72,101,97,100,1,0,0,0,0,0,0,0,0,0,0,0,255&t,t>>8&255,t>>16&255,t>>24&255,255&r,r>>8&255,0,0,0,0]),n=new Uint8Array(i[s(413)]+o[s(413)]+e.length);return n[s(410)](i),n[s(410)](o,i[s(413)]),n[s(410)](e,i[s(413)]+o[s(413)]),n}(this.tempOpusBufferList,this[e(513)][e(479)],this[e(513)][e(507)]),r=new Blob([t],{type:"audio/ogg"});try{const t=document[e(586)]("a");t[e(446)]=window.URL[e(638)](r),t[e(471)]=Date[e(543)]()+".ogg",t[e(465)](),this.tempOpusBufferList=new Uint8Array(0),window[e(640)][e(634)](t[e(446)])}catch(t){console[e(620)]("downloadOpusFile",t)}}[Me(493)](){const e=Me;let t=arguments[e(505)]>0&&void 0!==arguments[0]&&arguments[0];this[e(585)](this[e(633)],e(493),this[e(513)].sampleRate,this[e(513)][e(507)],this[e(513)].sampleBitsWidth);let r=new DataView(this.tempPcmBufferList[e(551)]),s=null,i="";t?(r=function(e,t,r,s){const i=q;var o=function(e,t,r){const s=ee;for(var i=0;i<r[s(413)];i++)e[s(535)](t+i,r[s(615)](i))},n=t,a=s,c=new ArrayBuffer(44+e[i(432)]),l=new DataView(c),h=r,u=0;o(l,u,i(465)),u+=4,l[i(668)](u,36+e.byteLength,!0),o(l,u+=4,i(680)),o(l,u+=4,"fmt "),u+=4,l[i(668)](u,16,!0),u+=4,l[i(561)](u,1,!0),u+=2,l[i(561)](u,h,!0),u+=2,l.setUint32(u,n,!0),u+=4,l.setUint32(u,h*n*(a/8),!0),u+=4,l[i(561)](u,h*(a/8),!0),u+=2,l[i(561)](u,a,!0),o(l,u+=2,i(595)),u+=4,l[i(668)](u,e[i(432)],!0),u+=4;for(let t=0;t<e[i(432)];)l.setUint8(u,e[i(416)](t)),u++,t++;return l}(r,this[e(513)][e(479)],this[e(513)][e(507)],this[e(513)][e(528)]),i=e(536),s=new Blob([r],{type:e(451)})):(i=e(607),s=new Blob([this[e(658)]]));try{const t=document[e(586)]("a");t.href=window[e(640)][e(638)](s),t[e(471)]=Date[e(543)]()+i,t[e(465)](),this.tempPcmBufferList=new Uint8Array(0),window[e(640)].revokeObjectURL(t[e(446)])}catch(t){console[e(620)](e(636),t)}}[Me(475)](){const e=Me;this.debugLog(this[e(633)],"downloadJttFile");const t=new Blob([this[e(448)]]);try{const r=document[e(586)]("a");r[e(446)]=window[e(640)][e(638)](t),r.download=Date[e(543)]()+e(562),r[e(465)](),this[e(448)]=new Uint8Array(0),window[e(640)].revokeObjectURL(r[e(446)])}catch(t){console[e(620)](e(475),t)}}downloadFile(){const e=Me;this[e(513)].packetType===v.rtp?this[e(636)]():this[e(513)].packetType===v[e(454)]?this[e(475)]():this[e(513)][e(522)]===E[e(498)]||this[e(513)].encType===E[e(651)]?this[e(605)]():this[e(513)][e(522)]===E[e(619)]?this[e(544)]():this[e(513)][e(522)]===E[e(462)]&&this[e(493)]()}[Me(472)](){const e=Me,{sampleRate:t,sampleBitsWidth:r,frameDuration:s}=this[e(513)];return t*r*(s/1e3)/8}get[Me(492)](){const e=Me;return this[e(560)]===k[e(565)]}[Me(616)](){const e=Me;for(var t=arguments[e(505)],r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];this[e(642)](e(616),...r)}warn(){const e=Me;for(var t=arguments[e(505)],r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];this[e(642)](e(477),...r)}[Me(620)](){const e=Me;for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];this[e(642)](e(620),...r)}[Me(642)](e){const t=Me;for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];this[t(624)]?this.player[t(635)][e](...s):this[t(635)]?this[t(635)][e](...s):console[e](...s)}_getSequenceId(){return++this[Me(476)]}_createWebSocket(e){return new Promise(((t,r)=>{const s=Fe,i=this[s(517)][s(487)];this.socket=new WebSocket(this[s(540)],e[s(504)]||[]),this.socket[s(538)]="arraybuffer",this[s(657)](g[s(539)]),i(this.socket,A[s(565)],(()=>{const e=s;this.socketStatus=k[e(565)],this[e(616)](this[e(633)],"websocket open -> do talk"),this[e(657)](g[e(649)]),t(),this[e(445)]()})),i(this[s(632)],A[s(511)],(e=>{const t=s;"string"!=typeof e[t(571)]?this[t(629)](e.data):this[t(501)](this[t(633)],'websocket handle message message is "'+e[t(571)]+t(486))})),i(this[s(632)],A[s(557)],(e=>{const t=s;this[t(560)]=k[t(557)],this.warn(this[t(633)],"websocket close -> reject",e),this[t(574)](g.talkStreamClose),r(e)})),i(this[s(632)],A[s(620)],(e=>{const t=s;this[t(560)]=k[t(620)],this[t(620)](this[t(633)],t(545),e),this[t(574)](g[t(577)],e),r(e)}))}))}[Me(450)](){}_initTalk(){const e=Me;this._initMethods(),this[e(513)][e(478)]===C[e(444)]?this._initWorklet():this._opt[e(478)]===C[e(508)]&&this._initScriptProcessor(),this[e(616)](this[e(633)],"audioContext samplerate",this[e(521)][e(479)])}[Me(604)](){const e=Me;this[e(521)]=new(window[e(509)]||window[e(484)])({sampleRate:48e3}),this.gainNode=this[e(521)][e(490)](),this[e(468)].gain.value=1,this[e(469)]=this.audioContext[e(439)](),this[e(469)].type=e(600),this.biquadFilter[e(578)][e(526)]=3e3,this.resampler=new oe({fromSampleRate:this[e(521)][e(479)],toSampleRate:this._opt[e(479)],channels:this[e(513)][e(507)],inputBufferSize:this[e(497)]})}[Me(584)](){const e=Me,t=this[e(521)][e(485)]||this.audioContext[e(515)];this[e(611)]=t[e(595)](this[e(521)],[this.bufferSize,this[e(513)][e(507)],this[e(513)][e(507)]]),this[e(611)][e(473)]=e=>this._onaudioprocess(e)}[Me(470)](){const e=Me,t=function(e){const t=q,r=function(e){const t=ee;return e[t(604)]()[t(501)](/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1]}(e[t(623)]()),s=new Blob([r],{type:t(569)});return URL[t(553)](s)}(Be);this[e(521)][e(622)]&&this[e(521)][e(622)].addModule(t).then((()=>{const t=e,r=new AudioWorkletNode(this[t(521)],"talk-processor",{processorOptions:{bufferSize:this[t(497)]}});r.connect(this.gainNode),r.port[t(614)]=e=>{const r=t;e.data[r(523)]===r(571)&&this[r(533)](e[r(571)][r(551)])},this[t(594)]=r})),this[e(529)]=setTimeout((()=>{const r=e;URL[r(634)](t),this[r(529)]=null}),1e4)}[Me(506)](e){const t=Me,r=e[t(630)][t(596)](0);this[t(533)](new Float32Array(r))}[Me(533)](e){const t=Me;if(this[t(474)]())return;if(0===e[0]&&0===e[1])return void this[t(616)](this[t(633)],t(583));const r=this[t(520)].resample(e);if(this[t(513)][t(522)]===E[t(619)]);else{let e=r;16===this[t(513)].sampleBitsWidth?e=function(e){const t=ne;let r=e.length,s=new Int16Array(r);for(;r--;){let i=Math[t(168)](-1,Math[t(176)](1,e[r]));s[r]=i<0?32768*i:32767*i}return s}(r):8===this[t(513)].sampleBitsWidth?e=function(e){const t=ne;let r=e[t(170)],s=new Int8Array(r);for(;r--;){let i=Math[t(168)](-1,Math[t(176)](1,e[r]));const o=i<0?32768*i:32767*i;s[r]=parseInt(255/(65535/(32768+o)),10)}return s}(r):32===this[t(513)][t(528)]&&(e=function(e){const t=ne;let r=e.length,s=new Int32Array(r);for(;r--;){let i=Math[t(168)](-1,Math[t(176)](1,e[r]));s[r]=i<0?2147483648*i:2147483647*i}return s}(r));let s=null;this._opt[t(522)]===E[t(498)]?s=de(e):this[t(513)][t(522)]===E[t(651)]?s=pe(e):this[t(513)][t(522)]===E[t(462)]&&(s=e.buffer);const i=new Uint8Array(s);for(let e=0;e<i.length;e++){let r=this[t(552)][t(505)];this[t(552)][r++]=i[e],this[t(552)][t(505)]===this[t(513)][t(615)]&&(this[t(561)](new Uint8Array(this[t(552)])),this[t(552)]=[])}}}[Me(489)](e){const t=Me;let r=null;return this[t(513)][t(514)]!==v[t(549)]||this[t(513)].encType!==E[t(498)]&&this[t(513)][t(522)]!==E[t(651)]&&this._opt[t(546)]!==E[t(619)]?this[t(513)][t(514)]!==v.jtt||this[t(513)][t(522)]!==E[t(498)]&&this[t(513)][t(522)]!==E[t(651)]?this[t(513)][t(514)]===v[t(566)]&&(r=e):r=this.jttPacket(e):r=this[t(617)](e),r}rtpPacket(e){const t=Me,r=[];let s=0,i=0,o=0;const n=this[t(513)][t(592)],a=e.length;this[t(513)].encType===E.g711a?s=I[t(498)]:this[t(513)][t(522)]===E[t(651)]?s=I[t(651)]:this[t(513)][t(522)]===E[t(619)]&&(s=I[t(619)]),!this.startTimestamp&&(this.startTimestamp=Q()),o=Q()-this.startTimestamp,i=this._getSequenceId();let c=0;if(this[t(513)][t(639)]===T[t(442)]){const e=a+12;r[c++]=255&e>>8,r[c++]=255&e>>0}r[c++]=128,r[c++]=128+s,r[c++]=i/256,r[c++]=i%256,r[c++]=o/65536/256,r[c++]=o/65536%256,r[c++]=o%65536/256,r[c++]=o%65536%256,r[c++]=n/65536/256,r[c++]=n/65536%256,r[c++]=n%65536/256,r[c++]=n%65536%256;let l=r[t(650)]([...e]),h=new Uint8Array(l[t(505)]);for(let e=0;e<l[t(505)];e++)h[e]=l[e];return h}[Me(537)](e){const t=Me,r=[],s=[48,49,99,100],i=[129,134];let o=0;const n=this[t(513)][t(572)],a=this[t(513)][t(452)];let c=0;const l=e[t(505)];!this.startTimestamp&&(this[t(488)]=Q()),c=Q()-this[t(488)],o=this[t(626)](),r[0]=s[0],r[1]=s[1],r[2]=s[2],r[3]=s[3],r[4]=i[0],r[5]=i[1],r[6]=o/256,r[7]=o%256;const h=function(e){const t=Ce;if((e=e[t(159)](/\s/g,""))[t(148)]%2!=0)return console[t(161)]("hexStringToUint8Array: invalid hexString length, must be even and bexString length is: ",e.length),null;const r=new Uint8Array(e.length/2);for(let s=0;s<e[t(148)];s+=2){const i=parseInt(e[t(153)](s,2),16);r[s/2]=i}return r}(n);h&&(r[8]=h[0],r[9]=h[1],r[10]=h[2],r[11]=h[3],r[12]=h[4],r[13]=h[5]),r[14]=parseInt(a,16),r[15]=48,r[16]=255&c>>56,r[17]=255&c>>48,r[18]=255&c>>40,r[19]=255&c>>32,r[20]=255&c>>24,r[21]=255&c>>16,r[22]=255&c>>8,r[23]=255&c>>0,r[24]=l/256,r[25]=l%256;let u=r[t(650)]([...e]),d=new Uint8Array(u[t(505)]);for(let e=0;e<u.length;e++)d[e]=u[e];return d}[Me(561)](e){const t=Me;null===this[t(618)]&&(this[t(618)]=Q());const r=Q(),s=r-this[t(618)],i=this[t(489)](e);this.log(this[t(633)],t(613)+s+t(601)+i[t(569)]+t(441)+i[t(505)]+t(593)+this._opt[t(522)]+t(570)+e[t(505)]),te(this._opt[t(581)])&&te(this[t(513)][t(635)])&&(this[t(513)][t(514)]===v.rtp?this.addRtpToBuffer(i):this[t(513)][t(514)]===v[t(454)]?this[t(518)](i):this._opt[t(522)]===E[t(498)]||this[t(513)][t(522)]===E[t(651)]?this[t(576)](i):this[t(513)][t(522)]===E[t(462)]?this[t(453)](i):this[t(513)].encType===E.opus&&this.addOpusToBuffer(i)),i&&(this._opt[t(532)]?this[t(657)](g.talkStreamMsg,i[t(551)]):this[t(492)]?this.socket[t(449)](i.buffer):this.emitError(y[t(558)])),this[t(618)]=r}_doTalk(){const e=Me;this[e(464)](),this._opt[e(556)]&&this[e(548)]()}_getUserMedia(){const e=Me;this[e(616)](this[e(633)],e(590)),void 0===window[e(575)][e(603)]&&(window[e(575)][e(603)]={}),void 0===window[e(575)][e(603)].getUserMedia&&(this[e(616)](this[e(633)],e(494)),window[e(575)].mediaDevices[e(590)]=function(t){const r=e;var s=navigator[r(590)]||navigator[r(621)]||navigator[r(653)]||navigator.msGetUserMedia;return s?new Promise((function(e,i){s[r(610)](navigator,t,e,i)})):Promise.reject(new Error(r(527)))}),this._opt[e(440)]&&this[e(644)](),window.navigator[e(603)][e(590)]({audio:this[e(513)][e(524)],video:!1}).then((t=>{const r=e;this[r(616)](this[r(633)],r(480)),this.userMediaStream=t,this[r(510)]=this[r(521)][r(525)](t),this.mediaStreamSource.connect(this[r(469)]),this[r(611)]?(this[r(469)].connect(this[r(611)]),this.recorder[r(553)](this[r(468)])):this.workletRecorder&&(this[r(469)][r(553)](this[r(594)]),this[r(594)][r(553)](this.gainNode)),this[r(468)].connect(this[r(521)][r(606)]),this[r(657)](g[r(460)]),null===t.oninactive&&(t[r(502)]=e=>{this._handleStreamInactive(e)})}))[e(652)]((t=>{const r=e;this[r(620)](this[r(633)],r(656),t[r(641)]()),this[r(657)](g[r(646)],t[r(641)]())}))[e(467)]((()=>{const t=e;this[t(616)](this[t(633)],t(555)),this._stopCheckGetUserMediaTimeout()}))}[Me(542)](){const e=Me;this.log(this[e(633)],e(590)),navigator[e(603)]?navigator[e(603)][e(590)]({audio:!0})[e(534)]((t=>{this[e(616)](this.TAG_NAME,"getUserMedia2 success")})):navigator.getUserMedia({audio:!0},this[e(616)](this.TAG_NAME,e(602)),this[e(616)](this[e(633)],e(554)))}async _getUserMedia3(){const e=Me;this.log(this[e(633)],e(623));try{const t=await navigator[e(603)][e(590)]({audio:{latency:!0,noiseSuppression:!0,autoGainControl:!0,echoCancellation:!0,sampleRate:48e3,channelCount:1},video:!1});console.log("getUserMedia() got stream:",t),this[e(616)](this[e(633)],"getUserMedia3 success")}catch(t){this[e(616)](this[e(633)],e(459))}}_handleStreamInactive(e){const t=Me;this[t(647)]&&(this[t(477)](this.TAG_NAME,t(550),e),this[t(657)](g[t(535)]))}[Me(644)](){const e=Me;this._stopCheckGetUserMediaTimeout(),this.checkGetUserMediaTimeout=setTimeout((()=>{const e=Fe;this[e(616)](this[e(633)],"check getUserMedia timeout"),this[e(657)](g[e(580)])}),this[e(513)].getUserMediaTimeout)}[Me(608)](){const e=Me;this[e(440)]&&(this[e(616)](this[e(633)],"stop checkGetUserMediaTimeout"),clearTimeout(this[e(440)]),this[e(440)]=null)}[Me(548)](){const e=Me;this[e(458)]=setInterval((()=>{const t=e;this.log(this.TAG_NAME,"heart interval");let r=this[t(513)].websocketHeartContent;r=new Uint8Array(r),this[t(632)][t(449)](r[t(551)])}),1e3*this[e(513)].websocketHeartInterval)}[Me(612)](){const e=Me;this.heartInterval&&(this[e(616)](this.TAG_NAME,e(564)),clearInterval(this[e(458)]),this[e(458)]=null)}startTalk(e){const t=Me;let r=arguments[t(505)]>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((s,i)=>{const o=t;if(!function(){const e=q;let t=!1;const r=window.navigator;return r&&(t=!(!r[e(544)]||!r.mediaDevices[e(527)]),!t&&(t=!!(r[e(527)]||r[e(588)]||r[e(557)]||r[e(437)]))),t}())return i(o(599));if(this[o(513)][o(514)]===v[o(454)]){if(!this[o(513)][o(572)]||12!==(""+this[o(513)][o(572)])[o(505)])return i(o(648));if(!this[o(513)][o(452)]||2!==(""+this._opt.jttChannelNumber).length)return i(o(481))}if(this.wsUrl=e,this._opt.testMicrophone)this[o(445)]();else{if(!this.wsUrl)return i(o(466));this[o(597)](r)[o(652)]((e=>{i(e)}))}this.once(g.talkGetUserMediaFail,(()=>{i(o(588))})),this[o(628)](g.talkGetUserMediaSuccess,(()=>{s()}))}))}[Me(456)](e){const t=Me;e=parseFloat(e)[t(443)](2),isNaN(e)||(e=function(e,t,r){const s=ee;return Math.max(Math[s(484)](e,Math[s(376)](t,r)),Math[s(484)](t,r))}(e,0,1),this[t(468)][t(461)][t(526)]=e)}[Me(463)](){return this._opt}get volume(){const e=Me;return this[e(468)]?parseFloat(100*this[e(468)][e(461)][e(526)]).toFixed(0):null}debugLog(e){const t=Me;if(this._opt[t(635)]&&this[t(635)]){for(var r=arguments[t(505)],s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];this[t(635)].log(e,...s)}}debugWarn(e){const t=Me;if(this[t(513)][t(635)]&&this[t(635)]){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];this[t(635)][t(477)](e,...s)}}[Me(495)](e){const t=Me;if(this[t(635)]){for(var r=arguments[t(505)],s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];this[t(635)].error(e,...s)}}_handleMessage(e){const t=Me;null===this[t(582)]&&(this[t(582)]=new Ae(this)),this[t(582)].play(e)}[Me(574)](e){const t=Me;let r=arguments[t(505)]>1&&void 0!==arguments[1]?arguments[1]:"";this[t(657)](g[t(620)],e,r),this[t(657)](e,r)}}const Le=We;function Re(){const e=["212853JgLRXd","JbProTalk","talkWebsocketClosedByError -> stopTalk","downloadTempRtpFile","downloadFile","length","stopTalk()","error","bind","assign","keys","off","stopTalk","129834Xkegcb","debugWarn","emit","once","talk","_bindTalkEvents","finally","talkStreamClose","debugLog","1644924HzCEoA","talkGetUserMediaTimeout -> stopTalk","downloadG711File","8EEnbqL","talkStreamInactive stopTalk","downloadTempG711File","log","_opt","talk is not init","talkStreamInactive","_handleTalkGetUserMediaTimeout","talkGetUserMediaTimeout","downloadTempOpusFile","talkStreamInactive -> stopTalk","tallWebsocketClosedByError","talkStreamError -> stopTalk","volume","startTalk","destroy","99186UaFzon","JessibucaProTalk","_initTalk","12265ZpBTKZ","LOG_TAG","init","_handleTalkWebsocketClosedByError","catch","setVolume","talkFailedAndStop","downloadTempPcmFile","4564rVgHiD","downloadRtpFile","_handleTalkStreamInactive","6727jAwXKi","talkStreamClose -> stopTalk","debugError","72fEXHZM","WebPlayerProTalk","EVENTS","talkWebsocketClosedByError stopTalk","setTalkVolume","540axtQLF","destroy()","debug","stringify","_handleTalkStreamError","getOption","1175YPchqB","forEach","21rZivmE","talkStreamError","_handleTalkStreamClose"];return(Re=function(){return e})()}function We(e,t){const r=Re();return(We=function(e,t){return r[e-=283]})(e,t)}!function(e,t){const r=We,s=e();for(;;)try{if(168498===-parseInt(r(319))/1+-parseInt(r(289))/2*(-parseInt(r(338))/3)+-parseInt(r(316))/4*(-parseInt(r(333))/5)+-parseInt(r(305))/6*(parseInt(r(335))/7)+parseInt(r(322))/8*(-parseInt(r(351))/9)+-parseInt(r(327))/10*(parseInt(r(308))/11)+-parseInt(r(286))/12)break;s.push(s.shift())}catch(e){s.push(s.shift())}}(Re);class xe extends r{constructor(){const e=We;let t=arguments[e(343)]>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.talk=null,this[e(293)]=t,this[e(309)]=e(339),this.debug=new be(this);try{this[e(285)](this[e(309)],e(310),JSON.stringify(t))}catch(r){this[e(285)](this[e(309)],e(310),t)}}[Le(304)](){const e=Le;this[e(285)](this[e(309)],e(328)),this[e(349)](),this[e(355)]&&(this.talk[e(304)](),this[e(355)]=null),this[e(285)](this[e(309)],e(304))}[Le(307)](){const e=Le;let t=arguments[e(343)]>0&&void 0!==arguments[0]?arguments[0]:{};this[e(355)]&&(this.debugLog(this[e(309)],"_initTalk this.talk is not null and destroy"),this.talk.destroy(),this[e(355)]=null);const r=Object[e(347)]({},$(this[e(293)]),t);this[e(293)]=r,this[e(355)]=new De(null,r),this[e(285)](this[e(309)],e(307),this[e(355)][e(332)]()),this[e(356)]()}[Le(356)](){const e=Le;Object[e(348)](w)[e(334)]((t=>{const r=e;this[r(355)].on(w[t],(e=>{this[r(353)](t,e)}))}))}startTalk(e){const t=Le;let r=arguments[t(343)]>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments[t(343)]>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(((i,o)=>{const n=t;try{this[n(285)](this[n(309)],n(303),e,JSON[n(330)](r))}catch(t){this[n(285)](this[n(309)],n(303),e,r)}this[n(307)](r),this[n(355)][n(303)](e,s).then((()=>{const e=n;i(),this[e(355)][e(354)](g[e(284)],this[e(337)][e(346)](this)),this[e(355)][e(354)](g.talkStreamError,this[e(331)][e(346)](this)),this[e(355)][e(354)](g[e(295)],this[e(318)][e(346)](this)),this[e(355)][e(354)](g[e(297)],this[e(296)][e(346)](this)),this[e(355)].once(y[e(300)],this[e(311)].bind(this))}))[n(312)]((e=>{o(e)}))}))}[Le(350)](){return new Promise(((e,t)=>{const r=We;this[r(285)](this[r(309)],r(344)),!this.talk&&t(r(294)),this[r(355)].destroy(),this.talk=null,e()}))}getTalkVolume(){return new Promise(((e,t)=>{const r=We;!this[r(355)]&&t(r(294)),e(this[r(355)][r(302)])}))}[Le(326)](e){return new Promise(((t,r)=>{const s=We;this[s(285)](this[s(309)],"setTalkVolume",e),!this[s(355)]&&r(s(294)),this[s(355)][s(313)](e/100),t()}))}[Le(341)](){return new Promise(((e,t)=>{const r=We;this[r(355)]?(this[r(355)][r(317)](),e()):t("talk is not init")}))}[Le(291)](){return new Promise(((e,t)=>{const r=We;this[r(355)]?(this.talk[r(288)](),e()):t(r(294))}))}[Le(315)](e){return new Promise(((t,r)=>{const s=We;this[s(355)]?(this[s(355)].downloadPcmFile(e),t()):r("talk is not init")}))}[Le(298)](){return new Promise(((e,t)=>{const r=We;this[r(355)]?(this[r(355)].downloadOpusFile(),e()):t(r(294))}))}downloadTempFile(){return new Promise(((e,t)=>{const r=We;this[r(355)]?(this[r(355)][r(342)](),e()):t(r(294))}))}[Le(285)](e){const t=Le;if(this[t(293)][t(329)]&&this.debug){for(var r=arguments[t(343)],s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];this[t(329)][t(292)](e,...s)}}debugWarn(e){const t=Le;if(this[t(293)][t(329)]&&this.debug){for(var r=arguments[t(343)],s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];this[t(329)].warn(e,...s)}}[Le(321)](e){const t=Le;if(this[t(329)]){for(var r=arguments[t(343)],s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];this.debug[t(345)](e,...s)}}_handleTalkStreamClose(){const e=Le;this[e(352)](this.LOG_TAG,e(320)),this.stopTalk()[e(312)]((t=>{this[e(352)](this.LOG_TAG,"talkStreamClose stopTalk",t)}))[e(283)]((()=>{const t=e;this[t(353)](g[t(314)],g[t(284)])}))}_handleTalkStreamError(){const e=Le;this[e(321)](this[e(309)],e(301)),this[e(350)]().catch((t=>{const r=e;this[r(352)](this[r(309)],"talkStreamError stopTalk",t)}))[e(283)]((()=>{const t=e;this[t(353)](g[t(314)],g[t(336)])}))}[Le(318)](){const e=Le;this[e(352)](this[e(309)],e(299)),this[e(350)]()[e(312)]((t=>{const r=e;this[r(352)](this.LOG_TAG,r(290),t)})).finally((()=>{const t=e;this[t(353)](g[t(314)],g[t(295)])}))}[Le(296)](){const e=Le;this.debugWarn(this[e(309)],e(287)),this[e(350)]()[e(312)]((t=>{const r=e;this[r(352)](this[r(309)],"talkGetUserMediaTimeout stopTalk",t)})).finally((()=>{const t=e;this[t(353)](g[t(314)],g.talkGetUserMediaTimeout)}))}_handleTalkWebsocketClosedByError(){const e=Le;this[e(352)](this.LOG_TAG,e(340)),this[e(350)]()[e(312)]((t=>{const r=e;this.debugWarn(this[r(309)],r(325),t)}))[e(283)]((()=>{const t=e;this[t(353)](g[t(314)],y[t(300)])}))}}return xe[Le(324)]=w,window[Le(306)]=xe,window[Le(339)]=xe,window[Le(323)]=xe,xe}));
