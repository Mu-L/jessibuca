!function(r){"function"==typeof define&&define.amd?define(r):r()}((function(){"use strict";var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function t(r,e){return r(e={exports:{}},e.exports),e.exports}var n=Object.freeze({__proto__:null,commonjsGlobal:r,commonjsRequire:function(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")},unwrapExports:e,createCommonjsModule:t,getCjsExportFromNamespace:function(r){return r&&r.default||r}});function o(r,e){var t=u();return(o=function(r,e){return t[r-=271]})(r,e)}var a=o;!function(r,e){for(var t=o,n=r();;)try{if(685706===parseInt(t(281))/1*(parseInt(t(272))/2)+parseInt(t(273))/3*(parseInt(t(275))/4)+parseInt(t(274))/5+-parseInt(t(271))/6*(parseInt(t(278))/7)+-parseInt(t(280))/8*(-parseInt(t(282))/9)+parseInt(t(279))/10*(-parseInt(t(283))/11)+-parseInt(t(286))/12*(-parseInt(t(287))/13))break;n.push(n.shift())}catch(r){n.push(n.shift())}}(u);var s=n[a(277)]((function(r){var e=a;r[e(284)]=function(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")},r.exports.__esModule=!0,r[e(284)][e(285)]=r[e(284)]})),i=n[a(276)](s);function u(){var r=["535ftfoyj","18AFNaGp","342320bswqDr","exports","default","375384SeabIv","533bIIZIx","1282188Rqfllz","3676jqzFSa","972357gqEzfe","3219795djmvDf","4oSlKez","unwrapExports","createCommonjsModule","42ZxHIXv","430CTqYBV","288336pMwbtV"];return(u=function(){return r})()}function c(r,e){var t=p();return(c=function(r,e){return t[r-=414]})(r,e)}var f=c;function p(){var r=["4521704cuMmKF","exports","createCommonjsModule","prototype","42556470NpFXxv","19172480iYWYdq","5IEasQP","118117nKuktB","unwrapExports","function","default","66304cqIQDn","258ztHeKv","18mkouMC","constructor","944046imNfHg","701584uysusw","iterator","117YQcreW","symbol","__esModule"];return(p=function(){return r})()}!function(r,e){for(var t=c,n=r();;)try{if(990731===-parseInt(t(431))/1*(parseInt(t(416))/2)+-parseInt(t(418))/3+-parseInt(t(424))/4*(parseInt(t(430))/5)+parseInt(t(415))/6*(parseInt(t(414))/7)+parseInt(t(419))/8*(parseInt(t(421))/9)+-parseInt(t(429))/10+parseInt(t(428))/11)break;n.push(n.shift())}catch(r){n.push(n.shift())}}(p);var d=n[f(426)]((function(r){var e=f;function t(e){var n=c;return r[n(425)]=t=n(433)==typeof Symbol&&n(422)==typeof Symbol[n(420)]?function(r){return typeof r}:function(r){var e=n;return r&&e(433)==typeof Symbol&&r[e(417)]===Symbol&&r!==Symbol[e(427)]?"symbol":typeof r},r[n(425)].__esModule=!0,r[n(425)][n(434)]=r.exports,t(e)}r.exports=t,r[e(425)][e(423)]=!0,r[e(425)][e(434)]=r.exports})),v=n[f(432)](d),l=I;function h(){var r=["61477kSkXJm","3055674YrRvnC","@@toPrimitive must return a primitive value.","unwrapExports","call","56CLCxSl","11uyscIc","object","default","59096MYvttO","408fqyrji","209412YSpMeq","7gqJdsi","string","185BtXMeM","2216JvtZLm","1644qWTMKk","exports","5272600LZeUaW","2362554uZtyUy"];return(h=function(){return r})()}function I(r,e){var t=h();return(I=function(r,e){return t[r-=168]})(r,e)}!function(r,e){for(var t=I,n=r();;)try{if(467154===-parseInt(t(186))/1*(-parseInt(t(181))/2)+parseInt(t(170))/3+parseInt(t(180))/4*(-parseInt(t(185))/5)+parseInt(t(172))/6*(-parseInt(t(183))/7)+-parseInt(t(176))/8*(-parseInt(t(182))/9)+parseInt(t(169))/10*(-parseInt(t(177))/11)+-parseInt(t(187))/12*(-parseInt(t(171))/13))break;n.push(n.shift())}catch(r){n.push(n.shift())}}(h);var b=t((function(r){var e=I,t=d[e(179)];r[e(168)]=function(r,n){var o=e;if("object"!==t(r)||null===r)return r;var a=r[Symbol.toPrimitive];if(void 0!==a){var s=a[o(175)](r,n||o(179));if(t(s)!==o(178))return s;throw new TypeError(o(173))}return(n===o(184)?String:Number)(r)},r.exports.__esModule=!0,r[e(168)].default=r[e(168)]}));n[l(174)](b);var m=y;function y(r,e){var t=g();return(y=function(r,e){return t[r-=106]})(r,e)}function g(){var r=["default","4YsAqBg","unwrapExports","symbol","__esModule","55890tHHODb","14205vgPeMD","exports","1038lttcfx","createCommonjsModule","48utIGHt","4550856plmGBL","8158640QGhfVH","1313165Wlagzw","3892536CgAajo","184448JDMibK","string"];return(g=function(){return r})()}!function(r,e){for(var t=y,n=r();;)try{if(418465===-parseInt(t(113))/1*(-parseInt(t(116))/2)+parseInt(t(120))/3*(-parseInt(t(108))/4)+parseInt(t(121))/5*(-parseInt(t(106))/6)+-parseInt(t(111))/7+parseInt(t(109))/8+-parseInt(t(112))/9+parseInt(t(110))/10)break;n.push(n.shift())}catch(r){n.push(n.shift())}}(g);var w=n[m(107)]((function(r){var e=m,t=d[e(115)];r[e(122)]=function(r){var n=e,o=b(r,n(114));return t(o)===n(118)?o:String(o)},r[e(122)][e(119)]=!0,r[e(122)][e(115)]=r.exports}));function k(r,e){var t=E();return(k=function(r,e){return t[r-=338]})(r,e)}n[m(117)](w);var x=k;function E(){var r=["9HXjuoL","1814116WJJYZz","length","6369153rLECnd","683757xwnGYX","1426362wlNZcG","10105168cHWHMz","enumerable","prototype","unwrapExports","createCommonjsModule","writable","5uWPojb","1677748JFJEBK","exports","defineProperty","5751066ABSqUY","configurable"];return(E=function(){return r})()}!function(r,e){for(var t=k,n=r();;)try{if(888363===parseInt(t(351))/1+-parseInt(t(343))/2+-parseInt(t(342))/3+-parseInt(t(339))/4*(parseInt(t(350))/5)+parseInt(t(354))/6+parseInt(t(341))/7+parseInt(t(344))/8*(-parseInt(t(338))/9))break;n.push(n.shift())}catch(r){n.push(n.shift())}}(E);var R=n[x(348)]((function(r){var e=x;function t(r,e){for(var t=k,n=0;n<e[t(340)];n++){var o=e[n];o[t(345)]=o[t(345)]||!1,o[t(355)]=!0,"value"in o&&(o[t(349)]=!0),Object[t(353)](r,w(o.key),o)}}r.exports=function(r,e,n){var o=k;return e&&t(r[o(346)],e),n&&t(r,n),Object[o(353)](r,"prototype",{writable:!1}),r},r.exports.__esModule=!0,r[e(352)].default=r[e(352)]})),M=n[x(347)](R),_=T;!function(r,e){for(var t=T,n=r();;)try{if(674021===-parseInt(t(119))/1*(-parseInt(t(120))/2)+parseInt(t(121))/3+parseInt(t(117))/4*(-parseInt(t(110))/5)+-parseInt(t(112))/6+parseInt(t(122))/7+-parseInt(t(116))/8+-parseInt(t(115))/9*(-parseInt(t(113))/10))break;n.push(n.shift())}catch(r){n.push(n.shift())}}(O);var j=t((function(r){var e=T;r.exports=function(r){if(void 0===r)throw new ReferenceError(T(111));return r},r[e(118)].__esModule=!0,r[e(118)].default=r.exports}));function T(r,e){var t=O();return(T=function(r,e){return t[r-=110]})(r,e)}var A=n[_(114)](j);function O(){var r=["104046mIoqCl","6BMIdBE","171747XjNOnC","6382222yHovxY","852685DNtyEH","this hasn't been initialised - super() hasn't been called","6254700McstTY","90xBbikd","unwrapExports","1738305RXPUjq","873664taSrNP","28pPisCt","exports"];return(O=function(){return r})()}var S=F;function N(){var r=["bind","1735748DZVqPP","__proto__","__esModule","17956064uxBBzH","1332766ACbxGh","2324372LGbVog","159223vLadwB","createCommonjsModule","unwrapExports","1398924TebWvm","20pIkeDE","default","2518515KJXBOU","setPrototypeOf","exports"];return(N=function(){return r})()}!function(r,e){for(var t=F,n=r();;)try{if(468936===parseInt(t(163))/1+parseInt(t(177))/2+-parseInt(t(169))/3+-parseInt(t(178))/4+-parseInt(t(167))/5*(parseInt(t(166))/6)+-parseInt(t(173))/7+parseInt(t(176))/8)break;n.push(n.shift())}catch(r){n.push(n.shift())}}(N);var W=n[S(164)]((function(r){var e=S;function t(e,n){var o=F;return r[o(171)]=t=Object[o(170)]?Object[o(170)][o(172)]():function(r,e){return r[o(174)]=e,r},r[o(171)][o(175)]=!0,r.exports[o(168)]=r[o(171)],t(e,n)}r[e(171)]=t,r[e(171)][e(175)]=!0,r[e(171)][e(168)]=r[e(171)]}));function F(r,e){var t=N();return(F=function(r,e){return t[r-=163]})(r,e)}function P(){var r=["default","53348ywqiaa","11483140NUXWlR","defineProperty","1093771SMhUBT","create","184xkVlCl","115578kxlASc","function","1594044qGMFYs","prototype","exports","24OcAJyn","6bnzlOE","4274WquFjq","1126510FHRfeE","__esModule"];return(P=function(){return r})()}n[S(165)](W),function(r,e){for(var t=B,n=r();;)try{if(408531===parseInt(t(292))/1*(-parseInt(t(301))/2)+parseInt(t(291))/3*(parseInt(t(296))/4)+-parseInt(t(293))/5+-parseInt(t(287))/6+parseInt(t(299))/7+parseInt(t(290))/8*(-parseInt(t(302))/9)+parseInt(t(297))/10)break;n.push(n.shift())}catch(r){n.push(n.shift())}}(P);var J=e(t((function(r){var e=B;r[e(289)]=function(r,e){var t=B;if(typeof e!==t(303)&&null!==e)throw new TypeError("Super expression must either be null or a function");r[t(288)]=Object[t(300)](e&&e[t(288)],{constructor:{value:r,writable:!0,configurable:!0}}),Object[t(298)](r,t(288),{writable:!1}),e&&W(r,e)},r.exports[e(294)]=!0,r.exports[e(295)]=r.exports})));function B(r,e){var t=P();return(B=function(r,e){return t[r-=287]})(r,e)}var D=G;function G(r,e){var t=C();return(G=function(r,e){return t[r-=292]})(r,e)}!function(r,e){for(var t=G,n=r();;)try{if(330726===parseInt(t(299))/1*(-parseInt(t(304))/2)+-parseInt(t(301))/3+-parseInt(t(293))/4*(-parseInt(t(294))/5)+parseInt(t(296))/6+-parseInt(t(302))/7*(-parseInt(t(306))/8)+-parseInt(t(309))/9*(-parseInt(t(297))/10)+-parseInt(t(300))/11)break;n.push(n.shift())}catch(r){n.push(n.shift())}}(C);var q=n[D(295)]((function(r){var e=D,t=d[e(298)];r[e(307)]=function(r,n){var o=e;if(n&&(t(n)===o(305)||typeof n===o(308)))return n;if(void 0!==n)throw new TypeError(o(292));return j(r)},r[e(307)][e(303)]=!0,r.exports[e(298)]=r[e(307)]})),z=n[D(310)](q);function C(){var r=["79844mlEBjB","object","5560tpSiwU","exports","function","1215774vroBPC","unwrapExports","Derived constructors may only return object or undefined","4PFLNGT","830015dyjNvv","createCommonjsModule","3271392iDTeAR","10AliyJG","default","3tnkflK","4291925Ohmfjh","811347JlpQbH","2667GsCpfU","__esModule"];return(C=function(){return r})()}var H=U;function U(r,e){var t=L();return(U=function(r,e){return t[r-=341]})(r,e)}!function(r,e){for(var t=U,n=r();;)try{if(434284===-parseInt(t(346))/1+-parseInt(t(350))/2*(parseInt(t(359))/3)+parseInt(t(349))/4*(-parseInt(t(354))/5)+parseInt(t(347))/6+-parseInt(t(343))/7*(-parseInt(t(353))/8)+-parseInt(t(345))/9+parseInt(t(344))/10*(parseInt(t(355))/11))break;n.push(n.shift())}catch(r){n.push(n.shift())}}(L);var Y=n[H(357)]((function(r){var e=H;function t(e){var n=U;return r[n(356)]=t=Object[n(341)]?Object[n(352)][n(342)]():function(r){return r[n(348)]||Object.getPrototypeOf(r)},r[n(356)][n(351)]=!0,r[n(356)].default=r.exports,t(e)}r[e(356)]=t,r[e(356)][e(351)]=!0,r[e(356)].default=r[e(356)]}));function L(){var r=["exports","createCommonjsModule","unwrapExports","75KknsWS","setPrototypeOf","bind","14XQieuY","7987150uONgnY","741042GHotHU","392330WtmzDi","2709138DpSJWd","__proto__","40740AMRhIK","37126qsbbmk","__esModule","getPrototypeOf","1509656sWNJIN","125oZbiHV","11krzkTa"];return(L=function(){return r})()}var K=n[H(358)](Y);function V(r,e){var t=X();return(V=function(r,e){return t[r-=182]})(r,e)}function X(){var r=["off","keys","length","815896HpEWFv","ctx","730758zKlVrx","once","push","apply","4348224Hmsjgw","128244UJRqOs","2437588WcRZma","74466ezXmvO","1432OHDorV","1284465REAzVz","5enpWbz"];return(X=function(){return r})()}!function(r,e){for(var t=V,n=r();;)try{if(529815===parseInt(t(193))/1+-parseInt(t(195))/2+parseInt(t(184))/3+-parseInt(t(185))/4*(-parseInt(t(189))/5)+parseInt(t(183))/6+parseInt(t(188))/7+-parseInt(t(187))/8*(parseInt(t(186))/9))break;n.push(n.shift())}catch(r){n.push(n.shift())}}(X);var Z=function(){var r=V;function e(){i(this,e)}return M(e,[{key:"on",value:function(r,e,t){var n=V,o=this.e||(this.e={});return(o[r]||(o[r]=[]))[n(197)]({fn:e,ctx:t}),this}},{key:r(196),value:function(r,e,t){var n=this;function o(){var a=V;n[a(190)](r,o);for(var s=arguments[a(192)],i=new Array(s),u=0;u<s;u++)i[u]=arguments[u];e[a(182)](t,i)}return o._=e,this.on(r,o,t)}},{key:"emit",value:function(e){for(var t=r,n=((this.e||(this.e={}))[e]||[]).slice(),o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];for(var i=0;i<n[t(192)];i+=1)n[i].fn[t(182)](n[i][t(194)],a);return this}},{key:r(190),value:function(e,t){var n=r,o=this.e||(this.e={});if(!e)return Object[n(191)](o).forEach((function(r){delete o[r]})),void delete this.e;var a=o[e],s=[];if(a&&t)for(var i=0,u=a.length;i<u;i+=1)a[i].fn!==t&&a[i].fn._!==t&&s[n(197)](a[i]);return s[n(192)]?o[e]=s:delete o[e],this}}]),e}(),Q=ar;!function(r,e){for(var t=ar,n=r();;)try{if(145417===parseInt(t(517))/1*(parseInt(t(514))/2)+parseInt(t(516))/3*(-parseInt(t(521))/4)+parseInt(t(501))/5*(-parseInt(t(507))/6)+-parseInt(t(523))/7+parseInt(t(503))/8+-parseInt(t(505))/9*(-parseInt(t(515))/10)+parseInt(t(506))/11)break;n.push(n.shift())}catch(r){n.push(n.shift())}}(or);var $={debug:Q(509),warn:Q(500)},rr={debug:!1,debugLevel:$[Q(500)],debugUuid:"",decoder:Q(519)},er={init:Q(520),startRecord:"startRecord",stopRecord:Q(526),videoFrame:Q(511),audioFrame:Q(502),destroy:Q(524)},tr={init:Q(520),startRecordError:Q(522),startRecordSuccess:Q(508),recordEnd:Q(512),stopRecordError:Q(518),recordTimestamp:Q(510)},nr={load:Q(513),workerError:"workerError",startRecordSuccess:"startRecordSuccess",startRecordError:"startRecordError",stopRecordError:Q(518),recordEnd:Q(512),recordingTimestamp:Q(525)};function or(){var r=["load","266OrwvnI","1014830KRjwhj","183651rdrXxF","1426YujOzN","stopRecordError","jessibuca-pro-mp4-recorder-decoder.js","init","8mrEaPB","startRecordError","969647VBbRhg","destroy","recordingTimestamp","stopRecord","warn","16215hFzcZY","audioFrame","204056cZeOQu",'"1.0.0"',"18YKjDgc","1547282acMazt","282entwwY","startRecordSuccess","debug","recordTimestamp","videoFrame","recordEnd"];return(or=function(){return r})()}function ar(r,e){var t=or();return(ar=function(r,e){return t[r-=500]})(r,e)}var sr=Q(504);function ir(r){return null==r}function ur(r,e){var t=pr();return(ur=function(r,e){return t[r-=121]})(r,e)}function cr(){return function(r){var e=ur,t="";if(v(r)===e(128))try{t=JSON[e(123)](r),t=JSON.parse(t)}catch(e){t=r}else t=r;return t}(rr)}function fr(r){return!0!==r&&r!==ur(126)}function pr(){var r=["1NUrEif","1742986whAZKU","true","78UWxkEw","object","146887aGxpHa","12SioUXf","3738952nhomqI","100240kgKosx","36YEaLly","163805pFteFx","775032zTcLyt","9303316UnZrLe","14JVjpTe","1536oMaiIF","stringify"];return(pr=function(){return r})()}function dr(){var r=["95WNvPvE","concat","53888tBMarS","apply","[❌❌❌][wasmMp4Recorder][","JbPro","2366436eybotT","22tAPNiJ","32vUPtjT","2aPBnLy","2572968pBFtxA","[❗❗❗][wasmMp4Recorder][","335374ozyJIT","[✅✅✅][wasmMp4Recorder][","log","length","_opt","92727riqsVt","error","debugUuid","warn","31402WrHszN","1160085CgMgkz","470YrmuxB","debug"];return(dr=function(){return r})()}function vr(r,e){var t=dr();return(vr=function(r,e){return t[r-=228]})(r,e)}!function(r,e){for(var t=ur,n=r();;)try{if(497068===-parseInt(t(124))/1*(-parseInt(t(125))/2)+-parseInt(t(130))/3*(-parseInt(t(135))/4)+parseInt(t(134))/5*(parseInt(t(127))/6)+parseInt(t(121))/7*(-parseInt(t(131))/8)+-parseInt(t(133))/9*(parseInt(t(132))/10)+parseInt(t(136))/11+-parseInt(t(122))/12*(parseInt(t(129))/13))break;n.push(n.shift())}catch(r){n.push(n.shift())}}(pr),function(r,e){for(var t=vr,n=r();;)try{if(263116===-parseInt(t(242))/1+-parseInt(t(239))/2*(-parseInt(t(252))/3)+-parseInt(t(232))/4*(parseInt(t(230))/5)+-parseInt(t(240))/6+-parseInt(t(251))/7*(-parseInt(t(238))/8)+-parseInt(t(247))/9*(-parseInt(t(228))/10)+-parseInt(t(237))/11*(-parseInt(t(236))/12))break;n.push(n.shift())}catch(r){n.push(n.shift())}}(dr);var lr=M((function r(e){var t=vr;i(this,r),this[t(244)]=function(r){var n=t;if(e[n(246)].debug&&e._opt.debugLevel==$[n(229)]){for(var o,a=e[n(246)][n(249)]?"["[n(231)](e[n(246)][n(249)],"]"):"",s=arguments[n(245)],i=new Array(s>1?s-1:0),u=1;u<s;u++)i[u-1]=arguments[u];(o=console)[n(244)][n(233)](o,[n(235)[n(231)](a,n(243))[n(231)](r,"]")][n(231)](i))}},this[t(250)]=function(r){var n=t;if(e[n(246)].debug&&(e[n(246)].debugLevel==$[n(229)]||e[n(246)].debugLevel==$.warn)){for(var o,a=e[n(246)][n(249)]?"["[n(231)](e[n(246)][n(249)],"]"):"",s=arguments[n(245)],i=new Array(s>1?s-1:0),u=1;u<s;u++)i[u-1]=arguments[u];(o=console)[n(244)].apply(o,["JbPro"[n(231)](a,n(241))[n(231)](r,"]")][n(231)](i))}},this[t(248)]=function(r){for(var n,o=t,a=e[o(246)][o(249)]?"["[o(231)](e[o(246)].debugUuid,"]"):"",s=arguments[o(245)],i=new Array(s>1?s-1:0),u=1;u<s;u++)i[u-1]=arguments[u];(n=console)[o(248)][o(233)](n,[o(235)[o(231)](a,o(234)).concat(r,"]")][o(231)](i))}}));function hr(){var r=["8745BmtFwp","onmessageerror","604620phTORd","mp4Recorder","log","emit","destroy","sendVideoFrame","startRecordSuccess","data","onerror:","recordEnd","onmessage","buffer","242095aHLmhu","_opt","28wfsdIg","onmessage:","stopRecordError","onmessageerror:","debugLevel","terminate","undefined","recordingTimestamp","135105rjIGnR","startRecord","1396043vJvYwt","off","sham","error","load","TAG_NAME","call","220MUnknG","stopRecord","valueOf","3720546mAePaj","workerError","postMessage","debug","258FQFiwz","_initDecoderWorker","_initWorker","decoderWorker","startRecordError","DecoderWorker","2TrMukn","sendAudioFrame","8772gFeGXv","init","apply","videoFrame","construct","cmd","stringify","9740256mahZWw"];return(hr=function(){return r})()}function Ir(r){var e=function(){var r=br;if(typeof Reflect===r(468)||!Reflect.construct)return!1;if(Reflect[r(498)][r(474)])return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype[r(481)][r(478)](Reflect[r(498)](Boolean,[],(function(){}))),!0}catch(r){return!1}}();return function(){var t,n=br,o=K(r);if(e){var a=K(this).constructor;t=Reflect.construct(o,arguments,a)}else t=o[n(496)](this,arguments);return z(this,t)}}function br(r,e){var t=hr();return(br=function(r,e){return t[r-=464]})(r,e)}!function(r,e){for(var t=br,n=r();;)try{if(776130===parseInt(t(472))/1*(-parseInt(t(492))/2)+-parseInt(t(482))/3+-parseInt(t(518))/4*(parseInt(t(470))/5)+-parseInt(t(486))/6*(-parseInt(t(516))/7)+parseInt(t(501))/8+parseInt(t(504))/9*(parseInt(t(479))/10)+-parseInt(t(502))/11*(parseInt(t(494))/12))break;n.push(n.shift())}catch(r){n.push(n.shift())}}(hr);var mr=function(r){var e=br;J(n,r);var t=Ir(n);function n(r){var e,o=br;i(this,n),(e=t[o(478)](this))[o(505)]=r,e.TAG_NAME=o(491);var a=r[o(517)].decoder;return e[o(489)]=new Worker(a),e[o(487)](),r[o(485)].log(e[o(477)],o(495)),e}return M(n,[{key:"destroy",value:function(){var r=br;this[r(473)](),this[r(489)]&&(this[r(489)][r(467)](),this[r(489)]=null),this[r(505)][r(485)].log(this[r(477)],r(508))}},{key:"_initDecoderWorker",value:function(){var r=br,e=this,t=this[r(505)].debug;this[r(489)].onerror=function(t){var n=r;e[n(505)].debug[n(475)](e[n(477)],n(512),t),e[n(507)](nr[n(483)],t)},this.decoderWorker[r(503)]=function(t){var n=r;e[n(505)][n(485)][n(475)](e[n(477)],n(465),t)},this[r(489)][r(514)]=function(n){var o=r,a=n[o(511)];switch(a[o(499)]){case tr[o(495)]:t[o(506)](e[o(477)],o(519),tr[o(495)]),e[o(489)]&&e[o(488)](),e.emit(nr[o(476)]);break;case tr[o(490)]:e[o(507)](nr[o(490)]);break;case tr[o(510)]:e[o(507)](nr[o(510)]);break;case tr[o(464)]:e[o(507)](nr.stopRecordError);break;case tr.recordEnd:e[o(507)](nr[o(513)],a[o(511)]);break;case tr.recordTimestamp:e.emit(nr[o(469)],a.msg)}}}},{key:"_initWorker",value:function(){var r=br,e={debug:this[r(505)][r(517)][r(485)],debugLevel:this[r(505)][r(517)][r(466)],debugUuid:this.mp4Recorder._opt.debugUuid};this[r(489)].postMessage({cmd:er.init,opt:JSON[r(500)](e)})}},{key:e(509),value:function(r,t,n,o){var a=e;this[a(489)].postMessage({cmd:er[a(497)],data:r,isIFrame:t,dts:n,pts:o},[r[a(515)]])}},{key:e(493),value:function(r,t){var n=e;this.decoderWorker[n(484)]({cmd:er.audioFrame,data:r,ts:t},[r[n(515)]])}},{key:e(471),value:function(r){var t=e;this.decoderWorker[t(484)]({cmd:er[t(471)],streamInfo:r,buildTime:this[t(505)].buildTime})}},{key:e(480),value:function(){var r=e;this.decoderWorker[r(484)]({cmd:er[r(480)]})}}]),n}(Z),yr=wr;function gr(r){var e=function(){var r=wr;if(typeof Reflect===r(451)||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype[r(431)][r(437)](Reflect[r(434)](Boolean,[],(function(){}))),!0}catch(r){return!1}}();return function(){var t,n=wr,o=K(r);if(e){var a=K(this)[n(481)];t=Reflect[n(434)](o,arguments,a)}else t=o[n(452)](this,arguments);return z(this,t)}}function wr(r,e){var t=kr();return(wr=function(r,e){return t[r-=425]})(r,e)}function kr(){var r=["type","512884jMhrgv","sampleRate","now","isRecording is false","concat","error","19848eHFuIQ","log","audio depth can not be undefined","depth","audio","startRecord","TAG_NAME","video","video type can not be undefined","152BggLNR","length","debug","extraData","video width can not be undefined","workerError","buildTime","_destroyWorker",'JbProMp4Recorder option "',"814719SrOFwE","audio type can not be undefined","keys","constructor","JessibucaProMp4Recorder","66KQJqUw","buffer","recordingTimestamp","438KxbKul","sendVideoFrame","video and audio can not be false at the same time","27643gKMSoQ","video height can not be undefined","_opt","audio extraData can not be undefined","load","133155JJupXW","destroy","once","sendAudioFrame","video extraData can not be undefined","34MayVuf","_startRecord","height","emit","valueOf","startRecordError","startTimestamp","construct","stopRecordError","name","call","stopRecord","forEach","_reset","stringify","108370WCTicL","video/mp4",'" can not be undefined',"startRecordSuccess","982450hulpcf","worker","isRecording","JbPro wasm mp4 recorder version is ","assign","undefined","apply"];return(kr=function(){return r})()}!function(r,e){for(var t=wr,n=r();;)try{if(172898===parseInt(t(427))/1*(parseInt(t(460))/2)+parseInt(t(478))/3+-parseInt(t(454))/4+parseInt(t(446))/5+parseInt(t(486))/6*(-parseInt(t(489))/7)+parseInt(t(469))/8*(-parseInt(t(494))/9)+-parseInt(t(442))/10*(-parseInt(t(483))/11))break;n.push(n.shift())}catch(r){n.push(n.shift())}}(kr);var xr=function(r){var e=wr;J(n,r);var t=gr(n);function n(){var r,e=wr,o=arguments[e(470)]>0&&void 0!==arguments[0]?arguments[0]:{};i(this,n),(r=t[e(437)](this))[e(491)]={},Object[e(480)](o)[e(439)]((function(r){var t=e;if(void 0===o[r])throw new Error(t(477)[t(458)](r,t(444)))})),r.originalOptions=o;var a=cr(),s=Object[e(450)]({},a,o);return r[e(491)]=s,r[e(448)]=!1,r.buildTime=s[e(436)]+"-"+s[e(475)],r[e(471)]=new lr(A(r)),r[e(447)]=null,r.startTimestamp=null,r.TAG_NAME="Recorder",r[e(471)].log(r[e(466)],"init",JSON[e(441)](r[e(491)])),console[e(461)](e(449).concat(o[e(475)],":")[e(458)](sr," and is Trial Version[试用版本]")),r}return M(n,[{key:e(495),value:function(){var r=e;this[r(440)](),this[r(476)]()}},{key:e(440),value:function(){var r=e;this[r(448)]=!1,this[r(433)]=null}},{key:e(476),value:function(){this[e(447)]&&(this.worker.destroy(),this.worker=null)}},{key:e(465),value:function(){var r=e,t=this,n=arguments[r(470)]>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(e,o){var a=r;t[a(471)].log(t[a(466)],a(465),JSON[a(441)](n));var s=!!n[a(464)],i=!!n[a(467)];if(fr(i)&&fr(s))return t.debug[a(459)](t[a(466)],"video and audio can not be false at the same time"),void o(a(488));if(s){if(ir(n[a(464)][a(453)]))return t[a(471)][a(459)](t[a(466)],a(479)),void o(a(479));if(ir(n[a(464)][a(472)]))return t[a(471)][a(459)](t[a(466)],"audio extraData can not be undefined"),void o("audio extraData can not be undefined");if(ir(n[a(464)][a(455)]))return t[a(471)][a(459)](t.TAG_NAME,a(492)),void o(a(492));if(ir(n[a(464)].channels))return t[a(471)][a(459)](t[a(466)],"audio channels can not be undefined"),void o("audio channels can not be undefined");if(ir(n[a(464)][a(463)]))return t[a(471)].error(t.TAG_NAME,a(462)),void o(a(462))}if(i){if(ir(n[a(467)][a(453)]))return t.debug[a(459)](t.TAG_NAME,a(468)),void o(a(468));if(ir(n[a(467)].extraData))return t[a(471)][a(459)](t.TAG_NAME,a(426)),void o(a(426));if(ir(n[a(467)].width))return t[a(471)][a(459)](t.TAG_NAME,"video width can not be undefined"),void o(a(473));if(ir(n[a(467)][a(429)]))return t[a(471)][a(459)](t[a(466)],a(490)),void o(a(490))}t[a(447)]?t._startRecord(n,e,o):(t[a(447)]=new mr(t),t[a(447)][a(496)](nr[a(493)],(function(){var r=a;t._startRecord(n,e,o),t[r(433)]=Date[r(456)]()})),t.worker.once(nr[a(474)],(function(r){o(r)})),t[a(447)].on(nr[a(485)],(function(r){var e=a;t[e(430)](nr[e(485)],r)})))}))}},{key:e(428),value:function(){var r=e,t=this,n=arguments[r(470)]>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments[r(470)]>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;this[r(447)][r(465)](n),this[r(447)][r(496)](nr[r(432)],(function(e){var n=r;t[n(471)][n(459)](t[n(466)],n(432),e),a(e)})),this[r(447)].once(nr[r(445)],(function(){var e=r;t[e(448)]=!0,t[e(471)][e(461)](t[e(466)],"startRecordSuccess"),o()}))}},{key:e(438),value:function(){var r=this;return new Promise((function(e,t){var n=wr;r[n(471)].log(r[n(466)],n(438)),fr(r.isRecording)&&(r[n(476)](),r.debug.error(r.TAG_NAME,n(457)),t(n(457))),r[n(448)]=!1,r[n(447)][n(438)](),r[n(447)].once(nr.stopRecordError,(function(e){var o=n;r[o(476)](),r[o(471)][o(459)](r[o(466)],o(435),e),t(e)})),r[n(447)].once(nr.recordEnd,(function(t){var o=n;r[o(476)](),r[o(471)][o(461)](r[o(466)],"recordEnd");var a=new Blob([t[o(484)]],{type:o(443)});e(a)}))}))}},{key:e(487),value:function(r,t,n,o){var a=e;if(this.isRecording&&this.worker){if(Date[a(456)]()-this.startTimestamp>6e5)return;var s=n+o;this[a(447)][a(487)](r,t,n,s)}}},{key:"sendAudioFrame",value:function(r,t){var n=e;if(this[n(448)]&&this[n(447)]){if(Date[n(456)]()-this[n(433)]>6e5)return;this[n(447)][n(425)](r,t)}}}]),n}(Z);window[yr(482)]=xr}));
